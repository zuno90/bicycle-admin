import{q as d,c as o}from"./base-0dcf613d.js";import{i as l,g as i}from"./index-be4aa47d.js";const h=async(a,t,c,r,n)=>{const s=d.stringify({page:a,limit:t,status:c,fromAt:r,toAt:n},{skipNull:!0,skipEmptyString:!0}),e=await l(`${o.endpoint}/orders?${s}`,{Authorization:`Bearer ${i(o.cache.accessToken)}`});if(e.success)return e.data},g=async a=>{const t=await l(`${o.endpoint}/order/${a}`,{Authorization:`Bearer ${i(o.cache.accessToken)}`});if(t.success)return t.data.order},m=async(a,t)=>{const c=d.stringify({fromAt:a,toAt:t},{skipNull:!0,skipEmptyString:!0});try{const r=await fetch(`${o.endpoint}/report/csv?${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i(o.cache.accessToken)}`}});if(!r.ok)throw new Error("Không thể download file!");const n=await r.blob(),s=window.URL.createObjectURL(n);let e=document.getElementById("order-csv-download");return e||(e=document.createElement("a"),e.setAttribute("id","order-csv-download"),document.body.appendChild(e)),e.href=s,e.download="VPBicycle_Bao_cao_don_hang.xlsx",e.click(),window.URL.revokeObjectURL(s),n}catch(r){console.error(r)}};export{h as a,m as b,g};
