import{af as Se}from"./index-02f4ac53.js";const nc=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},sc=e=>({httpHandler:e.httpHandler()});var es;(function(e){e.HEADER="header",e.QUERY="query"})(es||(es={}));var Rt;(function(e){e.HTTP="http",e.HTTPS="https"})(Rt||(Rt={}));var zt;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(zt||(zt={}));var ts;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ts||(ts={}));const ic="__smithy_context";var rs;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(rs||(rs={}));var ns;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ns||(ns={}));class ae{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const t=new ae({...this,headers:{...this.headers}});return t.query&&(t.query=oc(t.query)),t}}function oc(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class Gt{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function ac(e){return t=>async r=>{const{request:n}=r;return ae.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const cc={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},uc=e=>({applyToStack:t=>{t.add(ac(e),cc)}});const fc=e=>t=>async r=>{if(!ae.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},lc={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},dc=e=>({applyToStack:t=>{t.add(fc(e),lc)}}),hc=()=>(e,t)=>async r=>{var n,i;try{const s=await e(r),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:h}=c,l=f??t.inputFilterSensitiveLog,p=h??t.outputFilterSensitiveLog,{$metadata:y,..._}=s.output;return(n=u==null?void 0:u.info)==null||n.call(u,{clientName:o,commandName:a,input:l(r.input),output:p(_),metadata:y}),s}catch(s){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:f}=c,h=f??t.inputFilterSensitiveLog;throw(i=u==null?void 0:u.error)==null||i.call(u,{clientName:o,commandName:a,input:h(r.input),error:s,metadata:s.$metadata}),s}},pc={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},gc=e=>({applyToStack:t=>{t.add(hc(),pc)}}),ss="X-Amzn-Trace-Id",yc="AWS_LAMBDA_FUNCTION_NAME",mc="_X_AMZN_TRACE_ID",bc=e=>t=>async r=>{const{request:n}=r;if(!ae.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(ss))return t(r);const i=process.env[yc],s=process.env[mc],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[ss]=s),t({...r,request:n})},wc={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},_c=e=>({applyToStack:t=>{t.add(bc(e),wc)}});class yo{trace(){}debug(){}info(){}warn(){}error(){}}const Ue=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},Re=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Vt=()=>{let e=[],t=[],r=!1;const n=new Set,i=h=>h.sort((l,p)=>is[p.step]-is[l.step]||os[p.priority||"normal"]-os[l.priority||"normal"]),s=h=>{let l=!1;const p=y=>{const _=Ue(y.name,y.aliases);if(_.includes(h)){l=!0;for(const S of _)n.delete(S);return!1}return!0};return e=e.filter(p),t=t.filter(p),l},o=h=>{let l=!1;const p=y=>{if(y.middleware===h){l=!0;for(const _ of Ue(y.name,y.aliases))n.delete(_);return!1}return!0};return e=e.filter(p),t=t.filter(p),l},a=h=>{var l;return e.forEach(p=>{h.add(p.middleware,{...p})}),t.forEach(p=>{h.addRelativeTo(p.middleware,{...p})}),(l=h.identifyOnResolve)==null||l.call(h,f.identifyOnResolve()),h},u=h=>{const l=[];return h.before.forEach(p=>{p.before.length===0&&p.after.length===0?l.push(p):l.push(...u(p))}),l.push(h),h.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?l.push(p):l.push(...u(p))}),l},c=(h=!1)=>{const l=[],p=[],y={};return e.forEach(S=>{const T={...S,before:[],after:[]};for(const I of Ue(T.name,T.aliases))y[I]=T;l.push(T)}),t.forEach(S=>{const T={...S,before:[],after:[]};for(const I of Ue(T.name,T.aliases))y[I]=T;p.push(T)}),p.forEach(S=>{if(S.toMiddleware){const T=y[S.toMiddleware];if(T===void 0){if(h)return;throw new Error(`${S.toMiddleware} is not found when adding ${Re(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&T.after.push(S),S.relation==="before"&&T.before.push(S)}}),i(l).map(u).reduce((S,T)=>(S.push(...T),S),[])},f={add:(h,l={})=>{const{name:p,override:y,aliases:_}=l,S={step:"initialize",priority:"normal",middleware:h,...l},T=Ue(p,_);if(T.length>0){if(T.some(I=>n.has(I))){if(!y)throw new Error(`Duplicate middleware name '${Re(p,_)}'`);for(const I of T){const q=e.findIndex(Je=>{var et;return Je.name===I||((et=Je.aliases)==null?void 0:et.some(nr=>nr===I))});if(q===-1)continue;const le=e[q];if(le.step!==S.step||S.priority!==le.priority)throw new Error(`"${Re(le.name,le.aliases)}" middleware with ${le.priority} priority in ${le.step} step cannot be overridden by "${Re(p,_)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(q,1)}}for(const I of T)n.add(I)}e.push(S)},addRelativeTo:(h,l)=>{const{name:p,override:y,aliases:_}=l,S={middleware:h,...l},T=Ue(p,_);if(T.length>0){if(T.some(I=>n.has(I))){if(!y)throw new Error(`Duplicate middleware name '${Re(p,_)}'`);for(const I of T){const q=t.findIndex(Je=>{var et;return Je.name===I||((et=Je.aliases)==null?void 0:et.some(nr=>nr===I))});if(q===-1)continue;const le=t[q];if(le.toMiddleware!==S.toMiddleware||le.relation!==S.relation)throw new Error(`"${Re(le.name,le.aliases)}" middleware ${le.relation} "${le.toMiddleware}" middleware cannot be overridden by "${Re(p,_)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(q,1)}}for(const I of T)n.add(I)}t.push(S)},clone:()=>a(Vt()),use:h=>{h.applyToStack(f)},remove:h=>typeof h=="string"?s(h):o(h),removeByTag:h=>{let l=!1;const p=y=>{const{tags:_,name:S,aliases:T}=y;if(_&&_.includes(h)){const I=Ue(S,T);for(const q of I)n.delete(q);return l=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),l},concat:h=>{var p;const l=a(Vt());return l.use(h),l.identifyOnResolve(r||l.identifyOnResolve()||(((p=h.identifyOnResolve)==null?void 0:p.call(h))??!1)),l},applyToStack:a,identify:()=>c(!0).map(h=>{const l=h.step??h.relation+" "+h.toMiddleware;return Re(h.name,h.aliases)+" - "+l}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,l)=>{for(const p of c().map(y=>y.middleware).reverse())h=p(h,l);return r&&console.log(f.identify()),h}};return f},is={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},os={high:3,normal:2,low:1};class xc{constructor(t){this.middlewareStack=Vt(),this.config=t}send(t,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Ne={},Ye=new Array(64);for(let e=0,t="A".charCodeAt(0),r="Z".charCodeAt(0);e+t<=r;e++){const n=String.fromCharCode(e+t);Ne[n]=e,Ye[e]=n}for(let e=0,t="a".charCodeAt(0),r="z".charCodeAt(0);e+t<=r;e++){const n=String.fromCharCode(e+t),i=e+26;Ne[n]=i,Ye[i]=n}for(let e=0;e<10;e++){Ne[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Ne[t]=r,Ye[r]=t}Ne["+"]=62;Ye[62]="+";Ne["/"]=63;Ye[63]="/";const We=6,St=8,Ec=63,kn=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let i=0;i<e.length;i+=4){let s=0,o=0;for(let c=i,f=i+3;c<=f;c++)if(e[c]!=="="){if(!(e[c]in Ne))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);s|=Ne[e[c]]<<(f-c)*We,o+=We}else s>>=We;const a=i/4*3;s>>=o%St;const u=Math.floor(o/St);for(let c=0;c<u;c++){const f=(u-c-1)*St;n.setUint8(a+c,(s&255<<f)>>f)}}return new Uint8Array(r)};function Nn(e){let t="";for(let r=0;r<e.length;r+=3){let n=0,i=0;for(let o=r,a=Math.min(r+3,e.length);o<a;o++)n|=e[o]<<(a-o-1)*St,i+=St;const s=Math.ceil(i/We);n<<=s*We-i;for(let o=1;o<=s;o++){const a=(s-o)*We;t+=Ye[(n&Ec<<a)>>a]}t+="==".slice(0,4-s)}return t}const Ft=e=>new TextEncoder().encode(e),Ke=e=>typeof e=="string"?Ft(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Yt=e=>new TextDecoder("utf-8").decode(e);function Sc(e,t="utf-8"){return t==="base64"?Nn(e):Yt(e)}function vc(e,t){return t==="base64"?ze.mutate(kn(e)):ze.mutate(Ft(e))}class ze extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return vc(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,ze.prototype),t}transformToString(t="utf-8"){return Sc(this,t)}}const Ac=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,u=a?o(i,e):void 0,c=e.getReader();return new ReadableStream({async pull(f){const{value:h,done:l}=await c.read();if(l){if(f.enqueue(`0\r
`),a){const p=r(await u);f.enqueue(`${s}:${p}\r
`),f.enqueue(`\r
`)}f.close()}else f.enqueue(`${(n(h)||0).toString(16)}\r
${h}\r
`)}})},He=e=>encodeURIComponent(e).replace(/[!'()*]/g,Cc),Cc=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Rc(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=He(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${He(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${He(n)}`),t.push(i)}}return t.join("&")}function Tc(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const Oc={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class Pc{constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r!=null&&r.aborted){const _=new Error("Request aborted");return _.name="AbortError",Promise.reject(_)}let s=t.path;const o=Rc(t.query||{});o&&(s+=`?${o}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){const _=t.username??"",S=t.password??"";a=`${_}:${S}@`}const{port:u,method:c}=t,f=`${t.protocol}//${a}${t.hostname}${u?`:${u}`:""}${s}`,l={body:c==="GET"||c==="HEAD"?void 0:t.body,headers:new Headers(t.headers),method:c};typeof AbortController<"u"&&(l.signal=r),Oc.supported&&(l.keepalive=i);const p=new Request(f,l),y=[fetch(p).then(_=>{const S=_.headers,T={};for(const q of S.entries())T[q[0]]=q[1];return _.body!=null?{response:new Gt({headers:T,reason:_.statusText,statusCode:_.status,body:_.body})}:_.blob().then(q=>({response:new Gt({headers:T,reason:_.statusText,statusCode:_.status,body:q})}))}),Tc(n)];return r&&y.push(new Promise((_,S)=>{r.onabort=()=>{const T=new Error("Request aborted");T.name="AbortError",S(T)}})),Promise.race(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const mo=e=>typeof Blob=="function"&&e instanceof Blob?Bc(e):kc(e);async function Bc(e){const t=await Nc(e),r=kn(t);return new Uint8Array(r)}async function kc(e){let t=new Uint8Array(0);const r=e.getReader();let n=!1;for(;!n;){const{done:i,value:s}=await r.read();if(s){const o=t;t=new Uint8Array(o.length+s.length),t.set(o),t.set(s,o.length)}n=i}return t}function Nc(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;t(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const bo={},Xr={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),bo[e]=t,Xr[t]=e}function Mc(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in Xr)t[r/2]=Xr[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function he(e){let t="";for(let r=0;r<e.byteLength;r++)t+=bo[e[r]];return t}const as="The stream has already been transformed.",Ic=e=>{var i,s;if(!cs(e)&&!us(e)){const o=((s=(i=e==null?void 0:e.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1;const r=async()=>{if(t)throw new Error(as);return t=!0,await mo(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return Nn(a);if(o==="hex")return he(a);if(o===void 0||o==="utf8"||o==="utf-8")return Yt(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(as);if(t=!0,cs(e))return n(e);if(us(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},cs=e=>typeof Blob=="function"&&e instanceof Blob,us=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,wo=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return ze.mutate(e);if(!e)return ze.mutate(new Uint8Array);const r=t.streamCollector(e);return ze.mutate(await r)};class Fc{constructor(){this.middlewareStack=Vt()}}const vt="***SensitiveInformation***",Mn=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},$c=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&xo.warn(_o(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Dc=Math.ceil(2**127*(2-2**-23)),fs=e=>{const t=$c(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Dc)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Zr=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},ls=e=>In(e,32),ds=e=>In(e,16),hs=e=>In(e,8),In=(e,t)=>{const r=Zr(e);if(r!==void 0&&Uc(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Uc=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Fn=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Lc=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},ue=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return xo.warn(_o(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},jc=e=>fs(typeof e=="string"?$t(e):e),Hc=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,$t=e=>{const t=e.match(Hc);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},qc=e=>Zr(typeof e=="string"?$t(e):e),ps=e=>ls(typeof e=="string"?$t(e):e),zc=e=>ds(typeof e=="string"?$t(e):e),Gc=e=>hs(typeof e=="string"?$t(e):e),_o=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),xo={warn:console.warn},Vc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Eo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Wc(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),s=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,f=o<10?`0${o}`:`${o}`,h=a<10?`0${a}`:`${a}`;return`${Vc[n]}, ${u} ${Eo[r]} ${t} ${c}:${f}:${h} GMT`}const Kc=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),So=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Kc.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,s,o,a,u,c,f]=t,h=zc(vo(n)),l=At(i,"month",1,12),p=At(s,"day",1,31),y=Xc(h,l,p,{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c});return f.toUpperCase()!="Z"&&y.setTime(y.getTime()-eu(f)),y},Xc=(e,t,r,n)=>{const i=t-1;return Yc(e,i,r),new Date(Date.UTC(e,i,r,At(n.hours,"hour",0,23),At(n.minutes,"minute",0,59),At(n.seconds,"seconds",0,60),Jc(n.fractionalMilliseconds)))},Zc=[31,28,31,30,31,30,31,31,30,31,30,31],Yc=(e,t,r)=>{let n=Zc[t];if(t===1&&Qc(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Eo[t]} in ${e}: ${r}`)},Qc=e=>e%4===0&&(e%100!==0||e%400===0),At=(e,t,r,n)=>{const i=Gc(vo(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},Jc=e=>e==null?0:jc("0."+e)*1e3,eu=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},vo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class $n extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,$n.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const Ao=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},tu=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const i=nu(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw Ao(o,t)},ru=e=>({output:t,parsedBody:r,errorCode:n})=>{tu({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},nu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),su=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},iu=e=>{const t=[];for(const r in zt){const n=zt[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},ou=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},au=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},cu=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},uu=e=>({...iu(e),...au(e)}),fu=e=>({...ou(e),...cu(e)});function gs(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const Yr=e=>Array.isArray(e)?e:[e],Co=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Co(e[r]));return e},Qr=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Qr.prototype=Object.create(String.prototype,{constructor:{value:Qr,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Qr,String);function Me(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,lu(n,i,s);s=t}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}du(n,null,s,o)}return n}const lu=(e,t,r)=>Me(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),du=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=hu,u=pu,c=n]=o;(typeof a=="function"&&a(t[c])||typeof a!="function"&&a)&&(e[n]=u(t[c]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:u&&(e[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},hu=e=>e!=null,pu=e=>e,Jr=(e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>gs(a)).join("/"):gs(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},gu="content-length";function yu(){return(e,t)=>async r=>{var i;const{request:n}=r;if(ae.isInstance(n)&&!n.headers[gu]){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((i=t==null?void 0:t.logger)==null?void 0:i.warn)=="function"&&!(t.logger instanceof yo)?t.logger.warn(s):console.warn(s)}return e({...r})}}const mu={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},bu=e=>({applyToStack:t=>{t.add(yu(),mu)}}),wu=e=>(t,r)=>async n=>{const i=await e.region(),s=e.region;r.__s3RegionRedirect&&(e.region=async()=>(e.region=s,r.__s3RegionRedirect));const o=await t(n);if(r.__s3RegionRedirect){const a=await e.region();if(i!==a)throw new Error("Region was not restored following S3 region redirect.")}return o},_u={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function xu(e){return(t,r)=>async n=>{var i;try{return await t(n)}catch(s){if(e.followRegionRedirects&&s.$metadata.httpStatusCode===301){try{const o=s.$response.headers["x-amz-bucket-region"];(i=r.logger)==null||i.debug(`Redirecting from ${await e.region()} to ${o}`),r.__s3RegionRedirect=o}catch(o){throw new Error("Region redirect failed: "+o)}return t(n)}else throw s}}}const Eu={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Su=e=>({applyToStack:t=>{t.add(xu(e),Eu),t.addRelativeTo(wu(e),_u)}}),vu=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1}),Au=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Cu(){return e=>async t=>{const{input:{Bucket:r}}=t;if(typeof r=="string"&&!Au(r)&&r.indexOf("/")>=0){const n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}const Ru={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Tu=e=>({applyToStack:t=>{t.add(Cu(),Ru)}}),Ro=(e,t,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return t===void 0?async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),n):async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};var sr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var en=function(e,t){return en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},en(e,t)};function Ou(e,t){en(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tn=function(){return tn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tn.apply(this,arguments)};function Pu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Bu(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function ku(e,t){return function(r,n){t(r,n,e)}}function Nu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Mu(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Iu(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Fu(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function $u(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function rn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function To(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Du(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(To(arguments[t]));return e}function Uu(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Tt(e){return this instanceof Tt?(this.v=e,this):new Tt(e)}function Lu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof Tt?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ju(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Tt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Hu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof rn=="function"?rn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function qu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function zu(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Gu(e){return e&&e.__esModule?e:{default:e}}function Vu(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Wu(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Ku=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return tn},__asyncDelegator:ju,__asyncGenerator:Lu,__asyncValues:Hu,__await:Tt,__awaiter:Mu,__classPrivateFieldGet:Vu,__classPrivateFieldSet:Wu,__createBinding:Fu,__decorate:Bu,__exportStar:$u,__extends:Ou,__generator:Iu,__importDefault:Gu,__importStar:zu,__makeTemplateObject:qu,__metadata:Nu,__param:ku,__read:To,__rest:Pu,__spread:Du,__spreadArrays:Uu,__values:rn},Symbol.toStringTag,{value:"Module"})),Oo=Se(Ku);var ir={},tt={};const Xu=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Zu=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++r];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Yu(e){return new TextEncoder().encode(e)}function Qu(e){return new TextDecoder("utf-8").decode(e)}const Ju=e=>typeof TextEncoder=="function"?Yu(e):Xu(e),ef=e=>typeof TextDecoder=="function"?Qu(e):Zu(e),tf=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Ju,toUtf8:ef},Symbol.toStringTag,{value:"Module"})),Qt=Se(tf);var ys;function rf(){if(ys)return tt;ys=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.convertToBuffer=void 0;var e=Qt,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return tt.convertToBuffer=r,tt}var rt={},ms;function nf(){if(ms)return rt;ms=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return rt.isEmptyData=e,rt}var nt={},bs;function sf(){if(bs)return nt;bs=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return nt.numToUint8=e,nt}var st={},ws;function of(){if(ws)return st;ws=1,Object.defineProperty(st,"__esModule",{value:!0}),st.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return st.uint32ArrayFrom=e,st}var _s;function Fe(){return _s||(_s=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=rf();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=nf();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=sf();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=of();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(ir)),ir}var it={},xs;function af(){if(xs)return it;xs=1,Object.defineProperty(it,"__esModule",{value:!0}),it.AwsCrc32=void 0;var e=Oo,t=Fe(),r=Po(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return it.AwsCrc32=n,it}var Es;function Po(){return Es||(Es=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=Oo,r=Fe();function n(u){return new i().update(u).digest()}e.crc32=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var f,h;try{for(var l=t.__values(c),p=l.next();!p.done;p=l.next()){var y=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(_){f={error:_}}finally{try{p&&!p.done&&(h=l.return)&&h.call(l)}finally{if(f)throw f.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=af();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(sr)),sr}var Dn=Po();class Ct{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&Ss(r),new Ct(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&Ss(t),parseInt(he(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Ss(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class Bo{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const s of Object.keys(t)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(Ct.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!yf.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(Mc(t.value.replace(/\-/g,"")),1),h}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const i=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[s]={type:As,value:!0};break;case 1:r[s]={type:As,value:!1};break;case 2:r[s]={type:cf,value:t.getInt8(n++)};break;case 3:r[s]={type:uf,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:ff,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:lf,value:new Ct(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[s]={type:df,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[s]={type:hf,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:pf,value:new Date(new Ct(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:gf,value:`${he(u.subarray(0,4))}-${he(u.subarray(4,6))}-${he(u.subarray(6,8))}-${he(u.subarray(8,10))}-${he(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var vs;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(vs||(vs={}));const As="boolean",cf="byte",uf="short",ff="integer",lf="long",df="binary",hf="string",pf="timestamp",gf="uuid",yf=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ko=4,Be=ko*2,Le=4,mf=Be+Le*2;function bf({byteLength:e,byteOffset:t,buffer:r}){if(e<mf)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),i=n.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(ko,!1),o=n.getUint32(Be,!1),a=n.getUint32(e-Le,!1),u=new Dn.Crc32().update(new Uint8Array(r,t,Be));if(o!==u.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,t+Be,e-(Be+Le))),a!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+Be+Le,s),body:new Uint8Array(r,t+Be+Le+s,i-s-(Be+Le+Le))}}class wf{constructor(t,r){this.headerMarshaller=new Bo(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Dn.Crc32;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(t){const{headers:r,body:n}=bf(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class _f{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class xf{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Ef{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class Sf{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}const we=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},vf="X-Amz-Algorithm",Af="X-Amz-Credential",No="X-Amz-Date",Cf="X-Amz-SignedHeaders",Rf="X-Amz-Expires",Mo="X-Amz-Signature",Io="X-Amz-Security-Token",Fo="authorization",$o=No.toLowerCase(),Tf="date",Of=[Fo,$o,Tf],Pf=Mo.toLowerCase(),nn="x-amz-content-sha256",Bf=Io.toLowerCase(),kf={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Nf=/^proxy-/,Mf=/^sec-/,or="AWS4-HMAC-SHA256",If="AWS4-HMAC-SHA256-PAYLOAD",Ff="UNSIGNED-PAYLOAD",$f=50,Do="aws4_request",Df=60*60*24*7,Dt={},ar=[],cr=(e,t,r)=>`${e}/${t}/${r}/${Do}`,Uf=async(e,t,r,n,i)=>{const s=await Cs(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${he(s)}:${t.sessionToken}`;if(o in Dt)return Dt[o];for(ar.push(o);ar.length>$f;)delete Dt[ar.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,i,Do])a=await Cs(e,a,u);return Dt[o]=a},Cs=(e,t,r)=>{const n=new e(t);return n.update(Ke(r)),n.digest()},Rs=({headers:e},t,r)=>{const n={};for(const i of Object.keys(e).sort()){if(e[i]==null)continue;const s=i.toLowerCase();(s in kf||t!=null&&t.has(s)||Nf.test(s)||Mf.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},Lf=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===Pf)continue;t.push(n);const i=e[n];typeof i=="string"?r[n]=`${He(n)}=${He(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${He(n)}=${He(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},Uo=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",ur=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===nn)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Uo(t)){const n=new r;return n.update(Ke(t)),he(await n.digest())}return Ff},jf=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},Lo=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?Hf(t):void 0}),Hf=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),qf=(e,t={})=>{var i;const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():Lo(e);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=t.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},Ts=e=>{e=typeof e.clone=="function"?e.clone():Lo(e);for(const t of Object.keys(e.headers))Of.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},zf=e=>Gf(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Gf=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class sn{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new Bo(Yt,Ft),this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=we(n),this.credentialProvider=we(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);const h=u??await this.regionProvider(),{longDate:l,shortDate:p}=Ut(n);if(i>Df)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=cr(p,h,c??this.service),_=qf(Ts(t),{unhoistableHeaders:o});f.sessionToken&&(_.query[Io]=f.sessionToken),_.query[vf]=or,_.query[Af]=`${f.accessKeyId}/${y}`,_.query[No]=l,_.query[Rf]=i.toString(10);const S=Rs(_,s,a);return _.query[Cf]=Os(S),_.query[Mo]=await this.getSignature(l,y,this.getSigningKey(f,h,p,c),this.createCanonicalRequest(_,S,await ur(t,this.sha256))),_}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:u,longDate:c}=Ut(n),f=cr(u,a,o??this.service),h=await ur({headers:{},body:r},this.sha256),l=new this.sha256;l.update(t);const p=he(await l.digest()),y=[If,c,f,i,p,h].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=Ut(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(Ke(t)),he(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=s??await this.regionProvider(),c=Ts(t),{longDate:f,shortDate:h}=Ut(r),l=cr(h,u,o??this.service);c.headers[$o]=f,a.sessionToken&&(c.headers[Bf]=a.sessionToken);const p=await ur(c,this.sha256);!jf(nn,c.headers)&&this.applyChecksum&&(c.headers[nn]=p);const y=Rs(c,i,n),_=await this.getSignature(f,l,this.getSigningKey(a,u,h,o),this.createCanonicalRequest(c,y,p));return c.headers[Fo]=`${or} Credential=${a.accessKeyId}/${l}, SignedHeaders=${Os(y)}, Signature=${_}`,c}createCanonicalRequest(t,r,n){const i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Lf(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){const i=new this.sha256;i.update(Ke(n));const s=await i.digest();return`${or}
${t}
${r}
${he(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){const s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update(Ke(s)),he(await o.digest())}getSigningKey(t,r,n,i){return Uf(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const Ut=e=>{const t=zf(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Os=e=>Object.keys(e).sort().join(";"),Vf=3e5,Wf=e=>{const t=e.credentials?Kf(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=we(e.signer):e.regionInfoProvider?s=()=>we(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const f={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},h=e.signerConstructor||sn;return new h(f)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await we(e.region)(),properties:{}},o);const a=o.signingRegion,u=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},f=e.signerConstructor||sn;return new f(c)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},Kf=e=>typeof e=="function"?Ro(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Vf,t=>t.expiration!==void 0):we(e),jo=e=>new Date(Date.now()+e),Xf=(e,t)=>Math.abs(jo(t).getTime()-e)>=3e5,Ps=(e,t)=>{const r=Date.parse(e);return Xf(r,t)?r-Date.now():t},Zf=e=>(t,r)=>async function(n){var c,f,h,l;if(!ae.isInstance(n.request))return t(n);const i=(h=(f=(c=r.endpointV2)==null?void 0:c.properties)==null?void 0:f.authSchemes)==null?void 0:h[0],s=(i==null?void 0:i.name)==="sigv4a"?(l=i==null?void 0:i.signingRegionSet)==null?void 0:l.join(","):void 0,o=await e.signer(i),a=await t({...n,request:await o.sign(n.request,{signingDate:jo(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(p=>{const y=p.ServerTime??Bs(p.$response);throw y&&(e.systemClockOffset=Ps(y,e.systemClockOffset)),p}),u=Bs(a.response);return u&&(e.systemClockOffset=Ps(u,e.systemClockOffset)),a},Bs=e=>{var t,r;return Gt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},Yf={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Qf=e=>({applyToStack:t=>{t.addRelativeTo(Zf(e),Yf)}});function Jf(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const el=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ho=e=>el.test(e)||e.startsWith("[")&&e.endsWith("]"),tl=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Un=(e,t=!1)=>{if(!t)return tl.test(e);const r=e.split(".");for(const n of r)if(!Un(n))return!1;return!0},on={},Ot="endpoints";function Ie(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ie(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ie).join(", ")})`:JSON.stringify(e,null,2)}class pe extends Error{constructor(t){super(t),this.name="EndpointError"}}const rl=(e,t)=>e===t,nl=e=>{const t=e.split("."),r=[];for(const n of t){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new pe(`Path: '${e}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new pe(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},qo=(e,t)=>nl(t).reduce((r,n)=>{if(typeof r!="object")throw new pe(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),sl=e=>e!=null,il=e=>!e,fr={[Rt.HTTP]:80,[Rt.HTTPS]:443},ol=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:l,port:p,protocol:y="",path:_="",query:S={}}=e,T=new URL(`${y}//${l}${p?`:${p}`:""}${_}`);return T.search=Object.entries(S).map(([I,q])=>`${I}=${q}`).join("&"),T}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(Rt).includes(u))return null;const c=Ho(i),f=r.includes(`${n}:${fr[u]}`)||typeof e=="string"&&e.includes(`${n}:${fr[u]}`),h=`${n}${f?`:${fr[u]}`:""}`;return{scheme:u,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},al=(e,t)=>e===t,cl=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),ul=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),fl={booleanEquals:rl,getAttr:qo,isSet:sl,isValidHostLabel:Un,not:il,parseURL:ol,stringEquals:al,substring:cl,uriEncode:ul},zo=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));const o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);const a=e.substring(s+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(qo(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},ll=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Jt=(e,t,r)=>{if(typeof e=="string")return zo(e,r);if(e.fn)return Go(e,r);if(e.ref)return ll(e,r);throw new pe(`'${t}': ${String(e)} is not a string, function or reference.`)},Go=({fn:e,argv:t},r)=>{const n=t.map(s=>["boolean","number"].includes(typeof s)?s:Jt(s,"arg",r)),i=e.split(".");return i[0]in on&&i[1]!=null?on[i[0]][i[1]](...n):fl[e](...n)},dl=({assign:e,...t},r)=>{var i,s;if(e&&e in r.referenceRecord)throw new pe(`'${e}' is already defined in Reference Record.`);const n=Go(t,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,Ot,`evaluateCondition: ${Ie(t)} = ${Ie(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Ln=(e=[],t)=>{var n,i;const r={};for(const s of e){const{result:o,toAssign:a}=dl(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=t.logger)==null?void 0:n.debug)==null||i.call(n,Ot,`assign: ${a.name} := ${Ie(a.value)}`))}return{result:!0,referenceRecord:r}},hl=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=Jt(s,"Header value entry",t);if(typeof o!="string")throw new pe(`Header '${n}' value '${o}' is not a string`);return o})}),{}),Vo=(e,t)=>{if(Array.isArray(e))return e.map(r=>Vo(r,t));switch(typeof e){case"string":return zo(e,t);case"object":if(e===null)throw new pe(`Unexpected endpoint property: ${e}`);return Wo(e,t);case"boolean":return e;default:throw new pe(`Unexpected endpoint property type: ${typeof e}`)}},Wo=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:Vo(i,t)}),{}),pl=(e,t)=>{const r=Jt(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new pe(`Endpoint URL must be a string, got ${typeof r}`)},gl=(e,t)=>{var f,h;const{conditions:r,endpoint:n}=e,{result:i,referenceRecord:s}=Ln(r,t);if(!i)return;const o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return(h=(f=t.logger)==null?void 0:f.debug)==null||h.call(f,Ot,`Resolving endpoint from template: ${Ie(n)}`),{...c!=null&&{headers:hl(c,o)},...u!=null&&{properties:Wo(u,o)},url:pl(a,o)}},yl=(e,t)=>{const{conditions:r,error:n}=e,{result:i,referenceRecord:s}=Ln(r,t);if(i)throw new pe(Jt(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},ml=(e,t)=>{const{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=Ln(r,t);if(i)return Ko(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},Ko=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=gl(r,t);if(n)return n}else if(r.type==="error")yl(r,t);else if(r.type==="tree"){const n=ml(r,t);if(n)return n}else throw new pe(`Unknown endpoint rule: ${r}`);throw new pe("Rules evaluation failed")},bl=(e,t)=>{var c,f,h,l,p;const{endpointParams:r,logger:n}=t,{parameters:i,rules:s}=e;(f=(c=t.logger)==null?void 0:c.debug)==null||f.call(c,`${Ot} Initial EndpointParams: ${Ie(r)}`);const o=Object.entries(i).filter(([,y])=>y.default!=null).map(([y,_])=>[y,_.default]);if(o.length>0)for(const[y,_]of o)r[y]=r[y]??_;const a=Object.entries(i).filter(([,y])=>y.required).map(([y])=>y);for(const y of a)if(r[y]==null)throw new pe(`Missing required parameter: '${y}'`);const u=Ko(s,{endpointParams:r,logger:n,referenceRecord:{}});if((h=t.endpointParams)!=null&&h.Endpoint)try{const y=new URL(t.endpointParams.Endpoint),{protocol:_,port:S}=y;u.url.protocol=_,u.url.port=S}catch{}return(p=(l=t.logger)==null?void 0:l.debug)==null||p.call(l,`${Ot} Resolved endpoint: ${Ie(u)}`),u},Xo=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!Xo(r))return!1;return!0}return!(!Un(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Ho(e))},wl=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},_l=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],xl="1.1",El={partitions:_l,version:xl};let Sl=El;const vl=e=>{const{partitions:t}=Sl;for(const n of t){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(const n of t){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Al={isVirtualHostableS3Bucket:Xo,parseArn:wl,partition:vl};on.aws=Al;const ks="user-agent",lr="x-amz-user-agent",Ns=" ",dr="/",Cl=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Rl=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Ms="-",Tl=e=>(t,r)=>async n=>{var h,l;const{request:i}=n;if(!ae.isInstance(i))return t(n);const{headers:s}=i,o=((h=r==null?void 0:r.userAgent)==null?void 0:h.map(hr))||[],a=(await e.defaultUserAgentProvider()).map(hr),u=((l=e==null?void 0:e.customUserAgent)==null?void 0:l.map(hr))||[],c=[].concat([...a,...o,...u]).join(Ns),f=[...a.filter(p=>p.startsWith("aws-sdk-")),...u].join(Ns);return e.runtime!=="browser"?(f&&(s[lr]=s[lr]?`${s[ks]} ${f}`:f),s[ks]=c):s[lr]=c,t({...n,request:i})},hr=e=>{var o;const t=e[0].split(dr).map(a=>a.replace(Cl,Ms)).join(dr),r=(o=e[1])==null?void 0:o.replace(Rl,Ms),n=t.indexOf(dr),i=t.substring(0,n);let s=t.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},Ol={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Pl=e=>({applyToStack:t=>{t.add(Tl(e),Ol)}});var Is;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Is||(Is={}));const Bl=!1,kl=!1,Zo=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Fs=e=>Zo(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Nl=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Fs(t);const n=await t();return Fs(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return Zo(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},Ml=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),$s="content-length";function Il(e){return t=>async r=>{const n=r.request;if(ae.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf($s)===-1)try{const o=e(i);n.headers={...n.headers,[$s]:String(o)}}catch{}}return t({...r,request:n})}}const Fl={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},$l=e=>({applyToStack:t=>{t.add(Il(e.bodyLengthChecker),Fl)}}),Dl=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ql(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Hl(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Ul=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Ll=/(\d+\.){3}\d+/,jl=/\.\./,Hl=e=>Ul.test(e)&&!Ll.test(e)&&!jl.test(e),ql=e=>{const[t,r,n,i,s,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,u=[t,r,n,s,o].filter(Boolean).length===5;if(a&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!o},zl=(e,t,r)=>{const n=async()=>{const i=r[e]??r[t];return typeof i=="function"?i():i};return e==="endpoint"||t==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},Gl=async e=>{};function Vl(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const Wt=e=>{if(typeof e=="string")return Wt(new URL(e));const{hostname:t,pathname:r,port:n,protocol:i,search:s}=e;let o;return s&&(o=Vl(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},Yo=e=>typeof e=="object"?"url"in e?Wt(e.url):e:Wt(e),Wl=async(e,t,r,n)=>{if(!r.endpoint){const o=await Gl(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(Yo(o)))}const i=await Kl(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},Kl=async(e,t,r)=>{var s;const n={},i=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await zl(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Dl(n),n},Xl=({config:e,instructions:t})=>(r,n)=>async i=>{var a,u;const s=await Wl(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(u=n.authSchemes)==null?void 0:u[0];return o&&(n.signing_region=o.signingRegion,n.signing_service=o.signingName),r({...i})},Zl=(e,t)=>(r,n)=>async i=>{const{response:s}=await r(i);try{const o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a}throw o}},Yl=(e,t)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await t(i.input,{...e,endpoint:s});return r({...i,request:o})},Ql={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Qo={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Jl(e,t,r){return{applyToStack:n=>{n.add(Zl(e,r),Ql),n.add(Yl(e,t),Qo)}}}const ed={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Qo.name},td=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Xl({config:e,instructions:t}),ed)}}),rd=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Yo(await we(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:we(e.useDualstackEndpoint??!1),useFipsEndpoint:we(e.useFipsEndpoint??!1)}};var Xe;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Xe||(Xe={}));const Kt=3,nd=Xe.STANDARD,sd=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],id=["TimeoutError","RequestTimeout","RequestTimeoutException"],od=[500,502,503,504],ad=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Jo=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||sd.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ea=e=>{var t;return id.includes(e.name)||ad.includes((e==null?void 0:e.code)||"")||od.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},cd=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ea(e)}return!1};class ud{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Jo(t)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const an=100,ta=20*1e3,fd=500,Ds=500,ld=5,dd=10,hd=1,pd="amz-sdk-invocation-id",gd="amz-sdk-request",yd=()=>{let e=an;return{computeNextBackoffDelay:n=>Math.floor(Math.min(ta,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Us=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(ta,e),getRetryCost:()=>r});class ra{constructor(t){this.maxAttempts=t,this.mode=Xe.STANDARD,this.capacity=Ds,this.retryBackoffStrategy=yd(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Us({retryDelay:an,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?fd:an);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,Us({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ds,this.capacity+(t.getRetryCost()??hd))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Kt}`),Kt}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?dd:ld}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class md{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Xe.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new ud,this.standardRetryStrategy=new ra(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}var Lt,bd=new Uint8Array(16);function wd(){if(!Lt&&(Lt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Lt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lt(bd)}const _d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xd(e){return typeof e=="string"&&_d.test(e)}var Y=[];for(var pr=0;pr<256;++pr)Y.push((pr+256).toString(16).substr(1));function Ed(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Y[e[t+0]]+Y[e[t+1]]+Y[e[t+2]]+Y[e[t+3]]+"-"+Y[e[t+4]]+Y[e[t+5]]+"-"+Y[e[t+6]]+Y[e[t+7]]+"-"+Y[e[t+8]]+Y[e[t+9]]+"-"+Y[e[t+10]]+Y[e[t+11]]+Y[e[t+12]]+Y[e[t+13]]+Y[e[t+14]]+Y[e[t+15]]).toLowerCase();if(!xd(r))throw TypeError("Stringified UUID is invalid");return r}function Sd(e,t,r){e=e||{};var n=e.random||(e.rng||wd)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Ed(n)}const vd=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Ad=e=>{const{retryStrategy:t}=e,r=we(e.maxAttempts??Kt);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await we(e.retryMode)()===Xe.ADAPTIVE?new md(r):new ra(r))}},Cd=e=>(t,r)=>async n=>{let i=await e.retryStrategy();const s=await e.maxAttempts();if(Rd(i)){i=i;let o=await i.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,c=0;const{request:f}=n;for(ae.isInstance(f)&&(f.headers[pd]=Sd());;)try{ae.isInstance(f)&&(f.headers[gd]=`attempt=${u+1}; max=${s}`);const{response:h,output:l}=await t(n);return i.recordSuccess(o),l.$metadata.attempts=u+1,l.$metadata.totalRetryDelay=c,{response:h,output:l}}catch(h){const l=Td(h);a=vd(h);try{o=await i.refreshRetryTokenForRetry(o,l)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,a}u=o.getRetryCount();const p=o.getRetryDelay();c+=p,await new Promise(y=>setTimeout(y,p))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},Rd=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Td=e=>{const t={errorType:Od(e)},r=kd(e.$response);return r&&(t.retryAfterHint=r),t},Od=e=>Jo(e)?"THROTTLING":ea(e)?"TRANSIENT":cd(e)?"SERVER_ERROR":"CLIENT_ERROR",Pd={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Bd=e=>({applyToStack:t=>{t.add(Cd(e),Pd)}}),kd=e=>{if(!Gt.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},Nd=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Md="@aws-sdk/client-s3",Id="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",Fd="3.441.0",$d={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},Dd="./dist-cjs/index.js",Ud="./dist-types/index.d.ts",Ld="./dist-es/index.js",jd=!1,Hd={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.441.0","@aws-sdk/core":"3.441.0","@aws-sdk/credential-provider-node":"3.441.0","@aws-sdk/middleware-bucket-endpoint":"3.433.0","@aws-sdk/middleware-expect-continue":"3.433.0","@aws-sdk/middleware-flexible-checksums":"3.433.0","@aws-sdk/middleware-host-header":"3.433.0","@aws-sdk/middleware-location-constraint":"3.433.0","@aws-sdk/middleware-logger":"3.433.0","@aws-sdk/middleware-recursion-detection":"3.433.0","@aws-sdk/middleware-sdk-s3":"3.440.0","@aws-sdk/middleware-signing":"3.433.0","@aws-sdk/middleware-ssec":"3.433.0","@aws-sdk/middleware-user-agent":"3.438.0","@aws-sdk/region-config-resolver":"3.433.0","@aws-sdk/signature-v4-multi-region":"3.437.0","@aws-sdk/types":"3.433.0","@aws-sdk/util-endpoints":"3.438.0","@aws-sdk/util-user-agent-browser":"3.433.0","@aws-sdk/util-user-agent-node":"3.437.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^2.0.16","@smithy/eventstream-serde-browser":"^2.0.12","@smithy/eventstream-serde-config-resolver":"^2.0.12","@smithy/eventstream-serde-node":"^2.0.12","@smithy/fetch-http-handler":"^2.2.4","@smithy/hash-blob-browser":"^2.0.12","@smithy/hash-node":"^2.0.12","@smithy/hash-stream-node":"^2.0.12","@smithy/invalid-dependency":"^2.0.12","@smithy/md5-js":"^2.0.12","@smithy/middleware-content-length":"^2.0.14","@smithy/middleware-endpoint":"^2.1.3","@smithy/middleware-retry":"^2.0.18","@smithy/middleware-serde":"^2.0.12","@smithy/middleware-stack":"^2.0.6","@smithy/node-config-provider":"^2.1.3","@smithy/node-http-handler":"^2.1.8","@smithy/protocol-http":"^3.0.8","@smithy/smithy-client":"^2.1.12","@smithy/types":"^2.4.0","@smithy/url-parser":"^2.0.12","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.16","@smithy/util-defaults-mode-node":"^2.0.21","@smithy/util-endpoints":"^1.0.2","@smithy/util-retry":"^2.0.5","@smithy/util-stream":"^2.0.17","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.12","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},qd={"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},zd={node:">=14.0.0"},Gd={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},Vd=["dist-*/**"],Wd={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},Kd="Apache-2.0",Xd={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},Zd="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Yd={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},Qd={name:Md,description:Id,version:Fd,scripts:$d,main:Dd,types:Ud,module:Ld,sideEffects:jd,dependencies:Hd,devDependencies:qd,engines:zd,typesVersions:Gd,files:Vd,author:Wd,license:Kd,browser:Xd,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:Zd,repository:Yd};var na={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cn=function(e,t){return cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cn(e,t)};function Jd(e,t){cn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var un=function(){return un=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},un.apply(this,arguments)};function eh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function th(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function rh(e,t){return function(r,n){t(r,n,e)}}function nh(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function sh(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function ih(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function oh(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function ah(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function fn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ch(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sa(arguments[t]));return e}function uh(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Pt(e){return this instanceof Pt?(this.v=e,this):new Pt(e)}function fh(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof Pt?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function lh(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Pt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function dh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fn=="function"?fn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function hh(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ph(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function gh(e){return e&&e.__esModule?e:{default:e}}function yh(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function mh(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const bh=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return un},__asyncDelegator:lh,__asyncGenerator:fh,__asyncValues:dh,__await:Pt,__awaiter:sh,__classPrivateFieldGet:yh,__classPrivateFieldSet:mh,__createBinding:oh,__decorate:th,__exportStar:ah,__extends:Jd,__generator:ih,__importDefault:gh,__importStar:ph,__makeTemplateObject:hh,__metadata:nh,__param:rh,__read:sa,__rest:eh,__spread:ch,__spreadArrays:uh,__values:fn},Symbol.toStringTag,{value:"Module"})),wh=Se(bh);var ot={},at={},ct={},Ls;function ia(){if(Ls)return ct;Ls=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return ct.isEmptyData=e,ct}var gr={},js;function oa(){return js||(js=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_1=e.SHA_1_HMAC_ALGO=e.SHA_1_HASH=void 0,e.SHA_1_HASH={name:"SHA-1"},e.SHA_1_HMAC_ALGO={name:"HMAC",hash:e.SHA_1_HASH},e.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(gr)),gr}const _h={};function xh(){return typeof window<"u"?window:typeof self<"u"?self:_h}const Eh=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:xh},Symbol.toStringTag,{value:"Module"})),Qe=Se(Eh);var Hs;function aa(){if(Hs)return at;Hs=1,Object.defineProperty(at,"__esModule",{value:!0}),at.Sha1=void 0;var e=ia(),t=oa(),r=Qt,n=Qe,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(f){return f.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},f.process(o(u)),f}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,f){u.onerror=function(){f(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),f(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_1_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();at.Sha1=i;function s(a){return new Promise(function(u,c){var f=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_1_HMAC_ALGO,!1,["sign"]);f.oncomplete=function(){f.result&&u(f.result),c(new Error("ImportKey completed without importing key."))},f.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return at}var ut={},qs;function ca(){if(qs)return ut;qs=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.Sha1=void 0;var e=Qt,t=ia(),r=oa(),n=Qe,i=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(u,c){(0,n.locateWindow)().crypto.subtle.importKey("raw",s(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(u,c)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,t.isEmptyData)(a)){var u=s(a),c=new Uint8Array(this.toHash.byteLength+u.byteLength);c.set(this.toHash,0),c.set(u,this.toHash.byteLength),this.toHash=c}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(u){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,u,a.toHash).then(function(c){return new Uint8Array(c)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(u){return Promise.resolve(new Uint8Array(u))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();ut.Sha1=i;function s(o){return typeof o=="string"?(0,e.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return ut}var yr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ln=function(e,t){return ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ln(e,t)};function Sh(e,t){ln(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var dn=function(){return dn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},dn.apply(this,arguments)};function vh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ah(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Ch(e,t){return function(r,n){t(r,n,e)}}function Rh(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Th(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Oh(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ph(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Bh(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function hn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ua(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function kh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ua(arguments[t]));return e}function Nh(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Bt(e){return this instanceof Bt?(this.v=e,this):new Bt(e)}function Mh(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof Bt?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ih(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Bt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Fh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hn=="function"?hn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function $h(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Dh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Uh(e){return e&&e.__esModule?e:{default:e}}function Lh(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function jh(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Hh=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return dn},__asyncDelegator:Ih,__asyncGenerator:Mh,__asyncValues:Fh,__await:Bt,__awaiter:Th,__classPrivateFieldGet:Lh,__classPrivateFieldSet:jh,__createBinding:Ph,__decorate:Ah,__exportStar:Bh,__extends:Sh,__generator:Oh,__importDefault:Uh,__importStar:Dh,__makeTemplateObject:$h,__metadata:Rh,__param:Ch,__read:ua,__rest:vh,__spread:kh,__spreadArrays:Nh,__values:hn},Symbol.toStringTag,{value:"Module"})),fa=Se(Hh);var ye={},zs;function qh(){if(zs)return ye;zs=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.supportsZeroByteGCM=ye.supportsSubtleCrypto=ye.supportsSecureRandom=ye.supportsWebCrypto=void 0;var e=fa,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}ye.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}ye.supportsSecureRandom=n;function i(o){return o&&t.every(function(a){return typeof o[a]=="function"})}ye.supportsSubtleCrypto=i;function s(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!i(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return ye.supportsZeroByteGCM=s,ye}var Gs;function la(){return Gs||(Gs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=fa;t.__exportStar(qh(),e)}(yr)),yr}var mr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pn=function(e,t){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pn(e,t)};function zh(e,t){pn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gn=function(){return gn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},gn.apply(this,arguments)};function Gh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Vh(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Wh(e,t){return function(r,n){t(r,n,e)}}function Kh(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xh(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Zh(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Yh(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Qh(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function yn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function da(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Jh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(da(arguments[t]));return e}function ep(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function kt(e){return this instanceof kt?(this.v=e,this):new kt(e)}function tp(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof kt?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rp(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:kt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function np(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof yn=="function"?yn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function sp(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ip(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function op(e){return e&&e.__esModule?e:{default:e}}function ap(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function cp(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const up=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gn},__asyncDelegator:rp,__asyncGenerator:tp,__asyncValues:np,__await:kt,__awaiter:Xh,__classPrivateFieldGet:ap,__classPrivateFieldSet:cp,__createBinding:Yh,__decorate:Vh,__exportStar:Qh,__extends:zh,__generator:Zh,__importDefault:op,__importStar:ip,__makeTemplateObject:sp,__metadata:Kh,__param:Wh,__read:da,__rest:Gh,__spread:Jh,__spreadArrays:ep,__values:yn},Symbol.toStringTag,{value:"Module"})),fp=Se(up);var br={},Vs;function lp(){return Vs||(Vs=1,Object.defineProperty(br,"__esModule",{value:!0})),br}var wr={},Ws;function dp(){return Ws||(Ws=1,Object.defineProperty(wr,"__esModule",{value:!0})),wr}var _r={},Ks;function hp(){return Ks||(Ks=1,Object.defineProperty(_r,"__esModule",{value:!0})),_r}var xr={},Xs;function pp(){return Xs||(Xs=1,Object.defineProperty(xr,"__esModule",{value:!0})),xr}var ft={},Zs;function gp(){if(Zs)return ft;Zs=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return e.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return ft.isMsWindow=r,ft}var Ys;function ha(){return Ys||(Ys=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=fp;t.__exportStar(lp(),e),t.__exportStar(dp(),e),t.__exportStar(hp(),e),t.__exportStar(pp(),e),t.__exportStar(gp(),e)}(mr)),mr}var Qs;function yp(){if(Qs)return ot;Qs=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.Sha1=void 0;var e=aa(),t=ca(),r=la(),n=ha(),i=Qe,s=Fe(),o=function(){function a(u){if((0,r.supportsWebCrypto)((0,i.locateWindow)()))this.hash=new t.Sha1(u);else if((0,n.isMsWindow)((0,i.locateWindow)()))this.hash=new e.Sha1(u);else throw new Error("SHA1 not supported")}return a.prototype.update=function(u,c){this.hash.update((0,s.convertToBuffer)(u))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return ot.Sha1=o,ot}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha1=e.Ie11Sha1=void 0;var t=wh;t.__exportStar(yp(),e);var r=aa();Object.defineProperty(e,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=ca();Object.defineProperty(e,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(na);var pa={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mn=function(e,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mn(e,t)};function mp(e,t){mn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bn=function(){return bn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bn.apply(this,arguments)};function bp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function wp(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function _p(e,t){return function(r,n){t(r,n,e)}}function xp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ep(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Sp(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function vp(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ap(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function wn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ga(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Cp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ga(arguments[t]));return e}function Rp(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Nt(e){return this instanceof Nt?(this.v=e,this):new Nt(e)}function Tp(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof Nt?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Op(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Nt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Pp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wn=="function"?wn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Bp(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function kp(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Np(e){return e&&e.__esModule?e:{default:e}}function Mp(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Ip(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Fp=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return bn},__asyncDelegator:Op,__asyncGenerator:Tp,__asyncValues:Pp,__await:Nt,__awaiter:Ep,__classPrivateFieldGet:Mp,__classPrivateFieldSet:Ip,__createBinding:vp,__decorate:wp,__exportStar:Ap,__extends:mp,__generator:Sp,__importDefault:Np,__importStar:kp,__makeTemplateObject:Bp,__metadata:xp,__param:_p,__read:ga,__rest:bp,__spread:Cp,__spreadArrays:Rp,__values:wn},Symbol.toStringTag,{value:"Module"})),$p=Se(Fp);var lt={},dt={},ht={},Js;function Dp(){if(Js)return ht;Js=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return ht.isEmptyData=e,ht}var Er={},ei;function ya(){return ei||(ei=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Er)),Er}var ti;function ma(){if(ti)return dt;ti=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.Sha256=void 0;var e=Dp(),t=ya(),r=Qt,n=Qe,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(f){return f.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},f.process(o(u)),f}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,f){u.onerror=function(){f(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),f(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();dt.Sha256=i;function s(a){return new Promise(function(u,c){var f=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);f.oncomplete=function(){f.result&&u(f.result),c(new Error("ImportKey completed without importing key."))},f.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return dt}var pt={},ri;function ba(){if(ri)return pt;ri=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.Sha256=void 0;var e=Fe(),t=ya(),r=Qe,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return pt.Sha256=n,pt}var Sr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _n=function(e,t){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_n(e,t)};function Up(e,t){_n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xn=function(){return xn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xn.apply(this,arguments)};function Lp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function jp(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Hp(e,t){return function(r,n){t(r,n,e)}}function qp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function zp(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Gp(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Vp(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Wp(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function En(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Kp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wa(arguments[t]));return e}function Xp(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Mt(e){return this instanceof Mt?(this.v=e,this):new Mt(e)}function Zp(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof Mt?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Yp(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Mt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Qp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof En=="function"?En(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Jp(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function e0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t0(e){return e&&e.__esModule?e:{default:e}}function r0(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function n0(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const s0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return xn},__asyncDelegator:Yp,__asyncGenerator:Zp,__asyncValues:Qp,__await:Mt,__awaiter:zp,__classPrivateFieldGet:r0,__classPrivateFieldSet:n0,__createBinding:Vp,__decorate:jp,__exportStar:Wp,__extends:Up,__generator:Gp,__importDefault:t0,__importStar:e0,__makeTemplateObject:Jp,__metadata:qp,__param:Hp,__read:wa,__rest:Lp,__spread:Kp,__spreadArrays:Xp,__values:En},Symbol.toStringTag,{value:"Module"})),_a=Se(s0);var gt={},de={},ni;function xa(){return ni||(ni=1,Object.defineProperty(de,"__esModule",{value:!0}),de.MAX_HASHABLE_LENGTH=de.INIT=de.KEY=de.DIGEST_LENGTH=de.BLOCK_SIZE=void 0,de.BLOCK_SIZE=64,de.DIGEST_LENGTH=32,de.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),de.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],de.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),de}var yt={},si;function i0(){if(si)return yt;si=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.RawSha256=void 0;var e=xa(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],u=s[2],c=s[3],f=s[4],h=s[5],l=s[6],p=s[7],y=0;y<e.BLOCK_SIZE;y++){if(y<16)this.temp[y]=(i[y*4]&255)<<24|(i[y*4+1]&255)<<16|(i[y*4+2]&255)<<8|i[y*4+3]&255;else{var _=this.temp[y-2],S=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10;_=this.temp[y-15];var T=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3;this.temp[y]=(S+this.temp[y-7]|0)+(T+this.temp[y-16]|0)}var I=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&l)|0)+(p+(e.KEY[y]+this.temp[y]|0)|0)|0,q=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;p=l,l=h,h=f,f=c+I|0,c=u,u=a,a=o,o=I+q|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=f,s[5]+=h,s[6]+=l,s[7]+=p},r}();return yt.RawSha256=t,yt}var ii;function o0(){if(ii)return gt;ii=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.Sha256=void 0;var e=_a,t=xa(),r=i0(),n=Fe(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();gt.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return gt}var oi;function a0(){return oi||(oi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_a;t.__exportStar(o0(),e)}(Sr)),Sr}var ai;function c0(){if(ai)return lt;ai=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.Sha256=void 0;var e=ma(),t=ba(),r=a0(),n=la(),i=ha(),s=Qe,o=Fe(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,f){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return lt.Sha256=a,lt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=$p;t.__exportStar(c0(),e);var r=ma();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=ba();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(pa);const u0={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ea={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},L={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ie={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ke={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class m{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=m.getVersionPrecision(t),s=m.getVersionPrecision(r);let o=Math.max(i,s),a=0;const u=m.map([t,r],c=>{const f=o-m.getVersionPrecision(c),h=c+new Array(f+1).join(".0");return m.map(h.split("."),l=>new Array(20-l.length).join("0")+l).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return u0[t]}static getBrowserTypeByAlias(t){return Ea[t]||""}}const F=/version\/(\d+(\.?_?\d+)+)/i,f0=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=m.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=m.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=m.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=m.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=m.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=m.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=m.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=m.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=m.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=m.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=m.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=m.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=m.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=m.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=m.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=m.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=m.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=m.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=m.getFirstMatch(F,e)||m.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=m.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=m.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=m.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=m.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=m.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=m.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=m.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=m.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=m.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=m.getFirstMatch(F,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:m.getFirstMatch(i,e),version:m.getSecondMatch(i,e)}}}],l0=[{test:[/Roku\/DVP/],describe(e){const t=m.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ie.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=m.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ie.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=m.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=m.getWindowsVersionName(t);return{name:ie.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ie.iOS},r=m.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=m.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=m.getMacOSVersionName(t),n={name:ie.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=m.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ie.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=m.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=m.getAndroidVersionName(t),n={name:ie.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=m.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:ie.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=m.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||m.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||m.getFirstMatch(/\bbb(\d+)/i,e);return{name:ie.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=m.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ie.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=m.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ie.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:ie.Linux}}},{test:[/CrOS/],describe(){return{name:ie.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=m.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ie.PlayStation4,version:t}}}],d0=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=m.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:L.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:L.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:L.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:L.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:L.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:L.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:L.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=m.getFirstMatch(/(ipod|iphone)/i,e);return{type:L.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:L.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:L.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:L.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:L.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:L.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:L.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:L.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:L.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:L.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:L.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:L.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:L.tv}}}],h0=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:ke.Blink};const r=m.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ke.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:ke.Trident},r=m.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:ke.Presto},r=m.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:ke.Gecko},r=m.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ke.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:ke.WebKit},r=m.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class ci{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=m.find(f0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=m.find(l0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=m.find(d0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=m.find(h0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return m.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(i[a]=u,s+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=m.find(a,f=>this.isOS(f));if(u){const f=this.satisfies(r[u]);if(f!==void 0)return f}const c=m.find(a,f=>this.isPlatform(f));if(c){const f=this.satisfies(r[c]);if(f!==void 0)return f}}if(s>0){const a=Object.keys(i),u=m.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=m.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(m.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Sa{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new ci(t,r)}static parse(t){return new ci(t).getResult()}static get BROWSER_MAP(){return Ea}static get ENGINE_MAP(){return ke}static get OS_MAP(){return ie}static get PLATFORMS_MAP(){return L}}const p0=({serviceId:e,clientVersion:t})=>async()=>{var i,s,o,a,u;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?Sa.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((u=r==null?void 0:r.browser)==null?void 0:u.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n};function g0(e){let t=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:u,done:c}=await a.next();if(c){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const f=u.length;let h=0;for(;h<f;){if(!n){const p=f-h;i||(i=new Uint8Array(4));const y=Math.min(4-r,p);if(i.set(u.slice(h,h+y),r),r+=y,h+=y,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const l=Math.min(t-r,f-h);n.set(u.slice(h,h+l),r),r+=l,h+=l,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function y0(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await e(s);if(o.$unknown){const a=new Error(t(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await e(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let m0=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new wf(t,r),this.utfEncoder=t}deserialize(t,r){const n=g0(t);return new Ef({messageStream:new _f({inputStream:n,decoder:this.eventStreamCodec}),deserializer:y0(r,this.utfEncoder)})}serialize(t,r){return new xf({messageStream:new Sf({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const b0=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),w0=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await t.next();if(n)return r.close();r.enqueue(i)}})};class _0{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new m0({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=x0(t)?b0(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?w0(n):n}}const x0=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,E0=e=>new _0(e);function S0(e,t,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=e.size;let a=0;function u(){if(a>=o){n();return}s.readAsArrayBuffer(e.slice(a,Math.min(o,a+r)))}s.addEventListener("load",c=>{const f=c.target.result;t(new Uint8Array(f)),a+=f.byteLength,u()}),u()})}const v0=async function(t,r){const n=new t;return await S0(r,i=>{n.update(i)}),n.digest()},A0=e=>()=>Promise.reject(e),Te=64,C0=16,R0=[1732584193,4023233417,2562383102,271733878];class T0{constructor(){this.reset()}update(t){if(O0(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=P0(t);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===Te&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%Te>=Te-8){for(let o=this.bufferLength;o<Te;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Te-8;o++)r.setUint8(o,0);r.setUint32(Te-8,s>>>0,!0),r.setUint32(Te-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(C0));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=ee(n,i,s,o,t.getUint32(0,!0),7,3614090360),o=ee(o,n,i,s,t.getUint32(4,!0),12,3905402710),s=ee(s,o,n,i,t.getUint32(8,!0),17,606105819),i=ee(i,s,o,n,t.getUint32(12,!0),22,3250441966),n=ee(n,i,s,o,t.getUint32(16,!0),7,4118548399),o=ee(o,n,i,s,t.getUint32(20,!0),12,1200080426),s=ee(s,o,n,i,t.getUint32(24,!0),17,2821735955),i=ee(i,s,o,n,t.getUint32(28,!0),22,4249261313),n=ee(n,i,s,o,t.getUint32(32,!0),7,1770035416),o=ee(o,n,i,s,t.getUint32(36,!0),12,2336552879),s=ee(s,o,n,i,t.getUint32(40,!0),17,4294925233),i=ee(i,s,o,n,t.getUint32(44,!0),22,2304563134),n=ee(n,i,s,o,t.getUint32(48,!0),7,1804603682),o=ee(o,n,i,s,t.getUint32(52,!0),12,4254626195),s=ee(s,o,n,i,t.getUint32(56,!0),17,2792965006),i=ee(i,s,o,n,t.getUint32(60,!0),22,1236535329),n=te(n,i,s,o,t.getUint32(4,!0),5,4129170786),o=te(o,n,i,s,t.getUint32(24,!0),9,3225465664),s=te(s,o,n,i,t.getUint32(44,!0),14,643717713),i=te(i,s,o,n,t.getUint32(0,!0),20,3921069994),n=te(n,i,s,o,t.getUint32(20,!0),5,3593408605),o=te(o,n,i,s,t.getUint32(40,!0),9,38016083),s=te(s,o,n,i,t.getUint32(60,!0),14,3634488961),i=te(i,s,o,n,t.getUint32(16,!0),20,3889429448),n=te(n,i,s,o,t.getUint32(36,!0),5,568446438),o=te(o,n,i,s,t.getUint32(56,!0),9,3275163606),s=te(s,o,n,i,t.getUint32(12,!0),14,4107603335),i=te(i,s,o,n,t.getUint32(32,!0),20,1163531501),n=te(n,i,s,o,t.getUint32(52,!0),5,2850285829),o=te(o,n,i,s,t.getUint32(8,!0),9,4243563512),s=te(s,o,n,i,t.getUint32(28,!0),14,1735328473),i=te(i,s,o,n,t.getUint32(48,!0),20,2368359562),n=re(n,i,s,o,t.getUint32(20,!0),4,4294588738),o=re(o,n,i,s,t.getUint32(32,!0),11,2272392833),s=re(s,o,n,i,t.getUint32(44,!0),16,1839030562),i=re(i,s,o,n,t.getUint32(56,!0),23,4259657740),n=re(n,i,s,o,t.getUint32(4,!0),4,2763975236),o=re(o,n,i,s,t.getUint32(16,!0),11,1272893353),s=re(s,o,n,i,t.getUint32(28,!0),16,4139469664),i=re(i,s,o,n,t.getUint32(40,!0),23,3200236656),n=re(n,i,s,o,t.getUint32(52,!0),4,681279174),o=re(o,n,i,s,t.getUint32(0,!0),11,3936430074),s=re(s,o,n,i,t.getUint32(12,!0),16,3572445317),i=re(i,s,o,n,t.getUint32(24,!0),23,76029189),n=re(n,i,s,o,t.getUint32(36,!0),4,3654602809),o=re(o,n,i,s,t.getUint32(48,!0),11,3873151461),s=re(s,o,n,i,t.getUint32(60,!0),16,530742520),i=re(i,s,o,n,t.getUint32(8,!0),23,3299628645),n=ne(n,i,s,o,t.getUint32(0,!0),6,4096336452),o=ne(o,n,i,s,t.getUint32(28,!0),10,1126891415),s=ne(s,o,n,i,t.getUint32(56,!0),15,2878612391),i=ne(i,s,o,n,t.getUint32(20,!0),21,4237533241),n=ne(n,i,s,o,t.getUint32(48,!0),6,1700485571),o=ne(o,n,i,s,t.getUint32(12,!0),10,2399980690),s=ne(s,o,n,i,t.getUint32(40,!0),15,4293915773),i=ne(i,s,o,n,t.getUint32(4,!0),21,2240044497),n=ne(n,i,s,o,t.getUint32(32,!0),6,1873313359),o=ne(o,n,i,s,t.getUint32(60,!0),10,4264355552),s=ne(s,o,n,i,t.getUint32(24,!0),15,2734768916),i=ne(i,s,o,n,t.getUint32(52,!0),21,1309151649),n=ne(n,i,s,o,t.getUint32(16,!0),6,4149444226),o=ne(o,n,i,s,t.getUint32(44,!0),10,3174756917),s=ne(s,o,n,i,t.getUint32(8,!0),15,718787259),i=ne(i,s,o,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(R0),this.buffer=new DataView(new ArrayBuffer(Te)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function er(e,t,r,n,i,s){return t=(t+e&4294967295)+(n+s&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function ee(e,t,r,n,i,s,o){return er(t&r|~t&n,e,t,i,s,o)}function te(e,t,r,n,i,s,o){return er(t&n|r&~n,e,t,i,s,o)}function re(e,t,r,n,i,s,o){return er(t^r^n,e,t,i,s,o)}function ne(e,t,r,n,i,s,o){return er(r^(t|~n),e,t,i,s,o)}function O0(e){return typeof e=="string"?e.length===0:e.byteLength===0}function P0(e){return typeof e=="string"?Ft(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const B0=e=>{if(typeof e=="string"){let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},k0={CrtSignerV4:null};class N0{constructor(t){this.sigv4Signer=new sn(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=k0.CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const jn="required",d="type",g="conditions",b="fn",w="argv",P="ref",Q="assign",A="url",C="properties",ve="authSchemes",Ae="disableDoubleEncoding",Ce="signingName",$e="signingRegion",R="headers",ui=!1,_e=!0,xe="isSet",x="tree",se="booleanEquals",v="error",Xt="aws.partition",U="stringEquals",H="getAttr",ge="name",mt="substring",va="hardwareType",Aa="regionPrefix",fi="bucketAliasSuffix",Sn="outpostId",Ge="isValidHostLabel",be="not",Ca="parseURL",Hn="s3-outposts",E="endpoint",li="aws.isVirtualHostableS3Bucket",Ze="s3",Ra="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Ta="{url#scheme}://{Bucket}.{url#authority}{url#path}",Oa="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",di="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Pa="aws.parseArn",Ba="bucketArn",ka="arnType",Zt="",qn="s3-object-lambda",Na="accesspoint",zn="accessPointName",hi="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",pi="mrapPartition",gi="outpostType",yi="arnPrefix",Ma="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",mi="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",vn="{url#scheme}://{url#authority}{url#path}",bi="https://s3.{partitionResult#dnsSuffix}",vr={[jn]:!1,[d]:"String"},Ve={[jn]:!0,default:!1,[d]:"Boolean"},Ar={[jn]:!1,[d]:"Boolean"},me={[b]:se,[w]:[{[P]:"Accelerate"},!0]},D={[b]:se,[w]:[{[P]:"UseFIPS"},!0]},$={[b]:se,[w]:[{[P]:"UseDualStack"},!0]},j={[b]:xe,[w]:[{[P]:"Endpoint"}]},Ia={[b]:Xt,[w]:[{[P]:"Region"}],[Q]:"partitionResult"},wi={[b]:U,[w]:[{[b]:H,[w]:[{[P]:"partitionResult"},ge]},"aws-cn"]},Fa={[b]:xe,[w]:[{[P]:"Bucket"}]},Ee={[P]:"Bucket"},_i={[P]:va},xi={[g]:[{[b]:be,[w]:[j]}],[v]:"Expected a endpoint to be specified but no endpoint was found",[d]:v},O={[b]:be,[w]:[j]},oe={[b]:Ca,[w]:[{[P]:"Endpoint"}],[Q]:"url"},jt={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:Hn,[$e]:"{Region}"}]},k={},Cr={[b]:se,[w]:[{[P]:"ForcePathStyle"},!1]},M0={[P]:"ForcePathStyle"},z={[b]:se,[w]:[{[P]:"Accelerate"},!1]},W={[b]:U,[w]:[{[P]:"Region"},"aws-global"]},K={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:Ze,[$e]:"us-east-1"}]},M={[b]:be,[w]:[W]},X={[b]:se,[w]:[{[P]:"UseGlobalEndpoint"},!0]},Ei={[A]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:{[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:Ze,[$e]:"{Region}"}]},[R]:{}},V={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:Ze,[$e]:"{Region}"}]},Z={[b]:se,[w]:[{[P]:"UseGlobalEndpoint"},!1]},N={[b]:se,[w]:[{[P]:"UseDualStack"},!1]},Si={[A]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},B={[b]:se,[w]:[{[P]:"UseFIPS"},!1]},vi={[A]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},Ai={[A]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},Rr={[b]:se,[w]:[{[b]:H,[w]:[{[P]:"url"},"isIp"]},!0]},$a={[P]:"url"},Tr={[b]:se,[w]:[{[b]:H,[w]:[$a,"isIp"]},!1]},Or={[A]:Ra,[C]:V,[R]:{}},An={[A]:Ta,[C]:V,[R]:{}},Ci={[E]:An,[d]:E},Pr={[A]:Oa,[C]:V,[R]:{}},Ri={[A]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},Ht={[v]:"Invalid region: region was not a valid DNS name.",[d]:v},fe={[P]:Ba},Da={[P]:ka},Br={[b]:H,[w]:[fe,"service"]},Gn={[P]:zn},Ti={[g]:[$],[v]:"S3 Object Lambda does not support Dual-stack",[d]:v},Oi={[g]:[me],[v]:"S3 Object Lambda does not support S3 Accelerate",[d]:v},Pi={[g]:[{[b]:xe,[w]:[{[P]:"DisableAccessPoints"}]},{[b]:se,[w]:[{[P]:"DisableAccessPoints"},!0]}],[v]:"Access points are not supported for this operation",[d]:v},kr={[g]:[{[b]:xe,[w]:[{[P]:"UseArnRegion"}]},{[b]:se,[w]:[{[P]:"UseArnRegion"},!1]},{[b]:be,[w]:[{[b]:U,[w]:[{[b]:H,[w]:[fe,"region"]},"{Region}"]}]}],[v]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[d]:v},Ua={[b]:H,[w]:[{[P]:"bucketPartition"},ge]},La={[b]:H,[w]:[fe,"accountId"]},Nr={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:qn,[$e]:"{bucketArn#region}"}]},Bi={[v]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[d]:v},Mr={[v]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[d]:v},Ir={[v]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[d]:v},Fr={[v]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[d]:v},ki={[v]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[d]:v},Ni={[v]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[d]:v},bt={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:Ze,[$e]:"{bucketArn#region}"}]},Mi={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:Hn,[$e]:"{bucketArn#region}"}]},Ii={[b]:Pa,[w]:[Ee]},Fi={[A]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:V,[R]:{}},$i={[A]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:V,[R]:{}},Di={[A]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:V,[R]:{}},$r={[A]:Ma,[C]:V,[R]:{}},Ui={[A]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:V,[R]:{}},Li={[P]:"UseObjectLambdaEndpoint"},Dr={[ve]:[{[Ae]:!0,[ge]:"sigv4",[Ce]:qn,[$e]:"{Region}"}]},ji={[A]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},Hi={[A]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},qi={[A]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},Ur={[A]:vn,[C]:V,[R]:{}},zi={[A]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[C]:V,[R]:{}},Lr=[{[P]:"Region"}],I0=[{[P]:"Endpoint"}],Gi=[Ee],Vi=[{[b]:Ge,[w]:[{[P]:Sn},!1]}],Wi=[{[b]:U,[w]:[{[P]:Aa},"beta"]}],wt=[j,oe],Ki=[Fa],Oe=[Ia],Xi=[{[b]:Ge,[w]:[{[P]:"Region"},!1]}],Pe=[{[b]:U,[w]:[{[P]:"Region"},"us-east-1"]}],jr=[{[b]:U,[w]:[Da,Na]}],Zi=[{[b]:H,[w]:[fe,"resourceId[1]"],[Q]:zn},{[b]:be,[w]:[{[b]:U,[w]:[Gn,Zt]}]}],F0=[fe,"resourceId[1]"],Yi=[$],Hr=[me],qr=[{[b]:be,[w]:[{[b]:U,[w]:[{[b]:H,[w]:[fe,"region"]},Zt]}]}],Qi=[{[b]:be,[w]:[{[b]:xe,[w]:[{[b]:H,[w]:[fe,"resourceId[2]"]}]}]}],$0=[fe,"resourceId[2]"],zr=[{[b]:Xt,[w]:[{[b]:H,[w]:[fe,"region"]}],[Q]:"bucketPartition"}],Ji=[{[b]:U,[w]:[Ua,{[b]:H,[w]:[{[P]:"partitionResult"},ge]}]}],Gr=[{[b]:Ge,[w]:[{[b]:H,[w]:[fe,"region"]},!0]}],Vr=[{[b]:Ge,[w]:[La,!1]}],eo=[{[b]:Ge,[w]:[Gn,!1]}],qt=[D],to=[{[b]:Ge,[w]:[{[P]:"Region"},!0]}],D0={version:"1.0",parameters:{Bucket:vr,Region:vr,UseFIPS:Ve,UseDualStack:Ve,Endpoint:vr,ForcePathStyle:Ve,Accelerate:Ve,UseGlobalEndpoint:Ve,UseObjectLambdaEndpoint:Ar,DisableAccessPoints:Ar,DisableMultiRegionAccessPoints:Ve,UseArnRegion:Ar},rules:[{[g]:[{[b]:xe,[w]:Lr}],[d]:x,rules:[{[g]:[me,D],error:"Accelerate cannot be used with FIPS",[d]:v},{[g]:[$,j],error:"Cannot set dual-stack in combination with a custom endpoint.",[d]:v},{[g]:[j,D],error:"A custom endpoint cannot be combined with FIPS",[d]:v},{[g]:[j,me],error:"A custom endpoint cannot be combined with S3 Accelerate",[d]:v},{[g]:[D,Ia,wi],error:"Partition does not support FIPS",[d]:v},{[g]:[Fa,{[b]:mt,[w]:[Ee,49,50,_e],[Q]:va},{[b]:mt,[w]:[Ee,8,12,_e],[Q]:Aa},{[b]:mt,[w]:[Ee,0,7,_e],[Q]:fi},{[b]:mt,[w]:[Ee,32,49,_e],[Q]:Sn},{[b]:Xt,[w]:Lr,[Q]:"regionPartition"},{[b]:U,[w]:[{[P]:fi},"--op-s3"]}],[d]:x,rules:[{[g]:Vi,[d]:x,rules:[{[g]:[{[b]:U,[w]:[_i,"e"]}],[d]:x,rules:[{[g]:Wi,[d]:x,rules:[xi,{[g]:wt,endpoint:{[A]:"https://{Bucket}.ec2.{url#authority}",[C]:jt,[R]:k},[d]:E}]},{endpoint:{[A]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[C]:jt,[R]:k},[d]:E}]},{[g]:[{[b]:U,[w]:[_i,"o"]}],[d]:x,rules:[{[g]:Wi,[d]:x,rules:[xi,{[g]:wt,endpoint:{[A]:"https://{Bucket}.op-{outpostId}.{url#authority}",[C]:jt,[R]:k},[d]:E}]},{endpoint:{[A]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[C]:jt,[R]:k},[d]:E}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[d]:v}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[d]:v}]},{[g]:Ki,[d]:x,rules:[{[g]:[j,{[b]:be,[w]:[{[b]:xe,[w]:[{[b]:Ca,[w]:I0}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[d]:v},{[g]:[Cr,{[b]:li,[w]:[Ee,ui]}],[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:Xi,[d]:x,rules:[{[g]:[me,wi],error:"S3 Accelerate cannot be used in this region",[d]:v},{[g]:[$,D,z,O,W],endpoint:{[A]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[$,D,z,O,M,X],[d]:x,rules:[{endpoint:Ei,[d]:E}]},{[g]:[$,D,z,O,M,Z],endpoint:Ei,[d]:E},{[g]:[N,D,z,O,W],endpoint:{[A]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[N,D,z,O,M,X],[d]:x,rules:[{endpoint:Si,[d]:E}]},{[g]:[N,D,z,O,M,Z],endpoint:Si,[d]:E},{[g]:[$,B,me,O,W],endpoint:{[A]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[$,B,me,O,M,X],[d]:x,rules:[{endpoint:vi,[d]:E}]},{[g]:[$,B,me,O,M,Z],endpoint:vi,[d]:E},{[g]:[$,B,z,O,W],endpoint:{[A]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[$,B,z,O,M,X],[d]:x,rules:[{endpoint:Ai,[d]:E}]},{[g]:[$,B,z,O,M,Z],endpoint:Ai,[d]:E},{[g]:[N,B,z,j,oe,Rr,W],endpoint:{[A]:Ra,[C]:K,[R]:k},[d]:E},{[g]:[N,B,z,j,oe,Tr,W],endpoint:{[A]:Ta,[C]:K,[R]:k},[d]:E},{[g]:[N,B,z,j,oe,Rr,M,X],[d]:x,rules:[{[g]:Pe,endpoint:Or,[d]:E},{endpoint:Or,[d]:E}]},{[g]:[N,B,z,j,oe,Tr,M,X],[d]:x,rules:[{[g]:Pe,endpoint:An,[d]:E},Ci]},{[g]:[N,B,z,j,oe,Rr,M,Z],endpoint:Or,[d]:E},{[g]:[N,B,z,j,oe,Tr,M,Z],endpoint:An,[d]:E},{[g]:[N,B,me,O,W],endpoint:{[A]:Oa,[C]:K,[R]:k},[d]:E},{[g]:[N,B,me,O,M,X],[d]:x,rules:[{[g]:Pe,endpoint:Pr,[d]:E},{endpoint:Pr,[d]:E}]},{[g]:[N,B,me,O,M,Z],endpoint:Pr,[d]:E},{[g]:[N,B,z,O,W],endpoint:{[A]:di,[C]:K,[R]:k},[d]:E},{[g]:[N,B,z,O,M,X],[d]:x,rules:[{[g]:Pe,endpoint:{[A]:di,[C]:V,[R]:k},[d]:E},{endpoint:Ri,[d]:E}]},{[g]:[N,B,z,O,M,Z],endpoint:Ri,[d]:E}]},Ht]}]},{[g]:[j,oe,{[b]:U,[w]:[{[b]:H,[w]:[$a,"scheme"]},"http"]},{[b]:li,[w]:[Ee,_e]},Cr,B,N,z],[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:Xi,[d]:x,rules:[Ci]},Ht]}]},{[g]:[Cr,{[b]:Pa,[w]:Gi,[Q]:Ba}],[d]:x,rules:[{[g]:[{[b]:H,[w]:[fe,"resourceId[0]"],[Q]:ka},{[b]:be,[w]:[{[b]:U,[w]:[Da,Zt]}]}],[d]:x,rules:[{[g]:[{[b]:U,[w]:[Br,qn]}],[d]:x,rules:[{[g]:jr,[d]:x,rules:[{[g]:Zi,[d]:x,rules:[Ti,Oi,{[g]:qr,[d]:x,rules:[Pi,{[g]:Qi,[d]:x,rules:[kr,{[g]:zr,[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:Ji,[d]:x,rules:[{[g]:Gr,[d]:x,rules:[{[g]:[{[b]:U,[w]:[La,Zt]}],error:"Invalid ARN: Missing account id",[d]:v},{[g]:Vr,[d]:x,rules:[{[g]:eo,[d]:x,rules:[{[g]:wt,endpoint:{[A]:hi,[C]:Nr,[R]:k},[d]:E},{[g]:qt,endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Nr,[R]:k},[d]:E},{endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Nr,[R]:k},[d]:E}]},Bi]},Mr]},Ir]},Fr]}]}]},ki]},{error:"Invalid ARN: bucket ARN is missing a region",[d]:v}]},Ni]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[d]:v}]},{[g]:jr,[d]:x,rules:[{[g]:Zi,[d]:x,rules:[{[g]:qr,[d]:x,rules:[{[g]:jr,[d]:x,rules:[{[g]:qr,[d]:x,rules:[Pi,{[g]:Qi,[d]:x,rules:[kr,{[g]:zr,[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:[{[b]:U,[w]:[Ua,"{partitionResult#name}"]}],[d]:x,rules:[{[g]:Gr,[d]:x,rules:[{[g]:[{[b]:U,[w]:[Br,Ze]}],[d]:x,rules:[{[g]:Vr,[d]:x,rules:[{[g]:eo,[d]:x,rules:[{[g]:Hr,error:"Access Points do not support S3 Accelerate",[d]:v},{[g]:[D,$],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:bt,[R]:k},[d]:E},{[g]:[D,N],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:bt,[R]:k},[d]:E},{[g]:[B,$],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:bt,[R]:k},[d]:E},{[g]:[B,N,j,oe],endpoint:{[A]:hi,[C]:bt,[R]:k},[d]:E},{[g]:[B,N],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:bt,[R]:k},[d]:E}]},Bi]},Mr]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[d]:v}]},Ir]},Fr]}]}]},ki]}]}]},{[g]:[{[b]:Ge,[w]:[Gn,_e]}],[d]:x,rules:[{[g]:Yi,error:"S3 MRAP does not support dual-stack",[d]:v},{[g]:qt,error:"S3 MRAP does not support FIPS",[d]:v},{[g]:Hr,error:"S3 MRAP does not support S3 Accelerate",[d]:v},{[g]:[{[b]:se,[w]:[{[P]:"DisableMultiRegionAccessPoints"},_e]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[d]:v},{[g]:[{[b]:Xt,[w]:Lr,[Q]:pi}],[d]:x,rules:[{[g]:[{[b]:U,[w]:[{[b]:H,[w]:[{[P]:pi},ge]},{[b]:H,[w]:[fe,"partition"]}]}],[d]:x,rules:[{endpoint:{[A]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[C]:{[ve]:[{[Ae]:_e,name:"sigv4a",[Ce]:Ze,signingRegionSet:["*"]}]},[R]:k},[d]:E}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[d]:v}]}]},{error:"Invalid Access Point Name",[d]:v}]},Ni]},{[g]:[{[b]:U,[w]:[Br,Hn]}],[d]:x,rules:[{[g]:Yi,error:"S3 Outposts does not support Dual-stack",[d]:v},{[g]:qt,error:"S3 Outposts does not support FIPS",[d]:v},{[g]:Hr,error:"S3 Outposts does not support S3 Accelerate",[d]:v},{[g]:[{[b]:xe,[w]:[{[b]:H,[w]:[fe,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[d]:v},{[g]:[{[b]:H,[w]:F0,[Q]:Sn}],[d]:x,rules:[{[g]:Vi,[d]:x,rules:[kr,{[g]:zr,[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:Ji,[d]:x,rules:[{[g]:Gr,[d]:x,rules:[{[g]:Vr,[d]:x,rules:[{[g]:[{[b]:H,[w]:$0,[Q]:gi}],[d]:x,rules:[{[g]:[{[b]:H,[w]:[fe,"resourceId[3]"],[Q]:zn}],[d]:x,rules:[{[g]:[{[b]:U,[w]:[{[P]:gi},Na]}],[d]:x,rules:[{[g]:wt,endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[C]:Mi,[R]:k},[d]:E},{endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Mi,[R]:k},[d]:E}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[d]:v}]},{error:"Invalid ARN: expected an access point name",[d]:v}]},{error:"Invalid ARN: Expected a 4-component resource",[d]:v}]},Mr]},Ir]},Fr]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[d]:v}]},{error:"Invalid ARN: The Outpost Id was not set",[d]:v}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[d]:v}]},{error:"Invalid ARN: No ARN type specified",[d]:v}]},{[g]:[{[b]:mt,[w]:[Ee,0,4,ui],[Q]:yi},{[b]:U,[w]:[{[P]:yi},"arn:"]},{[b]:be,[w]:[{[b]:xe,[w]:[Ii]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[d]:v},{[g]:[{[b]:se,[w]:[M0,_e]},Ii],error:"Path-style addressing cannot be used with ARN buckets",[d]:v},{[g]:[{[b]:"uriEncode",[w]:Gi,[Q]:"uri_encoded_bucket"}],[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:[z],[d]:x,rules:[{[g]:[$,O,D,W],endpoint:{[A]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:K,[R]:k},[d]:E},{[g]:[$,O,D,M,X],[d]:x,rules:[{endpoint:Fi,[d]:E}]},{[g]:[$,O,D,M,Z],endpoint:Fi,[d]:E},{[g]:[N,O,D,W],endpoint:{[A]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:K,[R]:k},[d]:E},{[g]:[N,O,D,M,X],[d]:x,rules:[{endpoint:$i,[d]:E}]},{[g]:[N,O,D,M,Z],endpoint:$i,[d]:E},{[g]:[$,O,B,W],endpoint:{[A]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:K,[R]:k},[d]:E},{[g]:[$,O,B,M,X],[d]:x,rules:[{endpoint:Di,[d]:E}]},{[g]:[$,O,B,M,Z],endpoint:Di,[d]:E},{[g]:[N,j,oe,B,W],endpoint:{[A]:Ma,[C]:K,[R]:k},[d]:E},{[g]:[N,j,oe,B,M,X],[d]:x,rules:[{[g]:Pe,endpoint:$r,[d]:E},{endpoint:$r,[d]:E}]},{[g]:[N,j,oe,B,M,Z],endpoint:$r,[d]:E},{[g]:[N,O,B,W],endpoint:{[A]:mi,[C]:K,[R]:k},[d]:E},{[g]:[N,O,B,M,X],[d]:x,rules:[{[g]:Pe,endpoint:{[A]:mi,[C]:V,[R]:k},[d]:E},{endpoint:Ui,[d]:E}]},{[g]:[N,O,B,M,Z],endpoint:Ui,[d]:E}]},{error:"Path-style addressing cannot be used with S3 Accelerate",[d]:v}]}]}]},{[g]:[{[b]:xe,[w]:[Li]},{[b]:se,[w]:[Li,_e]}],[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:to,[d]:x,rules:[Ti,Oi,{[g]:wt,endpoint:{[A]:vn,[C]:Dr,[R]:k},[d]:E},{[g]:qt,endpoint:{[A]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[C]:Dr,[R]:k},[d]:E},{endpoint:{[A]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[C]:Dr,[R]:k},[d]:E}]},Ht]}]},{[g]:[{[b]:be,[w]:Ki}],[d]:x,rules:[{[g]:Oe,[d]:x,rules:[{[g]:to,[d]:x,rules:[{[g]:[D,$,O,W],endpoint:{[A]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[D,$,O,M,X],[d]:x,rules:[{endpoint:ji,[d]:E}]},{[g]:[D,$,O,M,Z],endpoint:ji,[d]:E},{[g]:[D,N,O,W],endpoint:{[A]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[D,N,O,M,X],[d]:x,rules:[{endpoint:Hi,[d]:E}]},{[g]:[D,N,O,M,Z],endpoint:Hi,[d]:E},{[g]:[B,$,O,W],endpoint:{[A]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:K,[R]:k},[d]:E},{[g]:[B,$,O,M,X],[d]:x,rules:[{endpoint:qi,[d]:E}]},{[g]:[B,$,O,M,Z],endpoint:qi,[d]:E},{[g]:[B,N,j,oe,W],endpoint:{[A]:vn,[C]:K,[R]:k},[d]:E},{[g]:[B,N,j,oe,M,X],[d]:x,rules:[{[g]:Pe,endpoint:Ur,[d]:E},{endpoint:Ur,[d]:E}]},{[g]:[B,N,j,oe,M,Z],endpoint:Ur,[d]:E},{[g]:[B,N,O,W],endpoint:{[A]:bi,[C]:K,[R]:k},[d]:E},{[g]:[B,N,O,M,X],[d]:x,rules:[{[g]:Pe,endpoint:{[A]:bi,[C]:V,[R]:k},[d]:E},{endpoint:zi,[d]:E}]},{[g]:[B,N,O,M,Z],endpoint:zi,[d]:E}]},Ht]}]}]},{error:"A region must be set when sending requests to S3.",[d]:v}]},U0=D0,L0=(e,t={})=>bl(U0,{endpointParams:e,logger:t.logger}),j0=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??kn,base64Encoder:(e==null?void 0:e.base64Encoder)??Nn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??L0,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??Ac,logger:(e==null?void 0:e.logger)??new yo,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??Ic,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??N0,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Wt,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Ft,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Yt}),H0=["in-region","cross-region","mobile","standard","legacy"],q0=({defaultsMode:e}={})=>Ro(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(z0()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${H0.join(", ")}, got ${t}`)}}),z0=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?Sa.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},G0=e=>{const t=q0(e),r=()=>t().then(su),n=j0(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??B0,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??p0({serviceId:n.serviceId,clientVersion:Qd.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??E0,maxAttempts:(e==null?void 0:e.maxAttempts)??Kt,md5:(e==null?void 0:e.md5)??T0,region:(e==null?void 0:e.region)??A0("Region is missing"),requestHandler:(e==null?void 0:e.requestHandler)??new Pc(r),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await r()).retryMode||nd),sha1:(e==null?void 0:e.sha1)??na.Sha1,sha256:(e==null?void 0:e.sha256)??pa.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??mo,streamHasher:(e==null?void 0:e.streamHasher)??v0,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Bl)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(kl))}},V0=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},W0=e=>({region:e.region()}),Wr=e=>e,K0=(e,t)=>{const r={...Wr(V0(e)),...Wr(uu(e)),...Wr(nc(e))};return t.forEach(n=>n.configure(r)),{...e,...W0(r),...fu(r),...sc(r)}};class X0 extends xc{constructor(...[t]){const r=G0(t||{}),n=Nd(r),i=Nl(n),s=rd(i),o=Ad(s),a=o,u=Wf(a),c=vu(u),f=Jf(c),h=Ml(f),l=K0(h,(t==null?void 0:t.extensions)||[]);super(l),this.config=l,this.middlewareStack.use(Bd(this.config)),this.middlewareStack.use($l(this.config)),this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(gc(this.config)),this.middlewareStack.use(_c(this.config)),this.middlewareStack.use(Qf(this.config)),this.middlewareStack.use(Tu(this.config)),this.middlewareStack.use(uc(this.config)),this.middlewareStack.use(Su(this.config)),this.middlewareStack.use(Pl(this.config))}destroy(){super.destroy()}}var Vn={},tr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,u){const c=[];let f=u.exec(a);for(;f;){const h=[];h.startIndex=u.lastIndex-f[0].length;const l=f.length;for(let p=0;p<l;p++)h.push(f[p]);c.push(h),f=u.exec(a)}return c},o=function(a){const u=i.exec(a);return!(u===null||typeof u>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,u,c){if(u){const f=Object.keys(u),h=f.length;for(let l=0;l<h;l++)c==="strict"?a[f[l]]=[u[f[l]]]:a[f[l]]=u[f[l]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=o,e.getAllMatches=s,e.nameRegexp=n})(tr);const Wn=tr,Z0={allowBooleanAttributes:!1,unpairedTags:[]};Vn.validate=function(e,t){t=Object.assign({},Z0,t);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=no(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=so(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let u="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)u+=e[s];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),s--),!sg(u)){let h;return u.trim().length===0?h="Invalid space after '<'.":h="Tag '"+u+"' is an invalid name.",G("InvalidTag",h,ce(e,s))}const c=J0(e,s);if(c===!1)return G("InvalidAttr","Attributes for '"+u+"' have open quote.",ce(e,s));let f=c.value;if(s=c.index,f[f.length-1]==="/"){const h=s-f.length;f=f.substring(0,f.length-1);const l=io(f,t);if(l===!0)n=!0;else return G(l.err.code,l.err.msg,ce(e,h+l.err.line))}else if(a)if(c.tagClosed){if(f.trim().length>0)return G("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",ce(e,o));{const h=r.pop();if(u!==h.tagName){let l=ce(e,h.tagStartPos);return G("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+l.line+", col "+l.col+") instead of closing tag '"+u+"'.",ce(e,o))}r.length==0&&(i=!0)}}else return G("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",ce(e,s));else{const h=io(f,t);if(h!==!0)return G(h.err.code,h.err.msg,ce(e,s-f.length+h.err.line));if(i===!0)return G("InvalidXml","Multiple possible root nodes found.",ce(e,s));t.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=so(e,s);continue}else if(e[s+1]==="?"){if(s=no(e,++s),s.err)return s}else break;else if(e[s]==="&"){const h=rg(e,s);if(h==-1)return G("InvalidChar","char '&' is not expected.",ce(e,s));s=h}else if(i===!0&&!ro(e[s]))return G("InvalidXml","Extra text at the end",ce(e,s));e[s]==="<"&&s--}}else{if(ro(e[s]))continue;return G("InvalidChar","char '"+e[s]+"' is not expected.",ce(e,s))}if(n){if(r.length==1)return G("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ce(e,r[0].tagStartPos));if(r.length>0)return G("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return G("InvalidXml","Start tag expected.",1);return!0};function ro(e){return e===" "||e==="	"||e===`
`||e==="\r"}function no(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return G("InvalidXml","XML declaration allowed only at the start of the document.",ce(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function so(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const Y0='"',Q0="'";function J0(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Y0||e[t]===Q0)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const eg=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function io(e,t){const r=Wn.getAllMatches(e,eg),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return G("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",_t(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return G("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",_t(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return G("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",_t(r[i]));const s=r[i][2];if(!ng(s))return G("InvalidAttr","Attribute '"+s+"' is an invalid name.",_t(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return G("InvalidAttr","Attribute '"+s+"' is repeated.",_t(r[i]))}return!0}function tg(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function rg(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,tg(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function G(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function ng(e){return Wn.isName(e)}function sg(e){return Wn.isName(e)}function ce(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function _t(e){return e.startIndex+e[1].length}var Kn={};const ja={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},ig=function(e){return Object.assign({},ja,e)};Kn.buildOptions=ig;Kn.defaultOptions=ja;class og{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var ag=og;const cg=tr;function ug(e,t){const r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&dg(e,t))t+=7,[entityName,val,t]=fg(e,t+1),val.indexOf("&")===-1&&(r[yg(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&hg(e,t))t+=8;else if(i&&pg(e,t))t+=8;else if(i&&gg(e,t))t+=9;else if(lg)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function fg(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function lg(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function dg(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function hg(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function pg(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function gg(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function yg(e){if(cg.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var mg=ug;const bg=/^[-+]?0x[a-fA-F0-9]+$/,wg=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const _g={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function xg(e,t={}){if(t=Object.assign({},_g,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&bg.test(r))return Number.parseInt(r,16);{const n=wg.exec(r);if(n){const i=n[1],s=n[2];let o=Eg(n[3]);const a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{const u=Number(r),c=""+u;return c.search(/[eE]/)!==-1||a?t.eNotation?u:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?u:e:s?o===c||i+o===c?u:e:r===c||r===i+c?u:e}}else return e}}function Eg(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var Sg=xg;const Xn=tr,xt=ag,vg=mg,Ag=Sg;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Xn.nameRegexp);let Cg=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=Rg,this.parseXml=kg,this.parseTextData=Tg,this.resolveNameSpace=Og,this.buildAttributesMap=Bg,this.isItStopNode=Fg,this.replaceEntitiesValue=Mg,this.readStopNodeData=Dg,this.saveTextToParentTag=Ig,this.addChild=Ng}};function Rg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Tg(e,t,r,n,i,s,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,r,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Rn(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Rn(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Og(e){if(this.options.removeNSPrefix){const t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}const Pg=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Bg(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){const n=Xn.getAllMatches(e,Pg),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let u=n[o][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);const f=this.options.attributeValueProcessor(a,u,t);f==null?s[c]=u:typeof f!=typeof u||f!==u?s[c]=f:s[c]=Rn(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const kg=function(e){e=e.replace(/\r\n?/g,`
`);const t=new xt("!xml");let r=t,n="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=qe(e,">",s,"Closing Tag is not closed.");let u=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const h=u.indexOf(":");h!==-1&&(u=u.substr(h+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let f=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Cn(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const u=new xt(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,u,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=qe(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=vg(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=qe(e,"]]>",s,"CDATA is not closed.")-2,u=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let c=this.parseTextData(u,r.tagname,i,!0,!1,!0);c==null&&(c=""),r.add(this.options.textNodeName,c)}s=a+2}else{let a=Cn(e,s,this.options.removeNSPrefix),u=a.tagName,c=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const l=r;if(l&&this.options.unpairedTags.indexOf(l.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==t.tagname&&(i+=i?"."+u:u),this.isItStopNode(this.options.stopNodes,i,u)){let p="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)s=a.closeIndex;else{const _=this.readStopNodeData(e,u,h+1);if(!_)throw new Error(`Unexpected end of ${u}`);s=_.i,p=_.tagContent}const y=new xt(u);u!==c&&f&&(y[":@"]=this.buildAttributesMap(c,i,u)),p&&(p=this.parseTextData(p,u,i,!0,f,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),y.add(this.options.textNodeName,p),this.addChild(r,y,i)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const p=new xt(u);u!==c&&f&&(p[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,p,i),i=i.substr(0,i.lastIndexOf("."))}else{const p=new xt(u);this.tagsNodeStack.push(r),u!==c&&f&&(p[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,p,i),r=p}n="",s=h}}else n+=e[s];return t.child};function Ng(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}const Mg=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Ig(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Fg(e,t,r){const n="*."+r;for(const i in e){const s=e[i];if(n===s||t===s)return!0}return!1}function $g(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let o=e[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function qe(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function Cn(e,t,r,n=">"){const i=$g(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let u=s,c=!0;if(a!==-1&&(u=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const f=u.indexOf(":");f!==-1&&(u=u.substr(f+1),c=u!==i.data.substr(f+1))}return{tagName:u,tagExp:s,closeIndex:o,attrExpPresent:c}}function Dg(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){const s=qe(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=qe(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=qe(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=qe(e,"]]>",r,"StopNode is not closed.")-2;else{const s=Cn(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function Rn(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:Ag(e,r)}else return Xn.isExist(e)?e:""}var Ug=Cg,Ha={};function Lg(e,t){return qa(e,t)}function qa(e,t,r){let n;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=jg(o);let u="";if(r===void 0?u=a:u=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=qa(o[a],t,u);const f=qg(c,t);o[":@"]?Hg(c,o[":@"],u,t):Object.keys(c).length===1&&c[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?c=c[t.textNodeName]:Object.keys(c).length===0&&(t.alwaysCreateTextNode?c[t.textNodeName]="":c=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):t.isArray(a,u,f)?i[a]=[c]:i[a]=c}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function jg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function Hg(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function qg(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Ha.prettify=Lg;const{buildOptions:zg}=Kn,Gg=Ug,{prettify:Vg}=Ha,Wg=Vn;let Kg=class{constructor(t){this.externalEntities={},this.options=zg(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=Wg.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new Gg(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:Vg(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};var Xg=Kg;const Zg=`
`;function Yg(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Zg),za(e,t,"",r)}function za(e,t,r,n){let i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o],u=Qg(a);let c="";if(r.length===0?c=u:c=`${r}.${u}`,u===t.textNodeName){let y=a[u];Jg(c,t)||(y=t.tagValueProcessor(u,y),y=Ga(y,t)),s&&(i+=n),i+=y,s=!1;continue}else if(u===t.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[u][0][t.textNodeName]}]]>`,s=!1;continue}else if(u===t.commentPropName){i+=n+`<!--${a[u][0][t.textNodeName]}-->`,s=!0;continue}else if(u[0]==="?"){const y=oo(a[":@"],t),_=u==="?xml"?"":n;let S=a[u][0][t.textNodeName];S=S.length!==0?" "+S:"",i+=_+`<${u}${S}${y}?>`,s=!0;continue}let f=n;f!==""&&(f+=t.indentBy);const h=oo(a[":@"],t),l=n+`<${u}${h}`,p=za(a[u],t,c,f);t.unpairedTags.indexOf(u)!==-1?t.suppressUnpairedNode?i+=l+">":i+=l+"/>":(!p||p.length===0)&&t.suppressEmptyNode?i+=l+"/>":p&&p.endsWith(">")?i+=l+`>${p}${n}</${u}>`:(i+=l+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?i+=n+t.indentBy+p+n:i+=p,i+=`</${u}>`),s=!0}return i}function Qg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function oo(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=Ga(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function Jg(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Ga(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}var ey=Yg;const ty=ey,ry={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function De(e){this.options=Object.assign({},ry,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=iy),this.processTextOrObjNode=ny,this.options.format?(this.indentate=sy,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}De.prototype.build=function(e){return this.options.preserveOrder?ty(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};De.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const s=e[i].length;let o="";for(let a=0;a<s;a++){const u=e[i][a];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?this.options.oneListGroup?o+=this.j2x(u,t+1).val:o+=this.processTextOrObjNode(u,i,t):o+=this.buildTextValNode(u,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+e[i][s[a]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};De.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function ny(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}De.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",i=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}};De.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};De.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};De.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function sy(e){return this.options.indentBy.repeat(e)}function iy(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var oy=De;const ay=Vn,cy=Xg,uy=oy;var fy={XMLParser:cy,XMLValidator:ay,XMLBuilder:uy};class rr extends $n{constructor(t){super(t),Object.setPrototypeOf(this,rr.prototype)}}var ao;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ao||(ao={}));var co;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(co||(co={}));var uo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(uo||(uo={}));var fo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(fo||(fo={}));class Zn extends rr{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,Zn.prototype)}}const ly=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:vt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:vt}}),dy=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:vt},...e.SSEKMSKeyId&&{SSEKMSKeyId:vt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:vt}}),dm=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Me({},je,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-optional-object-attributes":[()=>je(e.OptionalObjectAttributes),()=>(e.OptionalObjectAttributes||[]).map(f=>f).join(", ")]});let a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/`;a=Jr(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);const u=Me({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]});let c;return new ae({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:a,query:u,body:c})},hy=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Me({},je,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>je(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>je(e.Expires),()=>Wc(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>je(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>je(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((h,l)=>(h[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],h),{})});let a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Jr(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Jr(a,e,"Key",()=>e.Key,"{Key+}",!0);const u=Me({"x-id":[,"PutObject"]});let c;e.Body!==void 0&&(c=e.Body);let f;return e.Body!==void 0&&(f=e.Body,c=f),new ae({protocol:n,hostname:r,port:i,method:"PUT",headers:o,path:a,query:u,body:c})},hm=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return py(e,t);const r=Me({$metadata:Yn(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),n=Fn(Lc(await Wa(e.body,t)),"body");return n.CommonPrefixes===""?r.CommonPrefixes=[]:n.CommonPrefixes!==void 0&&(r.CommonPrefixes=_y(Yr(n.CommonPrefixes))),n.Contents===""?r.Contents=[]:n.Contents!==void 0&&(r.Contents=Ey(Yr(n.Contents))),n.ContinuationToken!==void 0&&(r.ContinuationToken=ue(n.ContinuationToken)),n.Delimiter!==void 0&&(r.Delimiter=ue(n.Delimiter)),n.EncodingType!==void 0&&(r.EncodingType=ue(n.EncodingType)),n.IsTruncated!==void 0&&(r.IsTruncated=Mn(n.IsTruncated)),n.KeyCount!==void 0&&(r.KeyCount=ps(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=ps(n.MaxKeys)),n.Name!==void 0&&(r.Name=ue(n.Name)),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=ue(n.NextContinuationToken)),n.Prefix!==void 0&&(r.Prefix=ue(n.Prefix)),n.StartAfter!==void 0&&(r.StartAfter=ue(n.StartAfter)),r},py=async(e,t)=>{const r={...e,body:await Ka(e.body,t)},n=Xa(e,r.body);switch(n){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await my(r);default:const i=r.body;return Va({output:e,parsedBody:i,errorCode:n})}},gy=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yy(e,t);const r=Me({$metadata:Yn(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Mn(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await wo(e.body,t),r},yy=async(e,t)=>{const r={...e,body:await Ka(e.body,t)},n=Xa(e,r.body),i=r.body;return Va({output:e,parsedBody:i,errorCode:n})},Va=ru(rr),my=async(e,t)=>{const r=Me({});e.body;const n=new Zn({$metadata:Yn(e),...r});return Ao(n,e.body)},by=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ue(r)),wy=(e,t)=>{const r={};return e.Prefix!==void 0&&(r.Prefix=ue(e.Prefix)),r},_y=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>wy(r)),xy=(e,t)=>{const r={};return e.Key!==void 0&&(r.Key=ue(e.Key)),e.LastModified!==void 0&&(r.LastModified=Fn(So(e.LastModified))),e.ETag!==void 0&&(r.ETag=ue(e.ETag)),e.ChecksumAlgorithm===""?r.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(r.ChecksumAlgorithm=by(Yr(e.ChecksumAlgorithm))),e.Size!==void 0&&(r.Size=qc(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=ue(e.StorageClass)),e.Owner!==void 0&&(r.Owner=Sy(e.Owner)),e.RestoreStatus!==void 0&&(r.RestoreStatus=vy(e.RestoreStatus)),r},Ey=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>xy(r)),Sy=(e,t)=>{const r={};return e.DisplayName!==void 0&&(r.DisplayName=ue(e.DisplayName)),e.ID!==void 0&&(r.ID=ue(e.ID)),r},vy=(e,t)=>{const r={};return e.IsRestoreInProgress!==void 0&&(r.IsRestoreInProgress=Mn(e.IsRestoreInProgress)),e.RestoreExpiryDate!==void 0&&(r.RestoreExpiryDate=Fn(So(e.RestoreExpiryDate))),r},Yn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ay=(e,t)=>wo(e,t).then(r=>t.utf8Encoder(r)),je=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Wa=(e,t)=>Ay(e,t).then(r=>{if(r.length){const n=new fy.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);const i=n.parse(r),s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),Co(a)}return{}}),Ka=async(e,t)=>{const r=await Wa(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Xa=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};function Cy(e){return t=>async r=>{let n={...r.input};const i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const o=n[s.target];if(o){const a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):typeof o=="string"?e.utf8Decoder(o):new Uint8Array(o),u=e.base64Encoder(a),c=new e.md5;c.update(a),n={...n,[s.target]:u,[s.hash]:e.base64Encoder(await c.digest())}}}return t({...r,input:n})}}const Ry={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ty=e=>({applyToStack:t=>{t.add(Cy(e),Ry)}});var J;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(J||(J={}));var lo;(function(e){e.HEADER="header",e.TRAILER="trailer"})(lo||(lo={}));const Tn=[J.CRC32,J.CRC32C,J.SHA1,J.SHA256],Oy=[J.CRC32,J.CRC32C,J.SHA1,J.SHA256],Py=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?J.MD5:void 0;const n=e[r];if(!Tn.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${Tn}.`);return n},Qn=e=>e===J.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,By=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},Jn=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Uo(e);var Kr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var On=function(e,t){return On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},On(e,t)};function ky(e,t){On(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Pn=function(){return Pn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Pn.apply(this,arguments)};function Ny(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function My(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Iy(e,t){return function(r,n){t(r,n,e)}}function Fy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $y(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Dy(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Uy(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ly(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Bn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Za(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function jy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Za(arguments[t]));return e}function Hy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function It(e){return this instanceof It?(this.v=e,this):new It(e)}function qy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){n[l]&&(i[l]=function(p){return new Promise(function(y,_){s.push([l,p,y,_])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){h(s[0][3],y)}}function u(l){l.value instanceof It?Promise.resolve(l.value.v).then(c,f):h(s[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function h(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function zy(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:It(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Gy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Bn=="function"?Bn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Vy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Wy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Ky(e){return e&&e.__esModule?e:{default:e}}function Xy(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Zy(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Yy=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Pn},__asyncDelegator:zy,__asyncGenerator:qy,__asyncValues:Gy,__await:It,__awaiter:$y,__classPrivateFieldGet:Xy,__classPrivateFieldSet:Zy,__createBinding:Uy,__decorate:My,__exportStar:Ly,__extends:ky,__generator:Dy,__importDefault:Ky,__importStar:Wy,__makeTemplateObject:Vy,__metadata:Fy,__param:Iy,__read:Za,__rest:Ny,__spread:jy,__spreadArrays:Hy,__values:Bn},Symbol.toStringTag,{value:"Module"})),Ya=Se(Yy);var Et={},ho;function Qy(){if(ho)return Et;ho=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.AwsCrc32c=void 0;var e=Ya,t=Fe(),r=Qa(),n=function(){function i(){this.crc32c=new r.Crc32c}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32c.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32c.digest())]})})},i.prototype.reset=function(){this.crc32c=new r.Crc32c},i}();return Et.AwsCrc32c=n,Et}var po;function Qa(){return po||(po=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32c=e.Crc32c=e.crc32c=void 0;var t=Ya,r=Fe();function n(u){return new i().update(u).digest()}e.crc32c=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var f,h;try{for(var l=t.__values(c),p=l.next();!p.done;p=l.next()){var y=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(_){f={error:_}}finally{try{p&&!p.done&&(h=l.return)&&h.call(l)}finally{if(f)throw f.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32c=i;var s=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(s),a=Qy();Object.defineProperty(e,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(Kr)),Kr}var Jy=Qa();const Ja=(e,t)=>({[J.MD5]:t.md5,[J.CRC32]:Dn.AwsCrc32,[J.CRC32C]:Jy.AwsCrc32c,[J.SHA1]:t.sha1,[J.SHA256]:t.sha256})[e],ec=(e,t)=>{const r=new e;return r.update(Ke(t||"")),r.digest()},em={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},tm=(e,t)=>r=>async n=>{if(!ae.isInstance(n.request))return r(n);const{request:i}=n,{body:s,headers:o}=i,{base64Encoder:a,streamHasher:u}=e,{input:c,requestChecksumRequired:f,requestAlgorithmMember:h}=t,l=Py(c,{requestChecksumRequired:f,requestAlgorithmMember:h});let p=s,y=o;if(l){const S=Qn(l),T=Ja(l,e);if(Jn(s)){const{getAwsChunkedEncodingStream:I,bodyLengthChecker:q}=e;p=I(s,{base64Encoder:a,bodyLengthChecker:q,checksumLocationName:S,checksumAlgorithmFn:T,streamHasher:u}),y={...o,"content-encoding":o["content-encoding"]?`${o["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":o["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":S},delete y["content-length"]}else if(!By(S,o)){const I=await ec(T,s);y={...o,[S]:a(I)}}}return await r({...n,request:{...i,headers:y,body:p}})},tc=(e=[])=>{const t=[];for(const r of Oy)!e.includes(r)||!Tn.includes(r)||t.push(r);return t},rm=e=>{const t=e.lastIndexOf("-");if(t!==-1){const r=e.slice(t+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function go(e){return new Blob([e]).stream()}const nm=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{const i=Jn(e)?t(r,e):ec(r,e);return n(await i)},sm=async(e,{config:t,responseAlgorithms:r})=>{const n=tc(r),{body:i,headers:s}=e;for(const o of n){const a=Qn(o),u=s[a];if(u){const c=Ja(o,t),{streamHasher:f,base64Encoder:h}=t,l=await nm(i,{streamHasher:f,checksumAlgorithmFn:c,base64Encoder:h});if(l===u)break;throw new Error(`Checksum mismatch: expected "${l}" but received "${u}" in response header "${a}".`)}}},im={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},om=(e,t)=>(r,n)=>async i=>{if(!ae.isInstance(i.request))return r(i);const s=i.input,o=await r(i),a=o.response;let u;const{requestValidationModeMember:c,responseAlgorithms:f}=t;if(c&&s[c]==="ENABLED"){const{clientName:h,commandName:l}=n;if(h==="S3Client"&&l==="GetObjectCommand"&&tc(f).every(_=>{const S=Qn(_),T=a.headers[S];return!T||rm(T)}))return o;const y=Jn(a.body);y&&(u=await e.streamCollector(a.body),a.body=go(u)),await sm(o.response,{config:e,responseAlgorithms:f}),y&&u&&(a.body=go(u))}return o},am=(e,t)=>({applyToStack:r=>{r.add(tm(e,t),em),r.addRelativeTo(om(e,t),im)}});class rc extends Fc{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Jl(r,this.serialize,this.deserialize)),this.middlewareStack.use(td(r,rc.getEndpointParameterInstructions())),this.middlewareStack.use(bu()),this.middlewareStack.use(Ty(r)),this.middlewareStack.use(am(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:dy,outputFilterSensitiveLog:ly,[ic]:{service:"AmazonS3",operation:"PutObject"}},{requestHandler:c}=r;return i.resolve(f=>c.handle(f.request,n||{}),u)}serialize(t,r){return hy(t,r)}deserialize(t,r){return gy(t,r)}}const pm=new X0({credentials:{accessKeyId:"AKIAUYLYB5SDXB2XX6UH",secretAccessKey:"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"},region:"ap-southeast-1"});export{Fc as C,rc as P,ic as S,td as a,dm as b,hm as d,Jl as g,pm as s};
