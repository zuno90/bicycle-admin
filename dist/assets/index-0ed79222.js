function ZS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var TL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var M_={exports:{}},ul={},L_={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),eI=Symbol.for("react.portal"),tI=Symbol.for("react.fragment"),nI=Symbol.for("react.strict_mode"),rI=Symbol.for("react.profiler"),iI=Symbol.for("react.provider"),sI=Symbol.for("react.context"),oI=Symbol.for("react.forward_ref"),aI=Symbol.for("react.suspense"),uI=Symbol.for("react.memo"),lI=Symbol.for("react.lazy"),yg=Symbol.iterator;function cI(e){return e===null||typeof e!="object"?null:(e=yg&&e[yg]||e["@@iterator"],typeof e=="function"?e:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F_=Object.assign,j_={};function is(e,t,n){this.props=e,this.context=t,this.refs=j_,this.updater=n||$_}is.prototype.isReactComponent={};is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U_(){}U_.prototype=is.prototype;function Vd(e,t,n){this.props=e,this.context=t,this.refs=j_,this.updater=n||$_}var Md=Vd.prototype=new U_;Md.constructor=Vd;F_(Md,is.prototype);Md.isPureReactComponent=!0;var vg=Array.isArray,B_=Object.prototype.hasOwnProperty,Ld={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function q_(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)B_.call(t,r)&&!z_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$o,type:e,key:s,ref:o,props:i,_owner:Ld.current}}function hI(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $d(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function fI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _g=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fI(""+e.key):t.toString(36)}function Fa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $o:case eI:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Vc(o,0):r,vg(i)?(n="",e!=null&&(n=e.replace(_g,"$&/")+"/"),Fa(i,t,n,"",function(l){return l})):i!=null&&($d(i)&&(i=hI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_g,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",vg(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Vc(s,a);o+=Fa(s,t,n,u,i)}else if(u=cI(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Vc(s,a++),o+=Fa(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ca(e,t,n){if(e==null)return e;var r=[],i=0;return Fa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function dI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ja={transition:null},pI={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ja,ReactCurrentOwner:Ld};q.Children={map:ca,forEach:function(e,t,n){ca(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ca(e,function(){t++}),t},toArray:function(e){return ca(e,function(t){return t})||[]},only:function(e){if(!$d(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=is;q.Fragment=tI;q.Profiler=rI;q.PureComponent=Vd;q.StrictMode=nI;q.Suspense=aI;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pI;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=F_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ld.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)B_.call(t,u)&&!z_.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:$o,type:e.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:sI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iI,_context:e},e.Consumer=e};q.createElement=q_;q.createFactory=function(e){var t=q_.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:oI,render:e}};q.isValidElement=$d;q.lazy=function(e){return{$$typeof:lI,_payload:{_status:-1,_result:e},_init:dI}};q.memo=function(e,t){return{$$typeof:uI,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};q.useCallback=function(e,t){return lt.current.useCallback(e,t)};q.useContext=function(e){return lt.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};q.useEffect=function(e,t){return lt.current.useEffect(e,t)};q.useId=function(){return lt.current.useId()};q.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return lt.current.useMemo(e,t)};q.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};q.useRef=function(e){return lt.current.useRef(e)};q.useState=function(e){return lt.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return lt.current.useTransition()};q.version="18.2.0";L_.exports=q;var S=L_.exports;const Q=V_(S),mI=ZS({__proto__:null,default:Q},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI=S,yI=Symbol.for("react.element"),vI=Symbol.for("react.fragment"),_I=Object.prototype.hasOwnProperty,wI=gI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EI={key:!0,ref:!0,__self:!0,__source:!0};function K_(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_I.call(t,r)&&!EI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yI,type:e,key:s,ref:o,props:i,_owner:wI.current}}ul.Fragment=vI;ul.jsx=K_;ul.jsxs=K_;M_.exports=ul;var ee=M_.exports,Qh={},W_={exports:{}},Ct={},H_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var B=O.length;O.push(L);e:for(;0<B;){var ve=B-1>>>1,Re=O[ve];if(0<i(Re,L))O[ve]=L,O[B]=Re,B=ve;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],B=O.pop();if(B!==L){O[0]=B;e:for(var ve=0,Re=O.length,ua=Re>>>1;ve<ua;){var Pr=2*(ve+1)-1,bc=O[Pr],Ar=Pr+1,la=O[Ar];if(0>i(bc,B))Ar<Re&&0>i(la,bc)?(O[ve]=la,O[Ar]=B,ve=Ar):(O[ve]=bc,O[Pr]=B,ve=Pr);else if(Ar<Re&&0>i(la,B))O[ve]=la,O[Ar]=B,ve=Ar;else break e}}return L}function i(O,L){var B=O.sortIndex-L.sortIndex;return B!==0?B:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,d=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var L=n(l);L!==null;){if(L.callback===null)r(l);else if(L.startTime<=O)r(l),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(l)}}function w(O){if(y=!1,v(O),!g)if(n(u)!==null)g=!0,Me(E);else{var L=n(l);L!==null&&vt(w,L.startTime-O)}}function E(O,L){g=!1,y&&(y=!1,p(P),P=-1),d=!0;var B=f;try{for(v(L),h=n(u);h!==null&&(!(h.expirationTime>L)||O&&!X());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,f=h.priorityLevel;var Re=ve(h.expirationTime<=L);L=e.unstable_now(),typeof Re=="function"?h.callback=Re:h===n(u)&&r(u),v(L)}else r(u);h=n(u)}if(h!==null)var ua=!0;else{var Pr=n(l);Pr!==null&&vt(w,Pr.startTime-L),ua=!1}return ua}finally{h=null,f=B,d=!1}}var T=!1,I=null,P=-1,b=5,D=-1;function X(){return!(e.unstable_now()-D<b)}function Se(){if(I!==null){var O=e.unstable_now();D=O;var L=!0;try{L=I(!0,O)}finally{L?Ve():(T=!1,I=null)}}else T=!1}var Ve;if(typeof m=="function")Ve=function(){m(Se)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,yn=Ke.port2;Ke.port1.onmessage=Se,Ve=function(){yn.postMessage(null)}}else Ve=function(){_(Se,0)};function Me(O){I=O,T||(T=!0,Ve())}function vt(O,L){P=_(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,Me(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var B=f;f=L;try{return O()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=f;f=O;try{return L()}finally{f=B}},e.unstable_scheduleCallback=function(O,L,B){var ve=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ve+B:ve):B=ve,O){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=B+Re,O={id:c++,callback:L,priorityLevel:O,startTime:B,expirationTime:Re,sortIndex:-1},B>ve?(O.sortIndex=B,t(l,O),n(u)===null&&O===n(l)&&(y?(p(P),P=-1):y=!0,vt(w,B-ve))):(O.sortIndex=Re,t(u,O),g||d||(g=!0,Me(E))),O},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(O){var L=f;return function(){var B=f;f=L;try{return O.apply(this,arguments)}finally{f=B}}}})(Q_);H_.exports=Q_;var TI=H_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=S,St=TI;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,eo={};function ii(e,t){ji(e,t),ji(e+"Capture",t)}function ji(e,t){for(eo[e]=t,e=0;e<t.length;e++)X_.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=Object.prototype.hasOwnProperty,SI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wg={},Eg={};function II(e){return Gh.call(Eg,e)?!0:Gh.call(wg,e)?!1:SI.test(e)?Eg[e]=!0:(wg[e]=!0,!1)}function PI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AI(e,t,n,r){if(t===null||typeof t>"u"||PI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fd=/[\-:]([a-z])/g;function jd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fd,jd);qe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fd,jd);qe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fd,jd);qe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ud(e,t,n,r){var i=qe.hasOwnProperty(t)?qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AI(t,n,i,r)&&(n=null),r||i===null?II(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $n=G_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ha=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Bd=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),zd=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Jh=Symbol.for("react.suspense_list"),qd=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Z_=Symbol.for("react.offscreen"),Tg=Symbol.iterator;function gs(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Mc;function Cs(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||""}return`
`+Mc+e}var Lc=!1;function $c(e,t){if(!e||Lc)return"";Lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Lc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cs(e):""}function CI(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=$c(e.type,!1),e;case 11:return e=$c(e.type.render,!1),e;case 1:return e=$c(e.type,!0),e;default:return""}}function Zh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gi:return"Fragment";case mi:return"Portal";case Xh:return"Profiler";case Bd:return"StrictMode";case Yh:return"Suspense";case Jh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J_:return(e.displayName||"Context")+".Consumer";case Y_:return(e._context.displayName||"Context")+".Provider";case zd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qd:return t=e.displayName||null,t!==null?t:Zh(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return Zh(e(t))}catch{}}return null}function RI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zh(t);case 8:return t===Bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kI(e){var t=e0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fa(e){e._valueTracker||(e._valueTracker=kI(e))}function t0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=e0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ef(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function n0(e,t){t=t.checked,t!=null&&Ud(e,"checked",t,!1)}function tf(e,t){n0(e,t);var n=cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&nf(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ig(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nf(e,t,n){(t!=="number"||su(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function ki(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Rs(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cr(n)}}function r0(e,t){var n=cr(t.value),r=cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ag(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var da,s0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=da.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OI=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(e){OI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$s[t]=$s[e]})});function o0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$s.hasOwnProperty(e)&&$s[e]?(""+t).trim():t+"px"}function a0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=o0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xI=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(e,t){if(t){if(xI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function af(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=null;function Kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lf=null,Oi=null,xi=null;function Cg(e){if(e=Uo(e)){if(typeof lf!="function")throw Error(R(280));var t=e.stateNode;t&&(t=dl(t),lf(e.stateNode,e.type,t))}}function u0(e){Oi?xi?xi.push(e):xi=[e]:Oi=e}function l0(){if(Oi){var e=Oi,t=xi;if(xi=Oi=null,Cg(e),t)for(e=0;e<t.length;e++)Cg(t[e])}}function c0(e,t){return e(t)}function h0(){}var Fc=!1;function f0(e,t,n){if(Fc)return e(t,n);Fc=!0;try{return c0(e,t,n)}finally{Fc=!1,(Oi!==null||xi!==null)&&(h0(),l0())}}function no(e,t){var n=e.stateNode;if(n===null)return null;var r=dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var cf=!1;if(kn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){cf=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{cf=!1}function DI(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Fs=!1,ou=null,au=!1,hf=null,NI={onError:function(e){Fs=!0,ou=e}};function bI(e,t,n,r,i,s,o,a,u){Fs=!1,ou=null,DI.apply(NI,arguments)}function VI(e,t,n,r,i,s,o,a,u){if(bI.apply(this,arguments),Fs){if(Fs){var l=ou;Fs=!1,ou=null}else throw Error(R(198));au||(au=!0,hf=l)}}function si(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rg(e){if(si(e)!==e)throw Error(R(188))}function MI(e){var t=e.alternate;if(!t){if(t=si(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rg(i),e;if(s===r)return Rg(i),t;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function p0(e){return e=MI(e),e!==null?m0(e):null}function m0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=m0(e);if(t!==null)return t;e=e.sibling}return null}var g0=St.unstable_scheduleCallback,kg=St.unstable_cancelCallback,LI=St.unstable_shouldYield,$I=St.unstable_requestPaint,_e=St.unstable_now,FI=St.unstable_getCurrentPriorityLevel,Wd=St.unstable_ImmediatePriority,y0=St.unstable_UserBlockingPriority,uu=St.unstable_NormalPriority,jI=St.unstable_LowPriority,v0=St.unstable_IdlePriority,ll=null,sn=null;function UI(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:qI,BI=Math.log,zI=Math.LN2;function qI(e){return e>>>=0,e===0?32:31-(BI(e)/zI|0)|0}var pa=64,ma=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ks(a):(s&=o,s!==0&&(r=ks(s)))}else o=n&~i,o!==0?r=ks(o):s!==0&&(r=ks(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),i=1<<n,r|=e[n],t&=~i;return r}function KI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Qt(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=KI(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function ff(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _0(){var e=pa;return pa<<=1,!(pa&4194240)&&(pa=64),e}function jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function HI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Y=0;function w0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E0,Qd,T0,S0,I0,df=!1,ga=[],Yn=null,Jn=null,Zn=null,ro=new Map,io=new Map,zn=[],QI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Og(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function vs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Uo(t),t!==null&&Qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function GI(e,t,n,r,i){switch(t){case"focusin":return Yn=vs(Yn,e,t,n,r,i),!0;case"dragenter":return Jn=vs(Jn,e,t,n,r,i),!0;case"mouseover":return Zn=vs(Zn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ro.set(s,vs(ro.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,io.set(s,vs(io.get(s)||null,e,t,n,r,i)),!0}return!1}function P0(e){var t=Dr(e.target);if(t!==null){var n=si(t);if(n!==null){if(t=n.tag,t===13){if(t=d0(n),t!==null){e.blockedOn=t,I0(e.priority,function(){T0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uf=r,n.target.dispatchEvent(r),uf=null}else return t=Uo(n),t!==null&&Qd(t),e.blockedOn=n,!1;t.shift()}return!0}function xg(e,t,n){Ua(e)&&n.delete(t)}function XI(){df=!1,Yn!==null&&Ua(Yn)&&(Yn=null),Jn!==null&&Ua(Jn)&&(Jn=null),Zn!==null&&Ua(Zn)&&(Zn=null),ro.forEach(xg),io.forEach(xg)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,XI)))}function so(e){function t(i){return _s(i,e)}if(0<ga.length){_s(ga[0],e);for(var n=1;n<ga.length;n++){var r=ga[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yn!==null&&_s(Yn,e),Jn!==null&&_s(Jn,e),Zn!==null&&_s(Zn,e),ro.forEach(t),io.forEach(t),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)P0(n),n.blockedOn===null&&zn.shift()}var Di=$n.ReactCurrentBatchConfig,cu=!0;function YI(e,t,n,r){var i=Y,s=Di.transition;Di.transition=null;try{Y=1,Gd(e,t,n,r)}finally{Y=i,Di.transition=s}}function JI(e,t,n,r){var i=Y,s=Di.transition;Di.transition=null;try{Y=4,Gd(e,t,n,r)}finally{Y=i,Di.transition=s}}function Gd(e,t,n,r){if(cu){var i=pf(e,t,n,r);if(i===null)Xc(e,t,r,hu,n),Og(e,r);else if(GI(i,e,t,n,r))r.stopPropagation();else if(Og(e,r),t&4&&-1<QI.indexOf(e)){for(;i!==null;){var s=Uo(i);if(s!==null&&E0(s),s=pf(e,t,n,r),s===null&&Xc(e,t,r,hu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xc(e,t,r,null,n)}}var hu=null;function pf(e,t,n,r){if(hu=null,e=Kd(r),e=Dr(e),e!==null)if(t=si(e),t===null)e=null;else if(n=t.tag,n===13){if(e=d0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hu=e,null}function A0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FI()){case Wd:return 1;case y0:return 4;case uu:case jI:return 16;case v0:return 536870912;default:return 16}default:return 16}}var Wn=null,Xd=null,Ba=null;function C0(){if(Ba)return Ba;var e,t=Xd,n=t.length,r,i="value"in Wn?Wn.value:Wn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ba=i.slice(e,1<r?1-r:void 0)}function za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function Dg(){return!1}function Rt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ya:Dg,this.isPropagationStopped=Dg,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=Rt(ss),jo=pe({},ss,{view:0,detail:0}),ZI=Rt(jo),Uc,Bc,ws,cl=pe({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(Uc=e.screenX-ws.screenX,Bc=e.screenY-ws.screenY):Bc=Uc=0,ws=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Bc}}),Ng=Rt(cl),eP=pe({},cl,{dataTransfer:0}),tP=Rt(eP),nP=pe({},jo,{relatedTarget:0}),zc=Rt(nP),rP=pe({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),iP=Rt(rP),sP=pe({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oP=Rt(sP),aP=pe({},ss,{data:0}),bg=Rt(aP),uP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cP[e])?!!t[e]:!1}function Jd(){return hP}var fP=pe({},jo,{key:function(e){if(e.key){var t=uP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(e){return e.type==="keypress"?za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dP=Rt(fP),pP=pe({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vg=Rt(pP),mP=pe({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),gP=Rt(mP),yP=pe({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),vP=Rt(yP),_P=pe({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wP=Rt(_P),EP=[9,13,27,32],Zd=kn&&"CompositionEvent"in window,js=null;kn&&"documentMode"in document&&(js=document.documentMode);var TP=kn&&"TextEvent"in window&&!js,R0=kn&&(!Zd||js&&8<js&&11>=js),Mg=String.fromCharCode(32),Lg=!1;function k0(e,t){switch(e){case"keyup":return EP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yi=!1;function SP(e,t){switch(e){case"compositionend":return O0(t);case"keypress":return t.which!==32?null:(Lg=!0,Mg);case"textInput":return e=t.data,e===Mg&&Lg?null:e;default:return null}}function IP(e,t){if(yi)return e==="compositionend"||!Zd&&k0(e,t)?(e=C0(),Ba=Xd=Wn=null,yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R0&&t.locale!=="ko"?null:t.data;default:return null}}var PP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PP[e.type]:t==="textarea"}function x0(e,t,n,r){u0(r),t=fu(t,"onChange"),0<t.length&&(n=new Yd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Us=null,oo=null;function AP(e){B0(e,0)}function hl(e){var t=wi(e);if(t0(t))return e}function CP(e,t){if(e==="change")return t}var D0=!1;if(kn){var qc;if(kn){var Kc="oninput"in document;if(!Kc){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Kc=typeof Fg.oninput=="function"}qc=Kc}else qc=!1;D0=qc&&(!document.documentMode||9<document.documentMode)}function jg(){Us&&(Us.detachEvent("onpropertychange",N0),oo=Us=null)}function N0(e){if(e.propertyName==="value"&&hl(oo)){var t=[];x0(t,oo,e,Kd(e)),f0(AP,t)}}function RP(e,t,n){e==="focusin"?(jg(),Us=t,oo=n,Us.attachEvent("onpropertychange",N0)):e==="focusout"&&jg()}function kP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(oo)}function OP(e,t){if(e==="click")return hl(t)}function xP(e,t){if(e==="input"||e==="change")return hl(t)}function DP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:DP;function ao(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gh.call(t,i)||!Xt(e[i],t[i]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bg(e,t){var n=Ug(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ug(n)}}function b0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V0(){for(var e=window,t=su();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=su(e.document)}return t}function ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NP(e){var t=V0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&b0(n.ownerDocument.documentElement,n)){if(r!==null&&ep(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Bg(n,s);var o=Bg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bP=kn&&"documentMode"in document&&11>=document.documentMode,vi=null,mf=null,Bs=null,gf=!1;function zg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||vi==null||vi!==su(r)||(r=vi,"selectionStart"in r&&ep(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bs&&ao(Bs,r)||(Bs=r,r=fu(mf,"onSelect"),0<r.length&&(t=new Yd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vi)))}function va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},Wc={},M0={};kn&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function fl(e){if(Wc[e])return Wc[e];if(!_i[e])return e;var t=_i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M0)return Wc[e]=t[n];return e}var L0=fl("animationend"),$0=fl("animationiteration"),F0=fl("animationstart"),j0=fl("transitionend"),U0=new Map,qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,t){U0.set(e,t),ii(t,[e])}for(var Hc=0;Hc<qg.length;Hc++){var Qc=qg[Hc],VP=Qc.toLowerCase(),MP=Qc[0].toUpperCase()+Qc.slice(1);yr(VP,"on"+MP)}yr(L0,"onAnimationEnd");yr($0,"onAnimationIteration");yr(F0,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(j0,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function Kg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,VI(r,t,void 0,e),e.currentTarget=null}function B0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Kg(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Kg(i,a,l),s=u}}}if(au)throw e=hf,au=!1,hf=null,e}function ie(e,t){var n=t[Ef];n===void 0&&(n=t[Ef]=new Set);var r=e+"__bubble";n.has(r)||(z0(t,e,2,!1),n.add(r))}function Gc(e,t,n){var r=0;t&&(r|=4),z0(n,e,r,t)}var _a="_reactListening"+Math.random().toString(36).slice(2);function uo(e){if(!e[_a]){e[_a]=!0,X_.forEach(function(n){n!=="selectionchange"&&(LP.has(n)||Gc(n,!1,e),Gc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_a]||(t[_a]=!0,Gc("selectionchange",!1,t))}}function z0(e,t,n,r){switch(A0(t)){case 1:var i=YI;break;case 4:i=JI;break;default:i=Gd}n=i.bind(null,t,n,e),i=void 0,!cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Dr(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}f0(function(){var l=s,c=Kd(n),h=[];e:{var f=U0.get(e);if(f!==void 0){var d=Yd,g=e;switch(e){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":d=dP;break;case"focusin":g="focus",d=zc;break;case"focusout":g="blur",d=zc;break;case"beforeblur":case"afterblur":d=zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=tP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=gP;break;case L0:case $0:case F0:d=iP;break;case j0:d=vP;break;case"scroll":d=ZI;break;case"wheel":d=wP;break;case"copy":case"cut":case"paste":d=oP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Vg}var y=(t&4)!==0,_=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=l,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=no(m,p),w!=null&&y.push(lo(m,w,v)))),_)break;m=m.return}0<y.length&&(f=new d(f,g,null,n,c),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==uf&&(g=n.relatedTarget||n.fromElement)&&(Dr(g)||g[On]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=l,g=g?Dr(g):null,g!==null&&(_=si(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=l),d!==g)){if(y=Ng,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Vg,w="onPointerLeave",p="onPointerEnter",m="pointer"),_=d==null?f:wi(d),v=g==null?f:wi(g),f=new y(w,m+"leave",d,n,c),f.target=_,f.relatedTarget=v,w=null,Dr(c)===l&&(y=new y(p,m+"enter",g,n,c),y.target=v,y.relatedTarget=_,w=y),_=w,d&&g)t:{for(y=d,p=g,m=0,v=y;v;v=ci(v))m++;for(v=0,w=p;w;w=ci(w))v++;for(;0<m-v;)y=ci(y),m--;for(;0<v-m;)p=ci(p),v--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=ci(y),p=ci(p)}y=null}else y=null;d!==null&&Wg(h,f,d,y,!1),g!==null&&_!==null&&Wg(h,_,g,y,!0)}}e:{if(f=l?wi(l):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var E=CP;else if($g(f))if(D0)E=xP;else{E=kP;var T=RP}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=OP);if(E&&(E=E(e,l))){x0(h,E,n,c);break e}T&&T(e,f,l),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&nf(f,"number",f.value)}switch(T=l?wi(l):window,e){case"focusin":($g(T)||T.contentEditable==="true")&&(vi=T,mf=l,Bs=null);break;case"focusout":Bs=mf=vi=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,zg(h,n,c);break;case"selectionchange":if(bP)break;case"keydown":case"keyup":zg(h,n,c)}var I;if(Zd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else yi?k0(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(R0&&n.locale!=="ko"&&(yi||P!=="onCompositionStart"?P==="onCompositionEnd"&&yi&&(I=C0()):(Wn=c,Xd="value"in Wn?Wn.value:Wn.textContent,yi=!0)),T=fu(l,P),0<T.length&&(P=new bg(P,e,null,n,c),h.push({event:P,listeners:T}),I?P.data=I:(I=O0(n),I!==null&&(P.data=I)))),(I=TP?SP(e,n):IP(e,n))&&(l=fu(l,"onBeforeInput"),0<l.length&&(c=new bg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=I))}B0(h,t)})}function lo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(e,n),s!=null&&r.unshift(lo(e,s,i)),s=no(e,t),s!=null&&r.push(lo(e,s,i))),e=e.return}return r}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=no(n,s),u!=null&&o.unshift(lo(n,u,a))):i||(u=no(n,s),u!=null&&o.push(lo(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $P=/\r\n?/g,FP=/\u0000|\uFFFD/g;function Hg(e){return(typeof e=="string"?e:""+e).replace($P,`
`).replace(FP,"")}function wa(e,t,n){if(t=Hg(t),Hg(e)!==t&&n)throw Error(R(425))}function du(){}var yf=null,vf=null;function _f(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,jP=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,UP=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(e){return Qg.resolve(null).then(e).catch(BP)}:wf;function BP(e){setTimeout(function(){throw e})}function Yc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),so(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),en="__reactFiber$"+os,co="__reactProps$"+os,On="__reactContainer$"+os,Ef="__reactEvents$"+os,zP="__reactListeners$"+os,qP="__reactHandles$"+os;function Dr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gg(e);e!==null;){if(n=e[en])return n;e=Gg(e)}return t}e=n,n=e.parentNode}return null}function Uo(e){return e=e[en]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function dl(e){return e[co]||null}var Tf=[],Ei=-1;function vr(e){return{current:e}}function oe(e){0>Ei||(e.current=Tf[Ei],Tf[Ei]=null,Ei--)}function re(e,t){Ei++,Tf[Ei]=e.current,e.current=t}var hr={},nt=vr(hr),mt=vr(!1),zr=hr;function Ui(e,t){var n=e.type.contextTypes;if(!n)return hr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return e=e.childContextTypes,e!=null}function pu(){oe(mt),oe(nt)}function Xg(e,t,n){if(nt.current!==hr)throw Error(R(168));re(nt,t),re(mt,n)}function q0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,RI(e)||"Unknown",i));return pe({},n,r)}function mu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,zr=nt.current,re(nt,e),re(mt,mt.current),!0}function Yg(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=q0(e,t,zr),r.__reactInternalMemoizedMergedChildContext=e,oe(mt),oe(nt),re(nt,e)):oe(mt),re(mt,n)}var En=null,pl=!1,Jc=!1;function K0(e){En===null?En=[e]:En.push(e)}function KP(e){pl=!0,K0(e)}function _r(){if(!Jc&&En!==null){Jc=!0;var e=0,t=Y;try{var n=En;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}En=null,pl=!1}catch(i){throw En!==null&&(En=En.slice(e+1)),g0(Wd,_r),i}finally{Y=t,Jc=!1}}return null}var Ti=[],Si=0,gu=null,yu=0,xt=[],Dt=0,qr=null,Tn=1,Sn="";function Cr(e,t){Ti[Si++]=yu,Ti[Si++]=gu,gu=e,yu=t}function W0(e,t,n){xt[Dt++]=Tn,xt[Dt++]=Sn,xt[Dt++]=qr,qr=e;var r=Tn;e=Sn;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var s=32-Qt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tn=1<<32-Qt(t)+i|n<<i|r,Sn=s+e}else Tn=1<<s|n<<i|r,Sn=e}function tp(e){e.return!==null&&(Cr(e,1),W0(e,1,0))}function np(e){for(;e===gu;)gu=Ti[--Si],Ti[Si]=null,yu=Ti[--Si],Ti[Si]=null;for(;e===qr;)qr=xt[--Dt],xt[Dt]=null,Sn=xt[--Dt],xt[Dt]=null,Tn=xt[--Dt],xt[Dt]=null}var Tt=null,wt=null,le=!1,Kt=null;function H0(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,wt=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qr!==null?{id:Tn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,wt=null,!0):!1;default:return!1}}function Sf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function If(e){if(le){var t=wt;if(t){var n=t;if(!Jg(e,t)){if(Sf(e))throw Error(R(418));t=er(n.nextSibling);var r=Tt;t&&Jg(e,t)?H0(r,n):(e.flags=e.flags&-4097|2,le=!1,Tt=e)}}else{if(Sf(e))throw Error(R(418));e.flags=e.flags&-4097|2,le=!1,Tt=e}}}function Zg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Ea(e){if(e!==Tt)return!1;if(!le)return Zg(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_f(e.type,e.memoizedProps)),t&&(t=wt)){if(Sf(e))throw Q0(),Error(R(418));for(;t;)H0(e,t),t=er(t.nextSibling)}if(Zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=Tt?er(e.stateNode.nextSibling):null;return!0}function Q0(){for(var e=wt;e;)e=er(e.nextSibling)}function Bi(){wt=Tt=null,le=!1}function rp(e){Kt===null?Kt=[e]:Kt.push(e)}var WP=$n.ReactCurrentBatchConfig;function Bt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vu=vr(null),_u=null,Ii=null,ip=null;function sp(){ip=Ii=_u=null}function op(e){var t=vu.current;oe(vu),e._currentValue=t}function Pf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){_u=e,ip=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(ip!==e)if(e={context:e,memoizedValue:t,next:null},Ii===null){if(_u===null)throw Error(R(308));Ii=e,_u.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Nr=null;function ap(e){Nr===null?Nr=[e]:Nr.push(e)}function G0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ap(t)):(n.next=i.next,i.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xn(e,n)}return i=r.interleaved,i===null?(t.next=t,ap(r)):(t.next=i.next,i.next=t),r.interleaved=t,xn(e,n)}function qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}function ey(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wu(e,t,n,r){var i=e.updateQueue;Un=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,d=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(d,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(d,h,f):g,f==null)break e;h=pe({},h,f);break e;case 2:Un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=d,u=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wr|=o,e.lanes=o,e.memoizedState=h}}function ty(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Y0=new G_.Component().refs;function Af(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?si(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),i=rr(e),s=Pn(r,i);s.payload=t,n!=null&&(s.callback=n),t=tr(e,s,i),t!==null&&(Gt(t,e,i,r),qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),i=rr(e),s=Pn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=tr(e,s,i),t!==null&&(Gt(t,e,i,r),qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=rr(e),i=Pn(n,r);i.tag=2,t!=null&&(i.callback=t),t=tr(e,i,r),t!==null&&(Gt(t,e,r,n),qa(t,e,r))}};function ny(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ao(n,r)||!ao(i,s):!0}function J0(e,t,n){var r=!1,i=hr,s=t.contextType;return typeof s=="object"&&s!==null?s=$t(s):(i=gt(t)?zr:nt.current,r=t.contextTypes,s=(r=r!=null)?Ui(e,i):hr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Cf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Y0,up(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=$t(s):(s=gt(t)?zr:nt.current,i.context=Ui(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Af(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ml.enqueueReplaceState(i,i.state,null),wu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Y0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Ta(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iy(e){var t=e._init;return t(e._payload)}function Z0(e){function t(p,m){if(e){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=ir(p,m),p.index=0,p.sibling=null,p}function s(p,m,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,w){return m===null||m.tag!==6?(m=sh(v,p.mode,w),m.return=p,m):(m=i(m,v),m.return=p,m)}function u(p,m,v,w){var E=v.type;return E===gi?c(p,m,v.props.children,w,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===jn&&iy(E)===m.type)?(w=i(m,v.props),w.ref=Es(p,m,v),w.return=p,w):(w=Xa(v.type,v.key,v.props,null,p.mode,w),w.ref=Es(p,m,v),w.return=p,w)}function l(p,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=oh(v,p.mode,w),m.return=p,m):(m=i(m,v.children||[]),m.return=p,m)}function c(p,m,v,w,E){return m===null||m.tag!==7?(m=Ur(v,p.mode,w,E),m.return=p,m):(m=i(m,v),m.return=p,m)}function h(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sh(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ha:return v=Xa(m.type,m.key,m.props,null,p.mode,v),v.ref=Es(p,null,m),v.return=p,v;case mi:return m=oh(m,p.mode,v),m.return=p,m;case jn:var w=m._init;return h(p,w(m._payload),v)}if(Rs(m)||gs(m))return m=Ur(m,p.mode,v,null),m.return=p,m;Ta(p,m)}return null}function f(p,m,v,w){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(p,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ha:return v.key===E?u(p,m,v,w):null;case mi:return v.key===E?l(p,m,v,w):null;case jn:return E=v._init,f(p,m,E(v._payload),w)}if(Rs(v)||gs(v))return E!==null?null:c(p,m,v,w,null);Ta(p,v)}return null}function d(p,m,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,a(m,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ha:return p=p.get(w.key===null?v:w.key)||null,u(m,p,w,E);case mi:return p=p.get(w.key===null?v:w.key)||null,l(m,p,w,E);case jn:var T=w._init;return d(p,m,v,T(w._payload),E)}if(Rs(w)||gs(w))return p=p.get(v)||null,c(m,p,w,E,null);Ta(m,w)}return null}function g(p,m,v,w){for(var E=null,T=null,I=m,P=m=0,b=null;I!==null&&P<v.length;P++){I.index>P?(b=I,I=null):b=I.sibling;var D=f(p,I,v[P],w);if(D===null){I===null&&(I=b);break}e&&I&&D.alternate===null&&t(p,I),m=s(D,m,P),T===null?E=D:T.sibling=D,T=D,I=b}if(P===v.length)return n(p,I),le&&Cr(p,P),E;if(I===null){for(;P<v.length;P++)I=h(p,v[P],w),I!==null&&(m=s(I,m,P),T===null?E=I:T.sibling=I,T=I);return le&&Cr(p,P),E}for(I=r(p,I);P<v.length;P++)b=d(I,p,P,v[P],w),b!==null&&(e&&b.alternate!==null&&I.delete(b.key===null?P:b.key),m=s(b,m,P),T===null?E=b:T.sibling=b,T=b);return e&&I.forEach(function(X){return t(p,X)}),le&&Cr(p,P),E}function y(p,m,v,w){var E=gs(v);if(typeof E!="function")throw Error(R(150));if(v=E.call(v),v==null)throw Error(R(151));for(var T=E=null,I=m,P=m=0,b=null,D=v.next();I!==null&&!D.done;P++,D=v.next()){I.index>P?(b=I,I=null):b=I.sibling;var X=f(p,I,D.value,w);if(X===null){I===null&&(I=b);break}e&&I&&X.alternate===null&&t(p,I),m=s(X,m,P),T===null?E=X:T.sibling=X,T=X,I=b}if(D.done)return n(p,I),le&&Cr(p,P),E;if(I===null){for(;!D.done;P++,D=v.next())D=h(p,D.value,w),D!==null&&(m=s(D,m,P),T===null?E=D:T.sibling=D,T=D);return le&&Cr(p,P),E}for(I=r(p,I);!D.done;P++,D=v.next())D=d(I,p,P,D.value,w),D!==null&&(e&&D.alternate!==null&&I.delete(D.key===null?P:D.key),m=s(D,m,P),T===null?E=D:T.sibling=D,T=D);return e&&I.forEach(function(Se){return t(p,Se)}),le&&Cr(p,P),E}function _(p,m,v,w){if(typeof v=="object"&&v!==null&&v.type===gi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ha:e:{for(var E=v.key,T=m;T!==null;){if(T.key===E){if(E=v.type,E===gi){if(T.tag===7){n(p,T.sibling),m=i(T,v.props.children),m.return=p,p=m;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===jn&&iy(E)===T.type){n(p,T.sibling),m=i(T,v.props),m.ref=Es(p,T,v),m.return=p,p=m;break e}n(p,T);break}else t(p,T);T=T.sibling}v.type===gi?(m=Ur(v.props.children,p.mode,w,v.key),m.return=p,p=m):(w=Xa(v.type,v.key,v.props,null,p.mode,w),w.ref=Es(p,m,v),w.return=p,p=w)}return o(p);case mi:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=i(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=oh(v,p.mode,w),m.return=p,p=m}return o(p);case jn:return T=v._init,_(p,m,T(v._payload),w)}if(Rs(v))return g(p,m,v,w);if(gs(v))return y(p,m,v,w);Ta(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,v),m.return=p,p=m):(n(p,m),m=sh(v,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return _}var zi=Z0(!0),e1=Z0(!1),Bo={},on=vr(Bo),ho=vr(Bo),fo=vr(Bo);function br(e){if(e===Bo)throw Error(R(174));return e}function lp(e,t){switch(re(fo,t),re(ho,e),re(on,Bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sf(t,e)}oe(on),re(on,t)}function qi(){oe(on),oe(ho),oe(fo)}function t1(e){br(fo.current);var t=br(on.current),n=sf(t,e.type);t!==n&&(re(ho,e),re(on,n))}function cp(e){ho.current===e&&(oe(on),oe(ho))}var he=vr(0);function Eu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zc=[];function hp(){for(var e=0;e<Zc.length;e++)Zc[e]._workInProgressVersionPrimary=null;Zc.length=0}var Ka=$n.ReactCurrentDispatcher,eh=$n.ReactCurrentBatchConfig,Kr=0,fe=null,Ie=null,Oe=null,Tu=!1,zs=!1,po=0,HP=0;function We(){throw Error(R(321))}function fp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function dp(e,t,n,r,i,s){if(Kr=s,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ka.current=e===null||e.memoizedState===null?YP:JP,e=n(r,i),zs){s=0;do{if(zs=!1,po=0,25<=s)throw Error(R(301));s+=1,Oe=Ie=null,t.updateQueue=null,Ka.current=ZP,e=n(r,i)}while(zs)}if(Ka.current=Su,t=Ie!==null&&Ie.next!==null,Kr=0,Oe=Ie=fe=null,Tu=!1,t)throw Error(R(300));return e}function pp(){var e=po!==0;return po=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?fe.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ft(){if(Ie===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Oe===null?fe.memoizedState:Oe.next;if(t!==null)Oe=t,Ie=e;else{if(e===null)throw Error(R(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Oe===null?fe.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function mo(e,t){return typeof t=="function"?t(e):t}function th(e){var t=Ft(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Kr&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,fe.lanes|=c,Wr|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Xt(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,fe.lanes|=s,Wr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nh(e){var t=Ft(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Xt(s,t.memoizedState)||(dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function n1(){}function r1(e,t){var n=fe,r=Ft(),i=t(),s=!Xt(r.memoizedState,i);if(s&&(r.memoizedState=i,dt=!0),r=r.queue,mp(o1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,go(9,s1.bind(null,n,r,i,t),void 0,null),xe===null)throw Error(R(349));Kr&30||i1(n,t,i)}return i}function i1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function s1(e,t,n,r){t.value=n,t.getSnapshot=r,a1(t)&&u1(e)}function o1(e,t,n){return n(function(){a1(t)&&u1(e)})}function a1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function u1(e){var t=xn(e,1);t!==null&&Gt(t,e,1,-1)}function sy(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=XP.bind(null,fe,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function l1(){return Ft().memoizedState}function Wa(e,t,n,r){var i=Zt();fe.flags|=e,i.memoizedState=go(1|t,n,void 0,r===void 0?null:r)}function gl(e,t,n,r){var i=Ft();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var o=Ie.memoizedState;if(s=o.destroy,r!==null&&fp(r,o.deps)){i.memoizedState=go(t,n,s,r);return}}fe.flags|=e,i.memoizedState=go(1|t,n,s,r)}function oy(e,t){return Wa(8390656,8,e,t)}function mp(e,t){return gl(2048,8,e,t)}function c1(e,t){return gl(4,2,e,t)}function h1(e,t){return gl(4,4,e,t)}function f1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d1(e,t,n){return n=n!=null?n.concat([e]):null,gl(4,4,f1.bind(null,t,e),n)}function gp(){}function p1(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function m1(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function g1(e,t,n){return Kr&21?(Xt(n,t)||(n=_0(),fe.lanes|=n,Wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function QP(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=eh.transition;eh.transition={};try{e(!1),t()}finally{Y=n,eh.transition=r}}function y1(){return Ft().memoizedState}function GP(e,t,n){var r=rr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v1(e))_1(t,n);else if(n=G0(e,t,n,r),n!==null){var i=at();Gt(n,e,r,i),w1(n,t,r)}}function XP(e,t,n){var r=rr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v1(e))_1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xt(a,o)){var u=t.interleaved;u===null?(i.next=i,ap(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=G0(e,t,i,r),n!==null&&(i=at(),Gt(n,e,r,i),w1(n,t,r))}}function v1(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function _1(e,t){zs=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function w1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}var Su={readContext:$t,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},YP={readContext:$t,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:oy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wa(4194308,4,f1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wa(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=GP.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:sy,useDebugValue:gp,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=sy(!1),t=e[0];return e=QP.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,i=Zt();if(le){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),xe===null)throw Error(R(349));Kr&30||i1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,oy(o1.bind(null,r,s,e),[e]),r.flags|=2048,go(9,s1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Zt(),t=xe.identifierPrefix;if(le){var n=Sn,r=Tn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=HP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JP={readContext:$t,useCallback:p1,useContext:$t,useEffect:mp,useImperativeHandle:d1,useInsertionEffect:c1,useLayoutEffect:h1,useMemo:m1,useReducer:th,useRef:l1,useState:function(){return th(mo)},useDebugValue:gp,useDeferredValue:function(e){var t=Ft();return g1(t,Ie.memoizedState,e)},useTransition:function(){var e=th(mo)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:n1,useSyncExternalStore:r1,useId:y1,unstable_isNewReconciler:!1},ZP={readContext:$t,useCallback:p1,useContext:$t,useEffect:mp,useImperativeHandle:d1,useInsertionEffect:c1,useLayoutEffect:h1,useMemo:m1,useReducer:nh,useRef:l1,useState:function(){return nh(mo)},useDebugValue:gp,useDeferredValue:function(e){var t=Ft();return Ie===null?t.memoizedState=e:g1(t,Ie.memoizedState,e)},useTransition:function(){var e=nh(mo)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:n1,useSyncExternalStore:r1,useId:y1,unstable_isNewReconciler:!1};function Ki(e,t){try{var n="",r=t;do n+=CI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function rh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eA=typeof WeakMap=="function"?WeakMap:Map;function E1(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,$f=r),Rf(e,t)},n}function T1(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rf(e,t),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ay(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pA.bind(null,e,t,n),t.then(e,e))}function uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ly(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,tr(n,t,1))),n.lanes|=1),e)}var tA=$n.ReactCurrentOwner,dt=!1;function it(e,t,n,r){t.child=e===null?e1(t,null,n,r):zi(t,e.child,n,r)}function cy(e,t,n,r,i){n=n.render;var s=t.ref;return Ni(t,i),r=dp(e,t,n,r,s,i),n=pp(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dn(e,t,i)):(le&&n&&tp(t),t.flags|=1,it(e,t,r,i),t.child)}function hy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ip(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,S1(e,t,s,r,i)):(e=Xa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(o,r)&&e.ref===t.ref)return Dn(e,t,i)}return t.flags|=1,e=ir(s,r),e.ref=t.ref,e.return=t,t.child=e}function S1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ao(s,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,Dn(e,t,i)}return kf(e,t,n,r,i)}function I1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Ai,_t),_t|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(Ai,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,re(Ai,_t),_t|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,re(Ai,_t),_t|=r;return it(e,t,i,n),t.child}function P1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kf(e,t,n,r,i){var s=gt(n)?zr:nt.current;return s=Ui(t,s),Ni(t,i),n=dp(e,t,n,r,s,i),r=pp(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dn(e,t,i)):(le&&r&&tp(t),t.flags|=1,it(e,t,n,i),t.child)}function fy(e,t,n,r,i){if(gt(n)){var s=!0;mu(t)}else s=!1;if(Ni(t,i),t.stateNode===null)Ha(e,t),J0(t,n,r),Cf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=$t(l):(l=gt(n)?zr:nt.current,l=Ui(t,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&ry(t,o,r,l),Un=!1;var f=t.memoizedState;o.state=f,wu(t,r,o,i),u=t.memoizedState,a!==r||f!==u||mt.current||Un?(typeof c=="function"&&(Af(t,n,c,r),u=t.memoizedState),(a=Un||ny(t,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,X0(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Bt(t.type,a),o.props=l,h=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=gt(n)?zr:nt.current,u=Ui(t,u));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&ry(t,o,r,u),Un=!1,f=t.memoizedState,o.state=f,wu(t,r,o,i);var g=t.memoizedState;a!==h||f!==g||mt.current||Un?(typeof d=="function"&&(Af(t,n,d,r),g=t.memoizedState),(l=Un||ny(t,n,l,r,f,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Of(e,t,n,r,s,i)}function Of(e,t,n,r,i,s){P1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Yg(t,n,!1),Dn(e,t,s);r=t.stateNode,tA.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zi(t,e.child,null,s),t.child=zi(t,null,a,s)):it(e,t,a,s),t.memoizedState=r.state,i&&Yg(t,n,!0),t.child}function A1(e){var t=e.stateNode;t.pendingContext?Xg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xg(e,t.context,!1),lp(e,t.containerInfo)}function dy(e,t,n,r,i){return Bi(),rp(i),t.flags|=256,it(e,t,n,r),t.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Df(e){return{baseLanes:e,cachePool:null,transitions:null}}function C1(e,t,n){var r=t.pendingProps,i=he.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),re(he,i&1),e===null)return If(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_l(o,r,0,null),e=Ur(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Df(n),t.memoizedState=xf,e):yp(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nA(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ir(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ir(a,s):(s=Ur(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Df(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=xf,r}return s=e.child,e=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yp(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,r){return r!==null&&rp(r),zi(t,e.child,null,n),e=yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nA(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=rh(Error(R(422))),Sa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=_l({mode:"visible",children:r.children},i,0,null),s=Ur(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zi(t,e.child,null,o),t.child.memoizedState=Df(o),t.memoizedState=xf,s);if(!(t.mode&1))return Sa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=rh(s,r,void 0),Sa(e,t,o,r)}if(a=(o&e.childLanes)!==0,dt||a){if(r=xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xn(e,i),Gt(r,e,i,-1))}return Sp(),r=rh(Error(R(421))),Sa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,wt=er(i.nextSibling),Tt=t,le=!0,Kt=null,e!==null&&(xt[Dt++]=Tn,xt[Dt++]=Sn,xt[Dt++]=qr,Tn=e.id,Sn=e.overflow,qr=t),t=yp(t,r.children),t.flags|=4096,t)}function py(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pf(e.return,t,n)}function ih(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function R1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(it(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,n,t);else if(e.tag===19)py(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(he,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Eu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ih(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Eu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ih(t,!0,n,null,s);break;case"together":ih(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rA(e,t,n){switch(t.tag){case 3:A1(t),Bi();break;case 5:t1(t);break;case 1:gt(t.type)&&mu(t);break;case 4:lp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;re(vu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?C1(e,t,n):(re(he,he.current&1),e=Dn(e,t,n),e!==null?e.sibling:null);re(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return R1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,I1(e,t,n)}return Dn(e,t,n)}var k1,Nf,O1,x1;k1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nf=function(){};O1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,br(on.current);var s=null;switch(n){case"input":i=ef(e,i),r=ef(e,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=rf(e,i),r=rf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=du)}of(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(eo.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(eo.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ie("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};x1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iA(e,t,n){var r=t.pendingProps;switch(np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return gt(t.type)&&pu(),He(t),null;case 3:return r=t.stateNode,qi(),oe(mt),oe(nt),hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kt!==null&&(Uf(Kt),Kt=null))),Nf(e,t),He(t),null;case 5:cp(t);var i=br(fo.current);if(n=t.type,e!==null&&t.stateNode!=null)O1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return He(t),null}if(e=br(on.current),Ea(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[en]=t,r[co]=s,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(i=0;i<Os.length;i++)ie(Os[i],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Sg(r,s),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ie("invalid",r);break;case"textarea":Pg(r,s),ie("invalid",r)}of(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,a,e),i=["children",""+a]):eo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":fa(r),Ig(r,s,!0);break;case"textarea":fa(r),Ag(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=du)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[co]=r,k1(e,t,!1,!1),t.stateNode=e;e:{switch(o=af(n,r),n){case"dialog":ie("cancel",e),ie("close",e),i=r;break;case"iframe":case"object":case"embed":ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Os.length;i++)ie(Os[i],e);i=r;break;case"source":ie("error",e),i=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),i=r;break;case"details":ie("toggle",e),i=r;break;case"input":Sg(e,r),i=ef(e,r),ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Pg(e,r),i=rf(e,r),ie("invalid",e);break;default:i=r}of(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?a0(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&s0(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&to(e,u):typeof u=="number"&&to(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ie("scroll",e):u!=null&&Ud(e,s,u,o))}switch(n){case"input":fa(e),Ig(e,r,!1);break;case"textarea":fa(e),Ag(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ki(e,!!r.multiple,s,!1):r.defaultValue!=null&&ki(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=du)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)x1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=br(fo.current),br(on.current),Ea(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(s=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:wa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return He(t),null;case 13:if(oe(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&wt!==null&&t.mode&1&&!(t.flags&128))Q0(),Bi(),t.flags|=98560,s=!1;else if(s=Ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[en]=t}else Bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),s=!1}else Kt!==null&&(Uf(Kt),Kt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ae===0&&(Ae=3):Sp())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return qi(),Nf(e,t),e===null&&uo(t.stateNode.containerInfo),He(t),null;case 10:return op(t.type._context),He(t),null;case 17:return gt(t.type)&&pu(),He(t),null;case 19:if(oe(he),s=t.memoizedState,s===null)return He(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ts(s,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eu(e),o!==null){for(t.flags|=128,Ts(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(he,he.current&1|2),t.child}e=e.sibling}s.tail!==null&&_e()>Wi&&(t.flags|=128,r=!0,Ts(s,!1),t.lanes=4194304)}else{if(!r)if(e=Eu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!le)return He(t),null}else 2*_e()-s.renderingStartTime>Wi&&n!==1073741824&&(t.flags|=128,r=!0,Ts(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_e(),t.sibling=null,n=he.current,re(he,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Tp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function sA(e,t){switch(np(t),t.tag){case 1:return gt(t.type)&&pu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(),oe(mt),oe(nt),hp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cp(t),null;case 13:if(oe(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(he),null;case 4:return qi(),null;case 10:return op(t.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var Ia=!1,Ye=!1,oA=typeof WeakSet=="function"?WeakSet:Set,x=null;function Pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function bf(e,t,n){try{n()}catch(r){ge(e,t,r)}}var my=!1;function aA(e,t){if(yf=cu,e=V0(),ep(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:e,selectionRange:n},cu=!1,x=t;x!==null;)if(t=x,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,x=e;else for(;x!==null;){t=x;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Bt(t.type,y),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){ge(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,x=e;break}x=t.return}return g=my,my=!1,g}function qs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&bf(t,n,s)}i=i.next}while(i!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function D1(e){var t=e.alternate;t!==null&&(e.alternate=null,D1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[co],delete t[Ef],delete t[zP],delete t[qP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N1(e){return e.tag===5||e.tag===3||e.tag===4}function gy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=du));else if(r!==4&&(e=e.child,e!==null))for(Mf(e,t,n),e=e.sibling;e!==null;)Mf(e,t,n),e=e.sibling}function Lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lf(e,t,n),e=e.sibling;e!==null;)Lf(e,t,n),e=e.sibling}var Le=null,qt=!1;function Fn(e,t,n){for(n=n.child;n!==null;)b1(e,t,n),n=n.sibling}function b1(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:Ye||Pi(n,t);case 6:var r=Le,i=qt;Le=null,Fn(e,t,n),Le=r,qt=i,Le!==null&&(qt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(qt?(e=Le,n=n.stateNode,e.nodeType===8?Yc(e.parentNode,n):e.nodeType===1&&Yc(e,n),so(e)):Yc(Le,n.stateNode));break;case 4:r=Le,i=qt,Le=n.stateNode.containerInfo,qt=!0,Fn(e,t,n),Le=r,qt=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bf(n,t,o),i=i.next}while(i!==r)}Fn(e,t,n);break;case 1:if(!Ye&&(Pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,t,a)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,Fn(e,t,n),Ye=r):Fn(e,t,n);break;default:Fn(e,t,n)}}function yy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oA),t.forEach(function(r){var i=gA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,qt=!1;break e;case 3:Le=a.stateNode.containerInfo,qt=!0;break e;case 4:Le=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Le===null)throw Error(R(160));b1(s,o,i),Le=null,qt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ge(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V1(t,e),t=t.sibling}function V1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Jt(e),r&4){try{qs(3,e,e.return),yl(3,e)}catch(y){ge(e,e.return,y)}try{qs(5,e,e.return)}catch(y){ge(e,e.return,y)}}break;case 1:Ut(t,e),Jt(e),r&512&&n!==null&&Pi(n,n.return);break;case 5:if(Ut(t,e),Jt(e),r&512&&n!==null&&Pi(n,n.return),e.flags&32){var i=e.stateNode;try{to(i,"")}catch(y){ge(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&n0(i,s),af(a,o);var l=af(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?a0(i,h):c==="dangerouslySetInnerHTML"?s0(i,h):c==="children"?to(i,h):Ud(i,c,h,l)}switch(a){case"input":tf(i,s);break;case"textarea":r0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?ki(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?ki(i,!!s.multiple,s.defaultValue,!0):ki(i,!!s.multiple,s.multiple?[]:"",!1))}i[co]=s}catch(y){ge(e,e.return,y)}}break;case 6:if(Ut(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){ge(e,e.return,y)}}break;case 3:if(Ut(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(y){ge(e,e.return,y)}break;case 4:Ut(t,e),Jt(e);break;case 13:Ut(t,e),Jt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wp=_e())),r&4&&yy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(l=Ye)||c,Ut(t,e),Ye=l):Ut(t,e),Jt(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(x=e,c=e.child;c!==null;){for(h=x=c;x!==null;){switch(f=x,d=f.child,f.tag){case 0:case 11:case 14:case 15:qs(4,f,f.return);break;case 1:Pi(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){ge(r,n,y)}}break;case 5:Pi(f,f.return);break;case 22:if(f.memoizedState!==null){_y(h);continue}}d!==null?(d.return=f,x=d):_y(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=o0("display",o))}catch(y){ge(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){ge(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ut(t,e),Jt(e),r&4&&yy(e);break;case 21:break;default:Ut(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(N1(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var s=gy(e);Lf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gy(e);Mf(e,a,o);break;default:throw Error(R(161))}}catch(u){ge(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uA(e,t,n){x=e,M1(e)}function M1(e,t,n){for(var r=(e.mode&1)!==0;x!==null;){var i=x,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ia;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ye;a=Ia;var l=Ye;if(Ia=o,(Ye=u)&&!l)for(x=i;x!==null;)o=x,u=o.child,o.tag===22&&o.memoizedState!==null?wy(i):u!==null?(u.return=o,x=u):wy(i);for(;s!==null;)x=s,M1(s),s=s.sibling;x=i,Ia=a,Ye=l}vy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,x=s):vy(e)}}function vy(e){for(;x!==null;){var t=x;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ty(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ty(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&so(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ye||t.flags&512&&Vf(t)}catch(f){ge(t,t.return,f)}}if(t===e){x=null;break}if(n=t.sibling,n!==null){n.return=t.return,x=n;break}x=t.return}}function _y(e){for(;x!==null;){var t=x;if(t===e){x=null;break}var n=t.sibling;if(n!==null){n.return=t.return,x=n;break}x=t.return}}function wy(e){for(;x!==null;){var t=x;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(u){ge(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){ge(t,i,u)}}var s=t.return;try{Vf(t)}catch(u){ge(t,s,u)}break;case 5:var o=t.return;try{Vf(t)}catch(u){ge(t,o,u)}}}catch(u){ge(t,t.return,u)}if(t===e){x=null;break}var a=t.sibling;if(a!==null){a.return=t.return,x=a;break}x=t.return}}var lA=Math.ceil,Iu=$n.ReactCurrentDispatcher,vp=$n.ReactCurrentOwner,Vt=$n.ReactCurrentBatchConfig,H=0,xe=null,Te=null,Ue=0,_t=0,Ai=vr(0),Ae=0,yo=null,Wr=0,vl=0,_p=0,Ks=null,ht=null,wp=0,Wi=1/0,_n=null,Pu=!1,$f=null,nr=null,Pa=!1,Hn=null,Au=0,Ws=0,Ff=null,Qa=-1,Ga=0;function at(){return H&6?_e():Qa!==-1?Qa:Qa=_e()}function rr(e){return e.mode&1?H&2&&Ue!==0?Ue&-Ue:WP.transition!==null?(Ga===0&&(Ga=_0()),Ga):(e=Y,e!==0||(e=window.event,e=e===void 0?16:A0(e.type)),e):1}function Gt(e,t,n,r){if(50<Ws)throw Ws=0,Ff=null,Error(R(185));Fo(e,n,r),(!(H&2)||e!==xe)&&(e===xe&&(!(H&2)&&(vl|=n),Ae===4&&qn(e,Ue)),yt(e,r),n===1&&H===0&&!(t.mode&1)&&(Wi=_e()+500,pl&&_r()))}function yt(e,t){var n=e.callbackNode;WI(e,t);var r=lu(e,e===xe?Ue:0);if(r===0)n!==null&&kg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kg(n),t===1)e.tag===0?KP(Ey.bind(null,e)):K0(Ey.bind(null,e)),UP(function(){!(H&6)&&_r()}),n=null;else{switch(w0(r)){case 1:n=Wd;break;case 4:n=y0;break;case 16:n=uu;break;case 536870912:n=v0;break;default:n=uu}n=q1(n,L1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function L1(e,t){if(Qa=-1,Ga=0,H&6)throw Error(R(327));var n=e.callbackNode;if(bi()&&e.callbackNode!==n)return null;var r=lu(e,e===xe?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cu(e,r);else{t=r;var i=H;H|=2;var s=F1();(xe!==e||Ue!==t)&&(_n=null,Wi=_e()+500,jr(e,t));do try{fA();break}catch(a){$1(e,a)}while(1);sp(),Iu.current=s,H=i,Te!==null?t=0:(xe=null,Ue=0,t=Ae)}if(t!==0){if(t===2&&(i=ff(e),i!==0&&(r=i,t=jf(e,i))),t===1)throw n=yo,jr(e,0),qn(e,r),yt(e,_e()),n;if(t===6)qn(e,r);else{if(i=e.current.alternate,!(r&30)&&!cA(i)&&(t=Cu(e,r),t===2&&(s=ff(e),s!==0&&(r=s,t=jf(e,s))),t===1))throw n=yo,jr(e,0),qn(e,r),yt(e,_e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Rr(e,ht,_n);break;case 3:if(qn(e,r),(r&130023424)===r&&(t=wp+500-_e(),10<t)){if(lu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wf(Rr.bind(null,e,ht,_n),t);break}Rr(e,ht,_n);break;case 4:if(qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Qt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lA(r/1960))-r,10<r){e.timeoutHandle=wf(Rr.bind(null,e,ht,_n),r);break}Rr(e,ht,_n);break;case 5:Rr(e,ht,_n);break;default:throw Error(R(329))}}}return yt(e,_e()),e.callbackNode===n?L1.bind(null,e):null}function jf(e,t){var n=Ks;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=Cu(e,t),e!==2&&(t=ht,ht=n,t!==null&&Uf(t)),e}function Uf(e){ht===null?ht=e:ht.push.apply(ht,e)}function cA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~_p,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function Ey(e){if(H&6)throw Error(R(327));bi();var t=lu(e,0);if(!(t&1))return yt(e,_e()),null;var n=Cu(e,t);if(e.tag!==0&&n===2){var r=ff(e);r!==0&&(t=r,n=jf(e,r))}if(n===1)throw n=yo,jr(e,0),qn(e,t),yt(e,_e()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,ht,_n),yt(e,_e()),null}function Ep(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Wi=_e()+500,pl&&_r())}}function Hr(e){Hn!==null&&Hn.tag===0&&!(H&6)&&bi();var t=H;H|=1;var n=Vt.transition,r=Y;try{if(Vt.transition=null,Y=1,e)return e()}finally{Y=r,Vt.transition=n,H=t,!(H&6)&&_r()}}function Tp(){_t=Ai.current,oe(Ai)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jP(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(np(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pu();break;case 3:qi(),oe(mt),oe(nt),hp();break;case 5:cp(r);break;case 4:qi();break;case 13:oe(he);break;case 19:oe(he);break;case 10:op(r.type._context);break;case 22:case 23:Tp()}n=n.return}if(xe=e,Te=e=ir(e.current,null),Ue=_t=t,Ae=0,yo=null,_p=vl=Wr=0,ht=Ks=null,Nr!==null){for(t=0;t<Nr.length;t++)if(n=Nr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nr=null}return e}function $1(e,t){do{var n=Te;try{if(sp(),Ka.current=Su,Tu){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tu=!1}if(Kr=0,Oe=Ie=fe=null,zs=!1,po=0,vp.current=null,n===null||n.return===null){Ae=1,yo=t,Te=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ue,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=uy(o);if(d!==null){d.flags&=-257,ly(d,o,a,s,t),d.mode&1&&ay(s,l,t),t=d,u=l;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if(!(t&1)){ay(s,l,t),Sp();break e}u=Error(R(426))}}else if(le&&a.mode&1){var _=uy(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ly(_,o,a,s,t),rp(Ki(u,a));break e}}s=u=Ki(u,a),Ae!==4&&(Ae=2),Ks===null?Ks=[s]:Ks.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=E1(s,u,t);ey(s,p);break e;case 1:a=u;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(nr===null||!nr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=T1(s,a,t);ey(s,w);break e}}s=s.return}while(s!==null)}U1(n)}catch(E){t=E,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(1)}function F1(){var e=Iu.current;return Iu.current=Su,e===null?Su:e}function Sp(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),xe===null||!(Wr&268435455)&&!(vl&268435455)||qn(xe,Ue)}function Cu(e,t){var n=H;H|=2;var r=F1();(xe!==e||Ue!==t)&&(_n=null,jr(e,t));do try{hA();break}catch(i){$1(e,i)}while(1);if(sp(),H=n,Iu.current=r,Te!==null)throw Error(R(261));return xe=null,Ue=0,Ae}function hA(){for(;Te!==null;)j1(Te)}function fA(){for(;Te!==null&&!LI();)j1(Te)}function j1(e){var t=z1(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?U1(e):Te=t,vp.current=null}function U1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sA(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Te=null;return}}else if(n=iA(n,t,_t),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ae===0&&(Ae=5)}function Rr(e,t,n){var r=Y,i=Vt.transition;try{Vt.transition=null,Y=1,dA(e,t,n,r)}finally{Vt.transition=i,Y=r}return null}function dA(e,t,n,r){do bi();while(Hn!==null);if(H&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(HI(e,s),e===xe&&(Te=xe=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pa||(Pa=!0,q1(uu,function(){return bi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vt.transition,Vt.transition=null;var o=Y;Y=1;var a=H;H|=4,vp.current=null,aA(e,n),V1(n,e),NP(vf),cu=!!yf,vf=yf=null,e.current=n,uA(n),$I(),H=a,Y=o,Vt.transition=s}else e.current=n;if(Pa&&(Pa=!1,Hn=e,Au=i),s=e.pendingLanes,s===0&&(nr=null),UI(n.stateNode),yt(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pu)throw Pu=!1,e=$f,$f=null,e;return Au&1&&e.tag!==0&&bi(),s=e.pendingLanes,s&1?e===Ff?Ws++:(Ws=0,Ff=e):Ws=0,_r(),null}function bi(){if(Hn!==null){var e=w0(Au),t=Vt.transition,n=Y;try{if(Vt.transition=null,Y=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,Au=0,H&6)throw Error(R(331));var i=H;for(H|=4,x=e.current;x!==null;){var s=x,o=s.child;if(x.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(x=l;x!==null;){var c=x;switch(c.tag){case 0:case 11:case 15:qs(8,c,s)}var h=c.child;if(h!==null)h.return=c,x=h;else for(;x!==null;){c=x;var f=c.sibling,d=c.return;if(D1(c),c===l){x=null;break}if(f!==null){f.return=d,x=f;break}x=d}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}x=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,x=o;else e:for(;x!==null;){if(s=x,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qs(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,x=p;break e}x=s.return}}var m=e.current;for(x=m;x!==null;){o=x;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,x=v;else e:for(o=m;x!==null;){if(a=x,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yl(9,a)}}catch(E){ge(a,a.return,E)}if(a===o){x=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,x=w;break e}x=a.return}}if(H=i,_r(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{Y=n,Vt.transition=t}}return!1}function Ty(e,t,n){t=Ki(n,t),t=E1(e,t,1),e=tr(e,t,1),t=at(),e!==null&&(Fo(e,1,t),yt(e,t))}function ge(e,t,n){if(e.tag===3)Ty(e,e,n);else for(;t!==null;){if(t.tag===3){Ty(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){e=Ki(n,e),e=T1(t,e,1),t=tr(t,e,1),e=at(),t!==null&&(Fo(t,1,e),yt(t,e));break}}t=t.return}}function pA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(Ue&n)===n&&(Ae===4||Ae===3&&(Ue&130023424)===Ue&&500>_e()-wp?jr(e,0):_p|=n),yt(e,t)}function B1(e,t){t===0&&(e.mode&1?(t=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):t=1);var n=at();e=xn(e,t),e!==null&&(Fo(e,t,n),yt(e,n))}function mA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),B1(e,n)}function gA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),B1(e,n)}var z1;z1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,rA(e,t,n);dt=!!(e.flags&131072)}else dt=!1,le&&t.flags&1048576&&W0(t,yu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ui(t,nt.current);Ni(t,n),i=dp(null,t,r,e,i,n);var s=pp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(s=!0,mu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(t),i.updater=ml,t.stateNode=i,i._reactInternals=t,Cf(t,r,e,n),t=Of(null,t,r,!0,s,n)):(t.tag=0,le&&s&&tp(t),it(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vA(r),e=Bt(r,e),i){case 0:t=kf(null,t,r,e,n);break e;case 1:t=fy(null,t,r,e,n);break e;case 11:t=cy(null,t,r,e,n);break e;case 14:t=hy(null,t,r,Bt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bt(r,i),kf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bt(r,i),fy(e,t,r,i,n);case 3:e:{if(A1(t),e===null)throw Error(R(387));r=t.pendingProps,s=t.memoizedState,i=s.element,X0(e,t),wu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ki(Error(R(423)),t),t=dy(e,t,r,n,i);break e}else if(r!==i){i=Ki(Error(R(424)),t),t=dy(e,t,r,n,i);break e}else for(wt=er(t.stateNode.containerInfo.firstChild),Tt=t,le=!0,Kt=null,n=e1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bi(),r===i){t=Dn(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return t1(t),e===null&&If(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,_f(r,i)?o=null:s!==null&&_f(r,s)&&(t.flags|=32),P1(e,t),it(e,t,o,n),t.child;case 6:return e===null&&If(t),null;case 13:return C1(e,t,n);case 4:return lp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zi(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bt(r,i),cy(e,t,r,i,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,re(vu,r._currentValue),r._currentValue=o,s!==null)if(Xt(s.value,o)){if(s.children===i.children&&!mt.current){t=Dn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Pn(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Pf(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ni(t,n),i=$t(i),r=r(i),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,i=Bt(r,t.pendingProps),i=Bt(r.type,i),hy(e,t,r,i,n);case 15:return S1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bt(r,i),Ha(e,t),t.tag=1,gt(r)?(e=!0,mu(t)):e=!1,Ni(t,n),J0(t,r,i),Cf(t,r,i,n),Of(null,t,r,!0,e,n);case 19:return R1(e,t,n);case 22:return I1(e,t,n)}throw Error(R(156,t.tag))};function q1(e,t){return g0(e,t)}function yA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,r){return new yA(e,t,n,r)}function Ip(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vA(e){if(typeof e=="function")return Ip(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zd)return 11;if(e===qd)return 14}return 2}function ir(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ip(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gi:return Ur(n.children,i,s,t);case Bd:o=8,i|=8;break;case Xh:return e=bt(12,n,t,i|2),e.elementType=Xh,e.lanes=s,e;case Yh:return e=bt(13,n,t,i),e.elementType=Yh,e.lanes=s,e;case Jh:return e=bt(19,n,t,i),e.elementType=Jh,e.lanes=s,e;case Z_:return _l(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y_:o=10;break e;case J_:o=9;break e;case zd:o=11;break e;case qd:o=14;break e;case jn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=bt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ur(e,t,n,r){return e=bt(7,e,r,t),e.lanes=n,e}function _l(e,t,n,r){return e=bt(22,e,r,t),e.elementType=Z_,e.lanes=n,e.stateNode={isHidden:!1},e}function sh(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function oh(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _A(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pp(e,t,n,r,i,s,o,a,u){return e=new _A(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(s),e}function wA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function K1(e){if(!e)return hr;e=e._reactInternals;e:{if(si(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(gt(n))return q0(e,n,t)}return t}function W1(e,t,n,r,i,s,o,a,u){return e=Pp(n,r,!0,e,i,s,o,a,u),e.context=K1(null),n=e.current,r=at(),i=rr(n),s=Pn(r,i),s.callback=t??null,tr(n,s,i),e.current.lanes=i,Fo(e,i,r),yt(e,r),e}function wl(e,t,n,r){var i=t.current,s=at(),o=rr(i);return n=K1(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tr(i,t,o),e!==null&&(Gt(e,i,o,s),qa(e,i,o)),o}function Ru(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ap(e,t){Sy(e,t),(e=e.alternate)&&Sy(e,t)}function EA(){return null}var H1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cp(e){this._internalRoot=e}El.prototype.render=Cp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));wl(e,t,null,null)};El.prototype.unmount=Cp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){wl(null,e,null,null)}),t[On]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=S0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&P0(e)}};function Rp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function TA(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Ru(o);s.call(l)}}var o=W1(t,r,e,0,null,!1,!1,"",Iy);return e._reactRootContainer=o,e[On]=o.current,uo(e.nodeType===8?e.parentNode:e),Hr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Ru(u);a.call(l)}}var u=Pp(e,0,!1,null,null,!1,!1,"",Iy);return e._reactRootContainer=u,e[On]=u.current,uo(e.nodeType===8?e.parentNode:e),Hr(function(){wl(t,u,n,r)}),u}function Sl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ru(o);a.call(u)}}wl(t,o,e,i)}else o=TA(n,t,e,i,r);return Ru(o)}E0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ks(t.pendingLanes);n!==0&&(Hd(t,n|1),yt(t,_e()),!(H&6)&&(Wi=_e()+500,_r()))}break;case 13:Hr(function(){var r=xn(e,1);if(r!==null){var i=at();Gt(r,e,1,i)}}),Ap(e,1)}};Qd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=at();Gt(t,e,134217728,n)}Ap(e,134217728)}};T0=function(e){if(e.tag===13){var t=rr(e),n=xn(e,t);if(n!==null){var r=at();Gt(n,e,t,r)}Ap(e,t)}};S0=function(){return Y};I0=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};lf=function(e,t,n){switch(t){case"input":if(tf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=dl(r);if(!i)throw Error(R(90));t0(r),tf(r,i)}}}break;case"textarea":r0(e,n);break;case"select":t=n.value,t!=null&&ki(e,!!n.multiple,t,!1)}};c0=Ep;h0=Hr;var SA={usingClientEntryPoint:!1,Events:[Uo,wi,dl,u0,l0,Ep]},Ss={findFiberByHostInstance:Dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},IA={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||EA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{ll=Aa.inject(IA),sn=Aa}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(t))throw Error(R(200));return wA(e,t,null,n)};Ct.createRoot=function(e,t){if(!Rp(e))throw Error(R(299));var n=!1,r="",i=H1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pp(e,1,!1,null,null,n,!1,r,i),e[On]=t.current,uo(e.nodeType===8?e.parentNode:e),new Cp(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=p0(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Hr(e)};Ct.hydrate=function(e,t,n){if(!Tl(t))throw Error(R(200));return Sl(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!Rp(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=H1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=W1(t,null,e,1,n??null,i,!1,s,o),e[On]=t.current,uo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new El(t)};Ct.render=function(e,t,n){if(!Tl(t))throw Error(R(200));return Sl(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(R(40));return e._reactRootContainer?(Hr(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};Ct.unstable_batchedUpdates=Ep;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Sl(e,t,n,!1,r)};Ct.version="18.2.0-next-9e3b772b8-20220608";function Q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q1)}catch(e){console.error(e)}}Q1(),W_.exports=Ct;var kp=W_.exports;const IL=V_(kp);var Py=kp;Qh.createRoot=Py.createRoot,Qh.hydrateRoot=Py.hydrateRoot;var G1={exports:{}},X1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=S;function PA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AA=typeof Object.is=="function"?Object.is:PA,CA=Hi.useState,RA=Hi.useEffect,kA=Hi.useLayoutEffect,OA=Hi.useDebugValue;function xA(e,t){var n=t(),r=CA({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return kA(function(){i.value=n,i.getSnapshot=t,ah(i)&&s({inst:i})},[e,n,t]),RA(function(){return ah(i)&&s({inst:i}),e(function(){ah(i)&&s({inst:i})})},[e]),OA(n),n}function ah(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!AA(e,n)}catch{return!0}}function DA(e,t){return t()}var NA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DA:xA;X1.useSyncExternalStore=Hi.useSyncExternalStore!==void 0?Hi.useSyncExternalStore:NA;G1.exports=X1;var bA=G1.exports,Y1={exports:{}},J1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=S,VA=bA;function MA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LA=typeof Object.is=="function"?Object.is:MA,$A=VA.useSyncExternalStore,FA=Il.useRef,jA=Il.useEffect,UA=Il.useMemo,BA=Il.useDebugValue;J1.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=FA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=UA(function(){function u(d){if(!l){if(l=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var g=o.value;if(i(g,d))return h=g}return h=d}if(g=h,LA(c,d))return g;var y=r(d);return i!==void 0&&i(g,y)?g:(c=d,h=y)}var l=!1,c,h,f=n===void 0?null:n;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,n,r,i]);var a=$A(e,s[0],s[1]);return jA(function(){o.hasValue=!0,o.value=a},[a]),BA(a),a};Y1.exports=J1;var zA=Y1.exports;function qA(e){e()}let Z1=qA;const KA=e=>Z1=e,WA=()=>Z1,Ay=Symbol.for("react-redux-context"),Cy=typeof globalThis<"u"?globalThis:{};function HA(){var e;if(!S.createContext)return{};const t=(e=Cy[Ay])!=null?e:Cy[Ay]=new Map;let n=t.get(S.createContext);return n||(n=S.createContext(null),t.set(S.createContext,n)),n}const fr=HA();function Op(e=fr){return function(){return S.useContext(e)}}const ew=Op(),QA=()=>{throw new Error("uSES not initialized!")};let tw=QA;const GA=e=>{tw=e},XA=(e,t)=>e===t;function YA(e=fr){const t=e===fr?ew:Op(e);return function(r,i={}){const{equalityFn:s=XA,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:h,noopCheck:f}=t();S.useRef(!0);const d=S.useCallback({[r.name](y){return r(y)}}[r.name],[r,h,o]),g=tw(l.addNestedSub,u.getState,c||u.getState,d,s);return S.useDebugValue(g),g}}const JA=YA();var nw={exports:{}},Z={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=typeof Symbol=="function"&&Symbol.for,xp=Ne?Symbol.for("react.element"):60103,Dp=Ne?Symbol.for("react.portal"):60106,Pl=Ne?Symbol.for("react.fragment"):60107,Al=Ne?Symbol.for("react.strict_mode"):60108,Cl=Ne?Symbol.for("react.profiler"):60114,Rl=Ne?Symbol.for("react.provider"):60109,kl=Ne?Symbol.for("react.context"):60110,Np=Ne?Symbol.for("react.async_mode"):60111,Ol=Ne?Symbol.for("react.concurrent_mode"):60111,xl=Ne?Symbol.for("react.forward_ref"):60112,Dl=Ne?Symbol.for("react.suspense"):60113,ZA=Ne?Symbol.for("react.suspense_list"):60120,Nl=Ne?Symbol.for("react.memo"):60115,bl=Ne?Symbol.for("react.lazy"):60116,eC=Ne?Symbol.for("react.block"):60121,tC=Ne?Symbol.for("react.fundamental"):60117,nC=Ne?Symbol.for("react.responder"):60118,rC=Ne?Symbol.for("react.scope"):60119;function kt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xp:switch(e=e.type,e){case Np:case Ol:case Pl:case Cl:case Al:case Dl:return e;default:switch(e=e&&e.$$typeof,e){case kl:case xl:case bl:case Nl:case Rl:return e;default:return t}}case Dp:return t}}}function rw(e){return kt(e)===Ol}Z.AsyncMode=Np;Z.ConcurrentMode=Ol;Z.ContextConsumer=kl;Z.ContextProvider=Rl;Z.Element=xp;Z.ForwardRef=xl;Z.Fragment=Pl;Z.Lazy=bl;Z.Memo=Nl;Z.Portal=Dp;Z.Profiler=Cl;Z.StrictMode=Al;Z.Suspense=Dl;Z.isAsyncMode=function(e){return rw(e)||kt(e)===Np};Z.isConcurrentMode=rw;Z.isContextConsumer=function(e){return kt(e)===kl};Z.isContextProvider=function(e){return kt(e)===Rl};Z.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xp};Z.isForwardRef=function(e){return kt(e)===xl};Z.isFragment=function(e){return kt(e)===Pl};Z.isLazy=function(e){return kt(e)===bl};Z.isMemo=function(e){return kt(e)===Nl};Z.isPortal=function(e){return kt(e)===Dp};Z.isProfiler=function(e){return kt(e)===Cl};Z.isStrictMode=function(e){return kt(e)===Al};Z.isSuspense=function(e){return kt(e)===Dl};Z.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Pl||e===Ol||e===Cl||e===Al||e===Dl||e===ZA||typeof e=="object"&&e!==null&&(e.$$typeof===bl||e.$$typeof===Nl||e.$$typeof===Rl||e.$$typeof===kl||e.$$typeof===xl||e.$$typeof===tC||e.$$typeof===nC||e.$$typeof===rC||e.$$typeof===eC)};Z.typeOf=kt;nw.exports=Z;var iC=nw.exports,iw=iC,sC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sw={};sw[iw.ForwardRef]=sC;sw[iw.Memo]=oC;var te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),Vp=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Ml=Symbol.for("react.strict_mode"),Ll=Symbol.for("react.profiler"),$l=Symbol.for("react.provider"),Fl=Symbol.for("react.context"),aC=Symbol.for("react.server_context"),jl=Symbol.for("react.forward_ref"),Ul=Symbol.for("react.suspense"),Bl=Symbol.for("react.suspense_list"),zl=Symbol.for("react.memo"),ql=Symbol.for("react.lazy"),uC=Symbol.for("react.offscreen"),ow;ow=Symbol.for("react.module.reference");function jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bp:switch(e=e.type,e){case Vl:case Ll:case Ml:case Ul:case Bl:return e;default:switch(e=e&&e.$$typeof,e){case aC:case Fl:case jl:case ql:case zl:case $l:return e;default:return t}}case Vp:return t}}}te.ContextConsumer=Fl;te.ContextProvider=$l;te.Element=bp;te.ForwardRef=jl;te.Fragment=Vl;te.Lazy=ql;te.Memo=zl;te.Portal=Vp;te.Profiler=Ll;te.StrictMode=Ml;te.Suspense=Ul;te.SuspenseList=Bl;te.isAsyncMode=function(){return!1};te.isConcurrentMode=function(){return!1};te.isContextConsumer=function(e){return jt(e)===Fl};te.isContextProvider=function(e){return jt(e)===$l};te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bp};te.isForwardRef=function(e){return jt(e)===jl};te.isFragment=function(e){return jt(e)===Vl};te.isLazy=function(e){return jt(e)===ql};te.isMemo=function(e){return jt(e)===zl};te.isPortal=function(e){return jt(e)===Vp};te.isProfiler=function(e){return jt(e)===Ll};te.isStrictMode=function(e){return jt(e)===Ml};te.isSuspense=function(e){return jt(e)===Ul};te.isSuspenseList=function(e){return jt(e)===Bl};te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vl||e===Ll||e===Ml||e===Ul||e===Bl||e===uC||typeof e=="object"&&e!==null&&(e.$$typeof===ql||e.$$typeof===zl||e.$$typeof===$l||e.$$typeof===Fl||e.$$typeof===jl||e.$$typeof===ow||e.getModuleId!==void 0)};te.typeOf=jt;function lC(){const e=WA();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const Ry={notify(){},get:()=>[]};function cC(e,t){let n,r=Ry,i=0,s=!1;function o(y){c();const _=r.subscribe(y);let p=!1;return()=>{p||(p=!0,_(),h())}}function a(){r.notify()}function u(){g.onStateChange&&g.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=lC())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ry)}function f(){s||(s=!0,c())}function d(){s&&(s=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:f,tryUnsubscribe:d,getListeners:()=>r};return g}const hC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fC=hC?S.useLayoutEffect:S.useEffect;function dC({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=S.useMemo(()=>{const l=cC(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=S.useMemo(()=>e.getState(),[e]);fC(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||fr;return S.createElement(u.Provider,{value:o},n)}function aw(e=fr){const t=e===fr?ew:Op(e);return function(){const{store:r}=t();return r}}const pC=aw();function mC(e=fr){const t=e===fr?pC:aw(e);return function(){return t().dispatch}}const gC=mC();GA(zA.useSyncExternalStoreWithSelector);KA(kp.unstable_batchedUpdates);function Wt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function dr(e){return!!e&&!!e[ue]}function Nn(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===PC}(e)||Array.isArray(e)||!!e[Vy]||!!(!((t=e.constructor)===null||t===void 0)&&t[Vy])||Mp(e)||Lp(e))}function Qr(e,t,n){n===void 0&&(n=!1),as(e)===0?(n?Object.keys:Mi)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function as(e){var t=e[ue];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Mp(e)?2:Lp(e)?3:0}function Vi(e,t){return as(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yC(e,t){return as(e)===2?e.get(t):e[t]}function uw(e,t,n){var r=as(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function lw(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Mp(e){return SC&&e instanceof Map}function Lp(e){return IC&&e instanceof Set}function kr(e){return e.o||e.t}function $p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hw(e);delete t[ue];for(var n=Mi(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Fp(e,t){return t===void 0&&(t=!1),jp(e)||dr(e)||!Nn(e)||(as(e)>1&&(e.set=e.add=e.clear=e.delete=vC),Object.freeze(e),t&&Qr(e,function(n,r){return Fp(r,!0)},!0)),e}function vC(){Wt(2)}function jp(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function an(e){var t=Kf[e];return t||Wt(18,e),t}function _C(e,t){Kf[e]||(Kf[e]=t)}function Bf(){return vo}function uh(e,t){t&&(an("Patches"),e.u=[],e.s=[],e.v=t)}function ku(e){zf(e),e.p.forEach(wC),e.p=null}function zf(e){e===vo&&(vo=e.l)}function ky(e){return vo={p:[],l:vo,h:e,m:!0,_:0}}function wC(e){var t=e[ue];t.i===0||t.i===1?t.j():t.g=!0}function lh(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||an("ES5").S(t,e,r),r?(n[ue].P&&(ku(t),Wt(4)),Nn(e)&&(e=Ou(t,e),t.l||xu(t,e)),t.u&&an("Patches").M(n[ue].t,e,t.u,t.s)):e=Ou(t,n,[]),ku(t),t.u&&t.v(t.u,t.s),e!==cw?e:void 0}function Ou(e,t,n){if(jp(t))return t;var r=t[ue];if(!r)return Qr(t,function(a,u){return Oy(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return xu(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=$p(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Qr(s,function(a,u){return Oy(e,r,i,a,u,n,o)}),xu(e,i,!1),n&&e.u&&an("Patches").N(r,n,e.u,e.s)}return r.o}function Oy(e,t,n,r,i,s,o){if(dr(i)){var a=Ou(e,i,s&&t&&t.i!==3&&!Vi(t.R,r)?s.concat(r):void 0);if(uw(n,r,a),!dr(a))return;e.m=!1}else o&&n.add(i);if(Nn(i)&&!jp(i)){if(!e.h.D&&e._<1)return;Ou(e,i),t&&t.A.l||xu(e,i)}}function xu(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Fp(t,n)}function ch(e,t){var n=e[ue];return(n?kr(n):e)[t]}function xy(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Kn(e){e.P||(e.P=!0,e.l&&Kn(e.l))}function hh(e){e.o||(e.o=$p(e.t))}function qf(e,t,n){var r=Mp(t)?an("MapSet").F(t,n):Lp(t)?an("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Bf(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=_o;o&&(u=[a],l=xs);var c=Proxy.revocable(u,l),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(t,n):an("ES5").J(t,n);return(n?n.A:Bf()).p.push(r),r}function EC(e){return dr(e)||Wt(22,e),function t(n){if(!Nn(n))return n;var r,i=n[ue],s=as(n);if(i){if(!i.P&&(i.i<4||!an("ES5").K(i)))return i.t;i.I=!0,r=Dy(n,s),i.I=!1}else r=Dy(n,s);return Qr(r,function(o,a){i&&yC(i.t,o)===a||uw(r,o,t(a))}),s===3?new Set(r):r}(e)}function Dy(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return $p(e)}function TC(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[ue];return _o.get(u,s)},set:function(u){var l=this[ue];_o.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ue];if(!a.P)switch(a.i){case 5:r(a)&&Kn(a);break;case 4:n(a)&&Kn(a)}}}function n(s){for(var o=s.t,a=s.k,u=Mi(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==ue){var h=o[c];if(h===void 0&&!Vi(o,c))return!0;var f=a[c],d=f&&f[ue];if(d?d.t!==h:!lw(f,h))return!0}}var g=!!o[ue];return u.length!==Mi(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};_C("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,e(d,!0));return f}var g=hw(h);delete g[ue];for(var y=Mi(g),_=0;_<y.length;_++){var p=y[_];g[p]=e(p,c||!!g[p].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(a,s),l={i:a?5:4,A:o?o.A:Bf(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,ue,{value:l,writable:!0}),u},S:function(s,o,a){a?dr(o)&&o[ue].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[ue];if(c){var h=c.t,f=c.k,d=c.R,g=c.i;if(g===4)Qr(f,function(v){v!==ue&&(h[v]!==void 0||Vi(h,v)?d[v]||u(f[v]):(d[v]=!0,Kn(c)))}),Qr(h,function(v){f[v]!==void 0||Vi(f,v)||(d[v]=!1,Kn(c))});else if(g===5){if(r(c)&&(Kn(c),d.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)d[y]=!1;else for(var _=h.length;_<f.length;_++)d[_]=!0;for(var p=Math.min(f.length,h.length),m=0;m<p;m++)f.hasOwnProperty(m)||(d[m]=!0),d[m]===void 0&&u(f[m])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Ny,vo,Up=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",SC=typeof Map<"u",IC=typeof Set<"u",by=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",cw=Up?Symbol.for("immer-nothing"):((Ny={})["immer-nothing"]=!0,Ny),Vy=Up?Symbol.for("immer-draftable"):"__$immer_draftable",ue=Up?Symbol.for("immer-state"):"__$immer_state",PC=""+Object.prototype.constructor,Mi=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hw=Object.getOwnPropertyDescriptors||function(e){var t={};return Mi(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Kf={},_o={get:function(e,t){if(t===ue)return e;var n=kr(e);if(!Vi(n,t))return function(i,s,o){var a,u=xy(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Nn(r)?r:r===ch(e.t,t)?(hh(e),e.o[t]=qf(e.A.h,r,e)):r},has:function(e,t){return t in kr(e)},ownKeys:function(e){return Reflect.ownKeys(kr(e))},set:function(e,t,n){var r=xy(kr(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ch(kr(e),t),s=i==null?void 0:i[ue];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(lw(n,i)&&(n!==void 0||Vi(e.t,t)))return!0;hh(e),Kn(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return ch(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,hh(e),Kn(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=kr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Wt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Wt(12)}},xs={};Qr(_o,function(e,t){xs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),xs.deleteProperty=function(e,t){return xs.set.call(this,e,t,void 0)},xs.set=function(e,t,n){return _o.set.call(this,e[0],t,n,e[0])};var AC=function(){function e(n){var r=this;this.O=by,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(y){var _=this;y===void 0&&(y=a);for(var p=arguments.length,m=Array(p>1?p-1:0),v=1;v<p;v++)m[v-1]=arguments[v];return u.produce(y,function(w){var E;return(E=s).call.apply(E,[_,w].concat(m))})}}var l;if(typeof s!="function"&&Wt(6),o!==void 0&&typeof o!="function"&&Wt(7),Nn(i)){var c=ky(r),h=qf(r,i,void 0),f=!0;try{l=s(h),f=!1}finally{f?ku(c):zf(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(y){return uh(c,o),lh(y,c)},function(y){throw ku(c),y}):(uh(c,o),lh(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===cw&&(l=void 0),r.D&&Fp(l,!0),o){var d=[],g=[];an("Patches").M(i,l,d,g),o(d,g)}return l}Wt(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(h))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Nn(n)||Wt(8),dr(n)&&(n=EC(n));var r=ky(this),i=qf(this,n,void 0);return i[ue].C=!0,zf(r),i},t.finishDraft=function(n,r){var i=n&&n[ue],s=i.A;return uh(s,r),lh(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!by&&Wt(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=an("Patches").$;return dr(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),It=new AC,fw=It.produce;It.produceWithPatches.bind(It);It.setAutoFreeze.bind(It);It.setUseProxies.bind(It);It.applyPatches.bind(It);It.createDraft.bind(It);It.finishDraft.bind(It);function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function CC(e,t){if(wo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RC(e){var t=CC(e,"string");return wo(t)==="symbol"?t:String(t)}function kC(e,t,n){return t=RC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?My(Object(n),!0).forEach(function(r){kC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ge(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var $y=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fh=function(){return Math.random().toString(36).substring(7).split("").join(".")},Du={INIT:"@@redux/INIT"+fh(),REPLACE:"@@redux/REPLACE"+fh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fh()}};function OC(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Bp(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ge(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ge(1));return n(Bp)(e,t)}if(typeof e!="function")throw new Error(Ge(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Ge(3));return s}function h(y){if(typeof y!="function")throw new Error(Ge(4));if(u)throw new Error(Ge(5));var _=!0;return l(),a.push(y),function(){if(_){if(u)throw new Error(Ge(6));_=!1,l();var m=a.indexOf(y);a.splice(m,1),o=null}}}function f(y){if(!OC(y))throw new Error(Ge(7));if(typeof y.type>"u")throw new Error(Ge(8));if(u)throw new Error(Ge(9));try{u=!0,s=i(s,y)}finally{u=!1}for(var _=o=a,p=0;p<_.length;p++){var m=_[p];m()}return y}function d(y){if(typeof y!="function")throw new Error(Ge(10));i=y,f({type:Du.REPLACE})}function g(){var y,_=h;return y={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Ge(11));function v(){m.next&&m.next(c())}v();var w=_(v);return{unsubscribe:w}}},y[$y]=function(){return this},y}return f({type:Du.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[$y]=g,r}function xC(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Du.INIT});if(typeof r>"u")throw new Error(Ge(12));if(typeof n(void 0,{type:Du.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ge(13))})}function DC(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{xC(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],g=n[d],y=u[d],_=g(y,l);if(typeof _>"u")throw l&&l.type,new Error(Ge(14));h[d]=_,c=c||_!==y}return c=c||s.length!==Object.keys(u).length,c?h:u}}function Nu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function NC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ge(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=Nu.apply(void 0,a)(i.dispatch),Ly(Ly({},i),{},{dispatch:s})}}}function dw(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var pw=dw();pw.withExtraArgument=dw;const Fy=pw;var mw=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bC=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Qi=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},VC=Object.defineProperty,MC=Object.defineProperties,LC=Object.getOwnPropertyDescriptors,jy=Object.getOwnPropertySymbols,$C=Object.prototype.hasOwnProperty,FC=Object.prototype.propertyIsEnumerable,Uy=function(e,t,n){return t in e?VC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},sr=function(e,t){for(var n in t||(t={}))$C.call(t,n)&&Uy(e,n,t[n]);if(jy)for(var r=0,i=jy(t);r<i.length;r++){var n=i[r];FC.call(t,n)&&Uy(e,n,t[n])}return e},dh=function(e,t){return MC(e,LC(t))},jC=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},UC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nu:Nu.apply(null,arguments)};function BC(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function An(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return sr(sr({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var zC=function(e){mw(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Qi([void 0],n[0].concat(this)))):new(t.bind.apply(t,Qi([void 0],n.concat(this))))},t}(Array),qC=function(e){mw(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Qi([void 0],n[0].concat(this)))):new(t.bind.apply(t,Qi([void 0],n.concat(this))))},t}(Array);function Wf(e){return Nn(e)?fw(e,function(){}):e}function KC(e){return typeof e=="boolean"}function WC(){return function(t){return HC(t)}}function HC(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new zC;return n&&(KC(n)?r.push(Fy):r.push(Fy.withExtraArgument(n.extraArgument))),r}var QC=!0;function GC(e){var t=WC(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof i=="function")d=i;else if(BC(i))d=DC(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(t));var y=NC.apply(void 0,g),_=Nu;u&&(_=UC(sr({trace:!QC},typeof u=="object"&&u)));var p=new qC(y),m=p;Array.isArray(f)?m=Qi([y],f):typeof f=="function"&&(m=f(p));var v=_.apply(void 0,m);return Bp(d,c,v)}function gw(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function XC(e){return typeof e=="function"}function YC(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?gw(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(XC(e))u=function(){return Wf(e())};else{var l=Wf(e);u=function(){return l}}function c(h,f){h===void 0&&(h=u());var d=Qi([s[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return d.filter(function(g){return!!g}).length===0&&(d=[a]),d.reduce(function(g,y){if(y)if(dr(g)){var _=g,p=y(_,f);return p===void 0?g:p}else{if(Nn(g))return fw(g,function(m){return y(m,f)});var p=y(g,f);if(p===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return g},h)}return c.getInitialState=u,c}function JC(e,t){return e+"/"+t}function us(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Wf(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=JC(t,c),d,g;"reducer"in h?(d=h.reducer,g=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=g?An(f,g):An(f)});function u(){var c=typeof e.extraReducers=="function"?gw(e.extraReducers):[e.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],g=d===void 0?[]:d,y=c[2],_=y===void 0?void 0:y,p=sr(sr({},f),o);return YC(n,function(m){for(var v in p)m.addCase(v,p[v]);for(var w=0,E=g;w<E.length;w++){var T=E[w];m.addMatcher(T.matcher,T.reducer)}_&&m.addDefaultCase(_)})}var l;return{name:t,reducer:function(c,h){return l||(l=u()),l(c,h)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var ZC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eR=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=ZC[Math.random()*64|0];return t},tR=["name","message","stack","code"],ph=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),By=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),nR=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=tR;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=An(t+"/fulfilled",function(l,c,h,f){return{payload:l,meta:dh(sr({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=An(t+"/pending",function(l,c,h){return{payload:void 0,meta:dh(sr({},h||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=An(t+"/rejected",function(l,c,h,f,d){return{payload:f,error:(r&&r.serializeError||nR)(l||"Rejected"),meta:dh(sr({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,h,f){var d=r!=null&&r.idGenerator?r.idGenerator(l):eR(),g=new a,y;function _(m){y=m,g.abort()}var p=function(){return jC(this,null,function(){var m,v,w,E,T,I,P;return bC(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),E=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,l,{getState:h,extra:f}),iR(E)?[4,E]:[3,2];case 1:E=b.sent(),b.label=2;case 2:if(E===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(D,X){return g.signal.addEventListener("abort",function(){return X({name:"AbortError",message:y||"Aborted"})})}),c(s(d,l,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:d,arg:l},{getState:h,extra:f}))),[4,Promise.race([T,Promise.resolve(n(l,{dispatch:c,getState:h,extra:f,requestId:d,signal:g.signal,abort:_,rejectWithValue:function(D,X){return new ph(D,X)},fulfillWithValue:function(D,X){return new By(D,X)}})).then(function(D){if(D instanceof ph)throw D;return D instanceof By?i(D.payload,d,l,D.meta):i(D,d,l)})])];case 3:return w=b.sent(),[3,5];case 4:return I=b.sent(),w=I instanceof ph?o(null,d,l,I.payload,I.meta):o(I,d,l),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,P||c(w),[2,w]}})})}();return Object.assign(p,{abort:_,requestId:d,arg:l,unwrap:function(){return p.then(rR)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function rR(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function iR(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var zp="listenerMiddleware";An(zp+"/add");An(zp+"/removeAll");An(zp+"/remove");var zy;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);TC();var qp="persist:",Kp="persist/FLUSH",Kl="persist/REHYDRATE",Wp="persist/PAUSE",Hp="persist/PERSIST",Qp="persist/PURGE",Gp="persist/REGISTER",sR=-1;function Ya(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ya=function(n){return typeof n}:Ya=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ya(e)}function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qy(n,!0).forEach(function(r){aR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uR(e,t,n,r){r.debug;var i=oR({},n);return e&&Ya(e)==="object"&&Object.keys(e).forEach(function(s){s!=="_persist"&&t[s]===n[s]&&(i[s]=e[s])}),i}function lR(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,s="".concat(e.keyPrefix!==void 0?e.keyPrefix:qp).concat(e.key),o=e.storage,a;e.serialize===!1?a=function(E){return E}:typeof e.serialize=="function"?a=e.serialize:a=cR;var u=e.writeFailHandler||null,l={},c={},h=[],f=null,d=null,g=function(E){Object.keys(E).forEach(function(T){p(T)&&l[T]!==E[T]&&h.indexOf(T)===-1&&h.push(T)}),Object.keys(l).forEach(function(T){E[T]===void 0&&p(T)&&h.indexOf(T)===-1&&l[T]!==void 0&&h.push(T)}),f===null&&(f=setInterval(y,i)),l=E};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var w=h.shift(),E=r.reduce(function(T,I){return I.in(T,w,l)},l[w]);if(E!==void 0)try{c[w]=a(E)}catch(T){console.error("redux-persist/createPersistoid: error serializing state",T)}else delete c[w];h.length===0&&_()}function _(){Object.keys(c).forEach(function(w){l[w]===void 0&&delete c[w]}),d=o.setItem(s,a(c)).catch(m)}function p(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||t&&t.indexOf(w)!==-1)}function m(w){u&&u(w)}var v=function(){for(;h.length!==0;)y();return d||Promise.resolve()};return{update:g,flush:v}}function cR(e){return JSON.stringify(e)}function hR(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:qp).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(o){return o}:typeof e.deserialize=="function"?i=e.deserialize:i=fR,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(u){o[u]=t.reduceRight(function(l,c){return c.out(l,u,a)},i(a[u]))}),o}catch(u){throw u}else return})}function fR(e){return JSON.parse(e)}function dR(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:qp).concat(e.key);return t.removeItem(n,pR)}function pR(e){}function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ky(n,!0).forEach(function(r){mR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gR(e,t){if(e==null)return{};var n=yR(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var vR=5e3;function _R(e,t){var n=e.version!==void 0?e.version:sR;e.debug;var r=e.stateReconciler===void 0?uR:e.stateReconciler,i=e.getStoredState||hR,s=e.timeout!==void 0?e.timeout:vR,o=null,a=!1,u=!0,l=function(h){return h._persist.rehydrated&&o&&!u&&o.update(h),h};return function(c,h){var f=c||{},d=f._persist,g=gR(f,["_persist"]),y=g;if(h.type===Hp){var _=!1,p=function(P,b){_||(h.rehydrate(e.key,P,b),_=!0)};if(s&&setTimeout(function(){!_&&p(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},s),u=!1,o||(o=lR(e)),d)return vn({},t(y,h),{_persist:d});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then(function(I){var P=e.migrate||function(b,D){return Promise.resolve(b)};P(I,n).then(function(b){p(b)},function(b){p(void 0,b)})},function(I){p(void 0,I)}),vn({},t(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===Qp)return a=!0,h.result(dR(e)),vn({},t(y,h),{_persist:d});if(h.type===Kp)return h.result(o&&o.flush()),vn({},t(y,h),{_persist:d});if(h.type===Wp)u=!0;else if(h.type===Kl){if(a)return vn({},y,{_persist:vn({},d,{rehydrated:!0})});if(h.key===e.key){var m=t(y,h),v=h.payload,w=r!==!1&&v!==void 0?r(v,c,m,e):m,E=vn({},w,{_persist:vn({},d,{rehydrated:!0})});return l(E)}}}if(!d)return t(c,h);var T=t(y,h);return T===y?c:l(vn({},T,{_persist:d}))}}function Wy(e){return TR(e)||ER(e)||wR()}function wR(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ER(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function TR(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(n,!0).forEach(function(r){SR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yw={registry:[],bootstrapped:!1},IR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yw,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Gp:return Hf({},t,{registry:[].concat(Wy(t.registry),[n.key])});case Kl:var r=t.registry.indexOf(n.key),i=Wy(t.registry);return i.splice(r,1),Hf({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function PR(e,t,n){var r=n||!1,i=Bp(IR,yw,t&&t.enhancer?t.enhancer:void 0),s=function(l){i.dispatch({type:Gp,key:l})},o=function(l,c,h){var f={type:Kl,payload:c,err:h,key:l};e.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=Hf({},i,{purge:function(){var l=[];return e.dispatch({type:Qp,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:Kp,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){e.dispatch({type:Wp})},persist:function(){e.dispatch({type:Hp,register:s,rehydrate:o})}});return t&&t.manualPersist||a.persist(),a}var Xp={},Yp={};Yp.__esModule=!0;Yp.default=RR;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(n){return typeof n}:Ja=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ja(e)}function mh(){}var AR={getItem:mh,setItem:mh,removeItem:mh};function CR(e){if((typeof self>"u"?"undefined":Ja(self))!=="object"||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch{return!1}return!0}function RR(e){var t="".concat(e,"Storage");return CR(t)?self[t]:AR}Xp.__esModule=!0;Xp.default=xR;var kR=OR(Yp);function OR(e){return e&&e.__esModule?e:{default:e}}function xR(e){var t=(0,kR.default)(e);return{getItem:function(r){return new Promise(function(i,s){i(t.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(t.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(t.removeItem(r))})}}}var vw=void 0,DR=NR(Xp);function NR(e){return e&&e.__esModule?e:{default:e}}var bR=(0,DR.default)("local");vw=bR;const zo=An("CLEAN"),Qy={isLoading:!1,previewImg:"",imageFile:null,userList:[],currentUser:null},_w=us({name:"chat",initialState:Qy,reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},loadSidebar:(e,t)=>{e.userList=t.payload},setCurrentUser:(e,t)=>{e.currentUser=t.payload},handleImageUpload:(e,t)=>{const{type:n,payload:r}=t.payload;switch(n){case"show":e.previewImg=r.preview,e.imageFile=r.file;break;case"remove":e.previewImg="",e.imageFile=null;break}}},extraReducers:e=>e.addCase(zo,()=>Qy)}),{setLoading:PL,loadSidebar:AL,setCurrentUser:CL,handleImageUpload:RL}=_w.actions,VR=_w.reducer,Gy={variantList:[0],detailVariantList:[],previewImageList:[]},ww=us({name:"product",initialState:Gy,reducers:{setInitialList:(e,t)=>{const{type:n,payload:r}=t.payload;switch(n){case"detailVariant":e.detailVariantList=r;break;case"previewImage":e.previewImageList=r;break}},addByIndex:(e,t)=>{const{type:n,payload:r}=t.payload;switch(n){case"variant":e.variantList.push(r);break;case"detailVariant":e.detailVariantList.push(r);break}},removeByIndex:(e,t)=>{const{type:n,payload:r}=t.payload;switch(n){case"variant":e.variantList=e.variantList.filter(i=>i!==r).sort((i,s)=>i-s);break;case"detailVariant":e.detailVariantList=e.detailVariantList.filter(i=>i!==r).sort((i,s)=>i-s);break;case"previewImage":e.previewImageList=e.previewImageList.filter((i,s)=>s!==r);break}}},extraReducers:e=>e.addCase(zo,()=>Gy)}),{setInitialList:kL,addByIndex:OL,removeByIndex:xL}=ww.actions,MR=ww.reducer,Xy={isOpenModal:!1,modalId:0,counterValue:0},Ew=us({name:"common",initialState:Xy,reducers:{toggleModal:(e,t)=>{t.payload.id&&(e.modalId=t.payload.id),e.isOpenModal=!e.isOpenModal},increment:(e,t)=>{e.counterValue++},decrement:(e,t)=>{console.log(t),e.counterValue>=1&&e.counterValue--},incrementByAmount:(e,t)=>{e.counterValue+=t.payload}},extraReducers:e=>e.addCase(zo,()=>Xy)}),{toggleModal:DL,increment:NL,decrement:bL,incrementByAmount:VL}=Ew.actions,LR=Ew.reducer,Yy={voucherList:[]},$R=us({name:"voucher",initialState:Yy,reducers:{setInitVoucherList:(e,t)=>{e.voucherList=t.payload},changeStatus:(e,t)=>{}},extraReducers:e=>e.addCase(zo,()=>Yy)}),FR=$R.reducer,Jy={},jR=us({name:"user",initialState:Jy,reducers:{},extraReducers:e=>e.addCase(zo,()=>Jy)}),UR=jR.reducer,BR={isAuth:!1,user:null},Tw=us({name:"auth",initialState:BR,reducers:{loginAction:(e,t)=>{e.isAuth=t.payload},setAdmin:(e,t)=>{e.user=t.payload}}}),{loginAction:ML,setAdmin:LL}=Tw.actions,zR=Tw.reducer,qR={key:"root",version:1,storage:vw},KR=_R(qR,zR),Sw=GC({reducer:{common:LR,auth:KR,chat:VR,product:MR,voucher:FR,user:UR},middleware:e=>e({serializableCheck:{ignoredActions:[Kp,Kl,Wp,Hp,Qp,Gp,"chat/loadSidebar"]}})}),$L=gC,WR=JA;PR(Sw);const HR="modulepreload",QR=function(e){return"/"+e},Zy={},Iw=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=QR(s),s in Zy)return;Zy[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":HR,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((c,h)=>{l.addEventListener("load",c),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const ev="popstate";function GR(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bu(i)}return YR(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XR(){return Math.random().toString(36).substr(2,8)}function tv(e,t){return{usr:e.state,key:e.key,idx:t}}function Qf(e,t,n,r){return n===void 0&&(n=null),Eo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:n,key:t&&t.key||r||XR()})}function bu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function YR(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qn.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Eo({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Qn.Pop;let _=c(),p=_==null?null:_-l;l=_,u&&u({action:a,location:y.location,delta:p})}function f(_,p){a=Qn.Push;let m=Qf(y.location,_,p);n&&n(m,_),l=c()+1;let v=tv(m,l),w=y.createHref(m);try{o.pushState(v,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}s&&u&&u({action:a,location:y.location,delta:1})}function d(_,p){a=Qn.Replace;let m=Qf(y.location,_,p);n&&n(m,_),l=c();let v=tv(m,l),w=y.createHref(m);o.replaceState(v,"",w),s&&u&&u({action:a,location:y.location,delta:0})}function g(_){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:bu(_);return de(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return a},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ev,h),u=_,()=>{i.removeEventListener(ev,h),u=null}},createHref(_){return t(i,_)},createURL:g,encodeLocation(_){let p=g(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:d,go(_){return o.go(_)}};return y}var nv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nv||(nv={}));function JR(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ls(t):t,i=To(r.pathname||"/",n);if(i==null)return null;let s=Pw(e);ZR(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=uk(s[a],ck(i));return o}function Pw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(de(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=or([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(de(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Pw(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:ok(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Aw(s.path))i(s,o,u)}),t}function Aw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Aw(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function ZR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ak(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ek=/^:\w+$/,tk=3,nk=2,rk=1,ik=10,sk=-2,rv=e=>e==="*";function ok(e,t){let n=e.split("/"),r=n.length;return n.some(rv)&&(r+=sk),t&&(r+=nk),n.filter(i=>!rv(i)).reduce((i,s)=>i+(ek.test(s)?tk:s===""?rk:ik),r)}function ak(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function uk(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Gf({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:or([i,c.pathname]),pathnameBase:pk(or([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=or([i,c.pathnameBase]))}return s}function Gf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lk(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=hk(a[h]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function lk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function ck(e){try{return decodeURI(e)}catch(t){return Jp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hk(e,t){try{return decodeURIComponent(e)}catch(n){return Jp(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function To(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function fk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ls(e):e;return{pathname:n?n.startsWith("/")?n:dk(n,t):t,search:mk(r),hash:gk(i)}}function dk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function em(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ls(e):(i=Eo({},e),de(!i.pathname||!i.pathname.includes("?"),gh("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),gh("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),gh("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let u=fk(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const or=e=>e.join("/").replace(/\/\/+/g,"/"),pk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cw=["post","put","patch","delete"];new Set(Cw);const vk=["get",...Cw];new Set(vk);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}const Wl=S.createContext(null),Rw=S.createContext(null),oi=S.createContext(null),Hl=S.createContext(null),mn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),kw=S.createContext(null);function _k(e,t){let{relative:n}=t===void 0?{}:t;cs()||de(!1);let{basename:r,navigator:i}=S.useContext(oi),{hash:s,pathname:o,search:a}=Ql(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:or([r,o])),i.createHref({pathname:u,search:a,hash:s})}function cs(){return S.useContext(Hl)!=null}function wr(){return cs()||de(!1),S.useContext(Hl).location}function Ow(e){S.useContext(oi).static||S.useLayoutEffect(e)}function tm(){let{isDataRoute:e}=S.useContext(mn);return e?bk():wk()}function wk(){cs()||de(!1);let e=S.useContext(Wl),{basename:t,navigator:n}=S.useContext(oi),{matches:r}=S.useContext(mn),{pathname:i}=wr(),s=JSON.stringify(Zp(r).map(u=>u.pathnameBase)),o=S.useRef(!1);return Ow(()=>{o.current=!0}),S.useCallback(function(u,l){if(l===void 0&&(l={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let c=em(u,JSON.parse(s),i,l.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:or([t,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[t,n,s,i,e])}const Ek=S.createContext(null);function Tk(e){let t=S.useContext(mn).outlet;return t&&S.createElement(Ek.Provider,{value:e},t)}function FL(){let{matches:e}=S.useContext(mn),t=e[e.length-1];return t?t.params:{}}function Ql(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=S.useContext(mn),{pathname:i}=wr(),s=JSON.stringify(Zp(r).map(o=>o.pathnameBase));return S.useMemo(()=>em(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Sk(e,t){return Ik(e,t)}function Ik(e,t,n){cs()||de(!1);let{navigator:r}=S.useContext(oi),{matches:i}=S.useContext(mn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=wr(),l;if(t){var c;let y=typeof t=="string"?ls(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||de(!1),l=y}else l=u;let h=l.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=JR(e,{pathname:f}),g=kk(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:or([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:or([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&g?S.createElement(Hl.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Qn.Pop}},g):g}function Pk(){let e=Nk(),t=yk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}const Ak=S.createElement(Pk,null);class Ck extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(mn.Provider,{value:this.props.routeContext},S.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rk(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(Wl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(mn.Provider,{value:t},r)}function kk(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||de(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,l)=>{let c=u.route.id?o==null?void 0:o[u.route.id]:null,h=null;n&&(h=u.route.errorElement||Ak);let f=t.concat(s.slice(0,l+1)),d=()=>{let g;return c?g=h:u.route.Component?g=S.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=a,S.createElement(Rk,{match:u,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?S.createElement(Ck,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var xw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xw||{}),Mu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mu||{});function Ok(e){let t=S.useContext(Wl);return t||de(!1),t}function xk(e){let t=S.useContext(Rw);return t||de(!1),t}function Dk(e){let t=S.useContext(mn);return t||de(!1),t}function Dw(e){let t=Dk(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function Nk(){var e;let t=S.useContext(kw),n=xk(Mu.UseRouteError),r=Dw(Mu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function bk(){let{router:e}=Ok(xw.UseNavigateStable),t=Dw(Mu.UseNavigateStable),n=S.useRef(!1);return Ow(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vu({fromRouteId:t},s)))},[e,t])}function Vk(e){let{to:t,replace:n,state:r,relative:i}=e;cs()||de(!1);let{matches:s}=S.useContext(mn),{pathname:o}=wr(),a=tm(),u=em(t,Zp(s).map(c=>c.pathnameBase),o,i==="path"),l=JSON.stringify(u);return S.useEffect(()=>a(JSON.parse(l),{replace:n,state:r,relative:i}),[a,l,i,n,r]),null}function Mk(e){return Tk(e.context)}function Za(e){de(!1)}function Lk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:s,static:o=!1}=e;cs()&&de(!1);let a=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ls(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,g=S.useMemo(()=>{let y=To(l,a);return y==null?null:{location:{pathname:y,search:c,hash:h,state:f,key:d},navigationType:i}},[a,l,c,h,f,d,i]);return g==null?null:S.createElement(oi.Provider,{value:u},S.createElement(Hl.Provider,{children:n,value:g}))}function $k(e){let{children:t,location:n}=e;return Sk(Xf(t),n)}new Promise(()=>{});function Xf(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Xf(r.props.children,s));return}r.type!==Za&&de(!1),!r.props.index||!r.props.children||de(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}function Nw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Fk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jk(e,t){return e.button===0&&(!t||t==="_self")&&!Fk(e)}function Yf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Uk(e,t){let n=Yf(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Bk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],zk=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],qk=S.createContext({isTransitioning:!1}),Kk="startTransition",iv=mI[Kk];function Wk(e){let{basename:t,children:n,future:r,window:i}=e,s=S.useRef();s.current==null&&(s.current=GR({window:i,v5Compat:!0}));let o=s.current,[a,u]=S.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=S.useCallback(h=>{l&&iv?iv(()=>u(h)):u(h)},[u,l]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.createElement(Lk,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const Hk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gk=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:h}=t,f=Nw(t,Bk),{basename:d}=S.useContext(oi),g,y=!1;if(typeof l=="string"&&Qk.test(l)&&(g=l,Hk))try{let v=new URL(window.location.href),w=l.startsWith("//")?new URL(v.protocol+l):new URL(l),E=To(w.pathname,d);w.origin===v.origin&&E!=null?l=E+w.search+w.hash:y=!0}catch{}let _=_k(l,{relative:i}),p=Yk(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(v){r&&r(v),v.defaultPrevented||p(v)}return S.createElement("a",Lu({},f,{href:g||_,onClick:y||s?r:m,ref:n,target:u}))}),jL=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:l,children:c}=t,h=Nw(t,zk),f=Ql(u,{relative:h.relative}),d=wr(),g=S.useContext(Rw),{navigator:y}=S.useContext(oi),_=g!=null&&Jk(f)&&l===!0,p=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,m=d.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(m=m.toLowerCase(),v=v?v.toLowerCase():null,p=p.toLowerCase());let w=m===p||!o&&m.startsWith(p)&&m.charAt(p.length)==="/",E=v!=null&&(v===p||!o&&v.startsWith(p)&&v.charAt(p.length)==="/"),T={isActive:w,isPending:E,isTransitioning:_},I=w?r:void 0,P;typeof s=="function"?P=s(T):P=[s,w?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(T):a;return S.createElement(Gk,Lu({},h,{"aria-current":I,className:P,ref:n,style:b,to:u,unstable_viewTransition:l}),typeof c=="function"?c(T):c)});var Jf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jf||(Jf={}));var sv;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function Xk(e){let t=S.useContext(Wl);return t||de(!1),t}function Yk(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,u=tm(),l=wr(),c=Ql(e,{relative:o});return S.useCallback(h=>{if(jk(h,n)){h.preventDefault();let f=r!==void 0?r:bu(l)===bu(c);u(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,c,r,i,n,e,s,o,a])}function UL(e){let t=S.useRef(Yf(e)),n=S.useRef(!1),r=wr(),i=S.useMemo(()=>Uk(r.search,n.current?null:t.current),[r.search]),s=tm(),o=S.useCallback((a,u)=>{const l=Yf(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Jk(e,t){t===void 0&&(t={});let n=S.useContext(qk);n==null&&de(!1);let{basename:r}=Xk(Jf.useViewTransitionState),i=Ql(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=To(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=To(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gf(i.pathname,o)!=null||Gf(i.pathname,s)!=null}class Gl{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const nm=typeof window>"u"||"Deno"in window;function zt(){}function Zk(e,t){return typeof e=="function"?e(t):e}function e2(e){return typeof e=="number"&&e>=0&&e!==1/0}function BL(e,t){return e.filter(n=>!t.includes(n))}function zL(e,t,n){const r=e.slice(0);return r[t]=n,r}function t2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ca(e,t,n){return qo(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function qL(e,t,n){return qo(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Bn(e,t,n){return qo(e)?[{...t,queryKey:e},n]:[e||{},t]}function ov(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(qo(o)){if(r){if(t.queryHash!==rm(o,t.options))return!1}else if(!$u(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||typeof i<"u"&&i!==t.state.fetchStatus||s&&!s(t))}function av(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:s}=e;if(qo(s)){if(!t.options.mutationKey)return!1;if(n){if(Vr(t.options.mutationKey)!==Vr(s))return!1}else if(!$u(t.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function rm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vr)(e)}function Vr(e){return JSON.stringify(e,(t,n)=>Zf(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $u(e,t){return bw(e,t)}function bw(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!bw(e[n],t[n])):!1}function Vw(e,t){if(e===t)return e;const n=uv(e)&&uv(t);if(n||Zf(e)&&Zf(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),s=i.length,o=n?[]:{};let a=0;for(let u=0;u<s;u++){const l=n?u:i[u];o[l]=Vw(e[l],t[l]),o[l]===e[l]&&a++}return r===s&&a===r?e:o}return t}function KL(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function uv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zf(e){if(!lv(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!lv(n)||!n.hasOwnProperty("isPrototypeOf"))}function lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function qo(e){return Array.isArray(e)}function Mw(e){return new Promise(t=>{setTimeout(t,e)})}function cv(e){Mw(0).then(e)}function n2(){if(typeof AbortController=="function")return new AbortController}function r2(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vw(e,t):t}class i2 extends Gl{constructor(){super(),this.setup=t=>{if(!nm&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ed=new i2,hv=["online","offline"];class s2 extends Gl{constructor(){super(),this.setup=t=>{if(!nm&&window.addEventListener){const n=()=>t();return hv.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{hv.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Fu=new s2;function o2(e){return Math.min(1e3*2**e,3e4)}function im(e){return(e??"online")==="online"?Fu.isOnline():!0}class Lw{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function yh(e){return e instanceof Lw}function $w(e){let t=!1,n=0,r=!1,i,s,o;const a=new Promise((_,p)=>{s=_,o=p}),u=_=>{r||(d(new Lw(_)),e.abort==null||e.abort())},l=()=>{t=!0},c=()=>{t=!1},h=()=>!ed.isFocused()||e.networkMode!=="always"&&!Fu.isOnline(),f=_=>{r||(r=!0,e.onSuccess==null||e.onSuccess(_),i==null||i(),s(_))},d=_=>{r||(r=!0,e.onError==null||e.onError(_),i==null||i(),o(_))},g=()=>new Promise(_=>{i=p=>{const m=r||!h();return m&&_(p),m},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),y=()=>{if(r)return;let _;try{_=e.fn()}catch(p){_=Promise.reject(p)}Promise.resolve(_).then(f).catch(p=>{var m,v;if(r)return;const w=(m=e.retry)!=null?m:3,E=(v=e.retryDelay)!=null?v:o2,T=typeof E=="function"?E(n,p):E,I=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,p);if(t||!I){d(p);return}n++,e.onFail==null||e.onFail(n,p),Mw(T).then(()=>{if(h())return g()}).then(()=>{t?d(p):y()})})};return im(e.networkMode)?y():g().then(y),{promise:a,cancel:u,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:l,continueRetry:c}}const sm=console;function a2(){let e=[],t=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;t++;try{h=c()}finally{t--,t||a()}return h},s=c=>{t?e.push(c):cv(()=>{n(c)})},o=c=>(...h)=>{s(()=>{c(...h)})},a=()=>{const c=e;e=[],c.length&&cv(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const st=a2();class Fw{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e2(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(nm?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let u2=class extends Fw{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||sm,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||l2(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=r2(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!t2(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(g=>g.options.queryFn);d&&this.setOptions(d.options)}const o=n2(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};u(a);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(u(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const f=d=>{if(yh(d)&&d.silent||this.dispatch({type:"error",error:d}),!yh(d)){var g,y,_,p;(g=(y=this.cache.config).onError)==null||g.call(y,d,this),(_=(p=this.cache.config).onSettled)==null||_.call(p,this.state.data,d,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=$w({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:d=>{var g,y,_,p;if(typeof d>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(d),(g=(y=this.cache.config).onSuccess)==null||g.call(y,d,this),(_=(p=this.cache.config).onSettled)==null||_.call(p,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(d,g)=>{this.dispatch({type:"failed",failureCount:d,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,s;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:im(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=t.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return yh(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),st.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}};function l2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class c2 extends Gl{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:rm(s,n);let a=this.get(o);return a||(a=new u2({cache:this,logger:t.getLogger(),queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){st.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Bn(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>ov(r,i))}findAll(t,n){const[r]=Bn(t,n);return Object.keys(r).length>0?this.queries.filter(i=>ov(r,i)):this.queries}notify(t){st.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){st.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){st.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}let h2=class extends Fw{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||sm,this.observers=[],this.state=t.state||f2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var I;return this.retryer=$w({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(P,b)=>{this.dispatch({type:"failed",failureCount:P,error:b})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(I=this.options.retry)!=null?I:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,u,l,c;if(!n){var h,f,d,g;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(f=this.mutationCache.config).onMutate)==null?void 0:h.call(f,this.state.variables,this));const P=await((d=(g=this.options).onMutate)==null?void 0:d.call(g,this.state.variables));P!==this.state.context&&this.dispatch({type:"loading",context:P,variables:this.state.variables})}const I=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,I,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,I,this.state.variables,this.state.context)),await((a=(u=this.mutationCache.config).onSettled)==null?void 0:a.call(u,I,null,this.state.variables,this.state.context,this)),await((l=(c=this.options).onSettled)==null?void 0:l.call(c,I,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:I}),I}catch(I){try{var y,_,p,m,v,w,E,T;throw await((y=(_=this.mutationCache.config).onError)==null?void 0:y.call(_,I,this.state.variables,this.state.context,this)),await((p=(m=this.options).onError)==null?void 0:p.call(m,I,this.state.variables,this.state.context)),await((v=(w=this.mutationCache.config).onSettled)==null?void 0:v.call(w,void 0,I,this.state.variables,this.state.context,this)),await((E=(T=this.options).onSettled)==null?void 0:E.call(T,void 0,I,this.state.variables,this.state.context)),I}finally{this.dispatch({type:"error",error:I})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!im(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),st.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}};function f2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class d2 extends Gl{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new h2({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){st.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>av(t,n))}findAll(t){return this.mutations.filter(n=>av(t,n))}notify(t){st.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return st.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(zt)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function p2(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,s,o;const a=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,u=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,l=u==null?void 0:u.pageParam,c=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",f=((s=e.state.data)==null?void 0:s.pages)||[],d=((o=e.state.data)==null?void 0:o.pageParams)||[];let g=d,y=!1;const _=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>{var I;if((I=e.signal)!=null&&I.aborted)y=!0;else{var P;(P=e.signal)==null||P.addEventListener("abort",()=>{y=!0})}return e.signal}})},p=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),m=(T,I,P,b)=>(g=b?[I,...g]:[...g,I],b?[P,...T]:[...T,P]),v=(T,I,P,b)=>{if(y)return Promise.reject("Cancelled");if(typeof P>"u"&&!I&&T.length)return Promise.resolve(T);const D={queryKey:e.queryKey,pageParam:P,meta:e.options.meta};_(D);const X=p(D);return Promise.resolve(X).then(Ve=>m(T,P,Ve,b))};let w;if(!f.length)w=v([]);else if(c){const T=typeof l<"u",I=T?l:fv(e.options,f);w=v(f,T,I)}else if(h){const T=typeof l<"u",I=T?l:m2(e.options,f);w=v(f,T,I,!0)}else{g=[];const T=typeof e.options.getNextPageParam>"u";w=(a&&f[0]?a(f[0],0,f):!0)?v([],T,d[0]):Promise.resolve(m([],d[0],f[0]));for(let P=1;P<f.length;P++)w=w.then(b=>{if(a&&f[P]?a(f[P],P,f):!0){const X=T?d[P]:fv(e.options,b);return v(b,T,X)}return Promise.resolve(m(b,d[P],f[P]))})}return w.then(T=>({pages:T,pageParams:g}))}}}}function fv(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function m2(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class g2{constructor(t={}){this.queryCache=t.queryCache||new c2,this.mutationCache=t.mutationCache||new d2,this.logger=t.logger||sm,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ed.subscribe(()=>{ed.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Fu.subscribe(()=>{Fu.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Bn(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=Ca(t,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),s=i==null?void 0:i.state.data,o=Zk(n,s);if(typeof o>"u")return;const a=Ca(t),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return st.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Bn(t,n),i=this.queryCache;st.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(t,n,r){const[i,s]=Bn(t,n,r),o=this.queryCache,a={type:"active",...i};return st.batch(()=>(o.findAll(i).forEach(u=>{u.reset()}),this.refetchQueries(a,s)))}cancelQueries(t,n,r){const[i,s={}]=Bn(t,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=st.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(zt).catch(zt)}invalidateQueries(t,n,r){const[i,s]=Bn(t,n,r);return st.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const u={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(u,s)})}refetchQueries(t,n,r){const[i,s]=Bn(t,n,r),o=st.batch(()=>this.queryCache.findAll(i).filter(u=>!u.isDisabled()).map(u=>{var l;return u.fetch(void 0,{...s,cancelRefetch:(l=s==null?void 0:s.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(zt);return s!=null&&s.throwOnError||(a=a.catch(zt)),a}fetchQuery(t,n,r){const i=Ca(t,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(zt).catch(zt)}fetchInfiniteQuery(t,n,r){const i=Ca(t,n,r);return i.behavior=p2(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(zt).catch(zt)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Vr(t)===Vr(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>$u(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Vr(t)===Vr(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>$u(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=rm(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const dv=S.createContext(void 0),jw=S.createContext(!1);function Uw(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=dv),window.ReactQueryClientContext):dv)}const QL=({context:e}={})=>{const t=S.useContext(Uw(e,S.useContext(jw)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},y2=({client:e,children:t,context:n,contextSharing:r=!1})=>{S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=Uw(n,r);return S.createElement(jw.Provider,{value:!n&&r},S.createElement(i.Provider,{value:e},t))},v2=()=>{const e=wr(),t=WR(n=>n.auth);return!t.isAuth&&!t.user?ee.jsx(Vk,{to:"/auth/login",state:{from:e},replace:!0}):ee.jsx(Mk,{})},vh=()=>ee.jsx("div",{className:"flex h-screen items-center justify-center",children:ee.jsx("div",{className:"w-16 h-16 animate-spin rounded-full border-4 border-solid border-blue-500 border-t-transparent"})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},_2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,d=l&63;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new w2;const f=s<<2|a>>4;if(r.push(f),l!==64){const d=a<<4&240|l>>2;if(r.push(d),h!==64){const g=l<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class w2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E2=function(e){const t=Bw(e);return zw.encodeByteArray(t,!0)},ju=function(e){return E2(e).replace(/\./g,"")},T2=function(e){try{return zw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=()=>S2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},A2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&T2(e[1]);return t&&JSON.parse(t)},qw=()=>{try{return I2()||P2()||A2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},C2=e=>{var t,n;return(n=(t=qw())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Kw=e=>{const t=C2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ww=()=>{var e;return(e=qw())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[ju(JSON.stringify(n)),ju(JSON.stringify(o)),a].join(".")}function Qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Gw(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function k2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="FirebaseError";class Er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=O2,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?x2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Er(i,a,r)}}function x2(e,t){return e.replace(D2,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const D2=/\{\$([^}]+)}/g;function td(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(pv(s)&&pv(o)){if(!td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e){return e&&e._delegate?e._delegate:e}class hn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new R2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V2(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b2(e){return e===Or?void 0:e}function V2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new N2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(W||(W={}));const L2={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},$2=W.INFO,F2={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},j2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=F2[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xw{constructor(t){this.name=t,this._logLevel=$2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in W))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?L2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...t),this._logHandler(this,W.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...t),this._logHandler(this,W.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,W.INFO,...t),this._logHandler(this,W.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,W.WARN,...t),this._logHandler(this,W.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...t),this._logHandler(this,W.ERROR,...t)}}const U2=(e,t)=>t.some(n=>e instanceof n);let mv,gv;function B2(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z2(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,nd=new WeakMap,Jw=new WeakMap,_h=new WeakMap,om=new WeakMap;function q2(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ar(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Yw.set(n,e)}).catch(()=>{}),om.set(t,e),t}function K2(e){if(nd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});nd.set(e,t)}let rd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Jw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function W2(e){rd=e(rd)}function H2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(wh(this),t,...n);return Jw.set(r,t.sort?t.sort():[t]),ar(r)}:z2().includes(e)?function(...t){return e.apply(wh(this),t),ar(Yw.get(this))}:function(...t){return ar(e.apply(wh(this),t))}}function Q2(e){return typeof e=="function"?H2(e):(e instanceof IDBTransaction&&K2(e),U2(e,B2())?new Proxy(e,rd):e)}function ar(e){if(e instanceof IDBRequest)return q2(e);if(_h.has(e))return _h.get(e);const t=Q2(e);return t!==e&&(_h.set(e,t),om.set(t,e)),t}const wh=e=>om.get(e);function G2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ar(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ar(o.result),u.oldVersion,u.newVersion,ar(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const X2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],Eh=new Map;function yv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Eh.get(t))return Eh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Y2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X2.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Eh.set(t,s),s}W2(e=>({...e,get:(t,n,r)=>yv(t,n)||e.get(t,n,r),has:(t,n)=>!!yv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const id="@firebase/app",vv="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Xw("@firebase/app"),eO="@firebase/app-compat",tO="@firebase/analytics-compat",nO="@firebase/analytics",rO="@firebase/app-check-compat",iO="@firebase/app-check",sO="@firebase/auth",oO="@firebase/auth-compat",aO="@firebase/database",uO="@firebase/database-compat",lO="@firebase/functions",cO="@firebase/functions-compat",hO="@firebase/installations",fO="@firebase/installations-compat",dO="@firebase/messaging",pO="@firebase/messaging-compat",mO="@firebase/performance",gO="@firebase/performance-compat",yO="@firebase/remote-config",vO="@firebase/remote-config-compat",_O="@firebase/storage",wO="@firebase/storage-compat",EO="@firebase/firestore",TO="@firebase/firestore-compat",SO="firebase",IO="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",PO={[id]:"fire-core",[eO]:"fire-core-compat",[nO]:"fire-analytics",[tO]:"fire-analytics-compat",[iO]:"fire-app-check",[rO]:"fire-app-check-compat",[sO]:"fire-auth",[oO]:"fire-auth-compat",[aO]:"fire-rtdb",[uO]:"fire-rtdb-compat",[lO]:"fire-fn",[cO]:"fire-fn-compat",[hO]:"fire-iid",[fO]:"fire-iid-compat",[dO]:"fire-fcm",[pO]:"fire-fcm-compat",[mO]:"fire-perf",[gO]:"fire-perf-compat",[yO]:"fire-rc",[vO]:"fire-rc-compat",[_O]:"fire-gcs",[wO]:"fire-gcs-compat",[EO]:"fire-fst",[TO]:"fire-fst-compat","fire-js":"fire-js",[SO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,od=new Map;function AO(e,t){try{e.container.addComponent(t)}catch(n){Gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function bn(e){const t=e.name;if(od.has(t))return Gr.debug(`There were multiple attempts to register component ${t}.`),!1;od.set(t,e);for(const n of Uu.values())AO(n,e);return!0}function Ko(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new Xl("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=IO;function eE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:sd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(n||(n=Ww()),!n)throw ur.create("no-options");const s=Uu.get(i);if(s){if(td(n,s.options)&&td(r,s.config))return s;throw ur.create("duplicate-app",{appName:i})}const o=new M2(i);for(const u of od.values())o.addComponent(u);const a=new RO(n,r,o);return Uu.set(i,a),a}function am(e=sd){const t=Uu.get(e);if(!t&&e===sd&&Ww())return eE();if(!t)throw ur.create("no-app",{appName:e});return t}function Mt(e,t,n){var r;let i=(r=PO[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}bn(new hn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="firebase-heartbeat-database",OO=1,So="firebase-heartbeat-store";let Th=null;function tE(){return Th||(Th=G2(kO,OO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(So)}}}).catch(e=>{throw ur.create("idb-open",{originalErrorMessage:e.message})})),Th}async function xO(e){try{return await(await tE()).transaction(So).objectStore(So).get(nE(e))}catch(t){if(t instanceof Er)Gr.warn(t.message);else{const n=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(n.message)}}}async function _v(e,t){try{const r=(await tE()).transaction(So,"readwrite");await r.objectStore(So).put(t,nE(e)),await r.done}catch(n){if(n instanceof Er)Gr.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function nE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1024,NO=30*24*60*60*1e3;class bO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=NO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wv(),{heartbeatsToSend:n,unsentEntries:r}=VO(this._heartbeatsCache.heartbeats),i=ju(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function wv(){return new Date().toISOString().substring(0,10)}function VO(e,t=DO){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ev(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ev(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qw()?Gw().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ev(e){return ju(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e){bn(new hn("platform-logger",t=>new J2(t),"PRIVATE")),bn(new hn("heartbeat",t=>new bO(t),"PRIVATE")),Mt(id,vv,e),Mt(id,vv,"esm2017"),Mt("fire-js","")}LO("");var $O="firebase",FO="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt($O,FO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firebasestorage.googleapis.com",jO="storageBucket",UO=2*60*1e3,BO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends Er{constructor(t,n,r=0){super(Sh(t),`Firebase Storage: ${n} (${Sh(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Sh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function Sh(e){return"storage/"+e}function zO(){const e="An unknown error occurred, please check the error payload for server response.";return new gn(fn.UNKNOWN,e)}function qO(){return new gn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KO(){return new gn(fn.CANCELED,"User canceled the upload/download.")}function WO(e){return new gn(fn.INVALID_URL,"Invalid URL '"+e+"'.")}function HO(e){return new gn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Tv(e){return new gn(fn.INVALID_ARGUMENT,e)}function iE(){return new gn(fn.APP_DELETED,"The Firebase app was deleted.")}function QO(e){return new gn(fn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ht.makeFromUrl(t,n)}catch{return new Ht(t,"")}if(r.path==="")return r;throw HO(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===rE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",p=new RegExp(`^https?://${y}/${i}/${_}`,"i"),v=[{regex:a,indices:u,postModify:s},{regex:d,indices:g,postModify:l},{regex:p,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<v.length;w++){const E=v[w],T=E.regex.exec(t);if(T){const I=T[E.indices.bucket];let P=T[E.indices.path];P||(P=""),r=new Ht(I,P),E.postModify(r);break}}if(r==null)throw WO(t);return r}}class GO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(..._){l||(l=!0,t.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,e(d,u())},_)}function f(){s&&clearTimeout(s)}function d(_,...p){if(l){f();return}if(_){f(),c.call(null,_,...p);return}if(u()||o){f(),c.call(null,_,...p);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let g=!1;function y(_){g||(g=!0,f(),!l&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function YO(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(e){return e!==void 0}function Sv(e,t,n,r){if(r<t)throw Tv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Tv(`Invalid value for '${e}'. Expected ${n} or less.`)}function ZO(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Bu||(Bu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n,r,i,s,o,a,u,l,c,h,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,g)=>{this.resolve_=d,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Ra(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Bu.NO_ERROR,u=s.getStatus();if(!a||ex(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Bu.ABORT;r(!1,new Ra(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Ra(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());JO(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=zO();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?iE():KO();o(u)}else{const u=qO();o(u)}};this.canceled_?n(!1,new Ra(!1,null,!0)):this.backoffId_=XO(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&YO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ra{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function nx(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function rx(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ix(e,t){t&&(e["X-Firebase-GMPID"]=t)}function sx(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function ox(e,t,n,r,i,s,o=!0){const a=ZO(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return ix(l,t),nx(l,n),rx(l,s),sx(l,r),new tx(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ux(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n){this._service=t,n instanceof Ht?this._location=n:this._location=Ht.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new zu(t,n)}get root(){const t=new Ht(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ux(this._location.path)}get storage(){return this._service}get parent(){const t=ax(this._location.path);if(t===null)return null;const n=new Ht(this._location.bucket,t);return new zu(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw QO(t)}}function Iv(e,t){const n=t==null?void 0:t[jO];return n==null?null:Ht.makeFromBucketSpec(n,e)}function lx(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Hw(i,e.app.options.projectId))}class cx{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=rE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UO,this._maxUploadRetryTime=BO,this._requests=new Set,i!=null?this._bucket=Ht.makeFromBucketSpec(i,this._host):this._bucket=Iv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ht.makeFromBucketSpec(this._url,t):this._bucket=Iv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Sv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Sv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new zu(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new GO(iE());{const o=ox(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Pv="@firebase/storage",Av="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="storage";function hx(e=am(),t){e=Pt(e);const r=Ko(e,sE).getImmediate({identifier:t}),i=Kw("storage");return i&&fx(r,...i),r}function fx(e,t,n,r={}){lx(e,t,n,r)}function dx(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cx(n,r,i,t,Zw)}function px(){bn(new hn(sE,dx,"PUBLIC").setMultipleInstances(!0)),Mt(Pv,Av,""),Mt(Pv,Av,"esm2017")}px();var mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,um=um||{},F=mx||self;function Yl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function gx(e){return Object.prototype.hasOwnProperty.call(e,Ih)&&e[Ih]||(e[Ih]=++yx)}var Ih="closure_uid_"+(1e9*Math.random()>>>0),yx=0;function vx(e,t,n){return e.call.apply(e.bind,arguments)}function _x(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ze(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ze=vx:Ze=_x,Ze.apply(null,arguments)}function ka(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function be(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Tr(){this.s=this.s,this.o=this.o}var wx=0;Tr.prototype.s=!1;Tr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wx!=0)&&gx(this)};Tr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function lm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cv(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yl(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function et(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var Ex=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{F.addEventListener("test",()=>{},t),F.removeEventListener("test",()=>{},t)}catch{}return e}();function Io(e){return/^[\s\xa0]*$/.test(e)}function Jl(){var e=F.navigator;return e&&(e=e.userAgent)?e:""}function tn(e){return Jl().indexOf(e)!=-1}function cm(e){return cm[" "](e),e}cm[" "]=function(){};function Tx(e,t){var n=pD;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Sx=tn("Opera"),Gi=tn("Trident")||tn("MSIE"),aE=tn("Edge"),ad=aE||Gi,uE=tn("Gecko")&&!(Jl().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),Ix=Jl().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge");function lE(){var e=F.document;return e?e.documentMode:void 0}var ud;e:{var Ph="",Ah=function(){var e=Jl();if(uE)return/rv:([^\);]+)(\)|;)/.exec(e);if(aE)return/Edge\/([\d\.]+)/.exec(e);if(Gi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Ix)return/WebKit\/(\S+)/.exec(e);if(Sx)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ah&&(Ph=Ah?Ah[1]:""),Gi){var Ch=lE();if(Ch!=null&&Ch>parseFloat(Ph)){ud=String(Ch);break e}}ud=Ph}var ld;if(F.document&&Gi){var Rv=lE();ld=Rv||parseInt(ud,10)||void 0}else ld=void 0;var Px=ld;function Po(e,t){if(et.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(uE){e:{try{cm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Ax[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Po.$.h.call(this)}}be(Po,et);var Ax={2:"touch",3:"pen",4:"mouse"};Po.prototype.h=function(){Po.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ho="closure_listenable_"+(1e6*Math.random()|0),Cx=0;function Rx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Cx,this.fa=this.ia=!1}function Zl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function hm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function kx(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function cE(e){const t={};for(const n in e)t[n]=e[n];return t}const kv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<kv.length;s++)n=kv[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ec(e){this.src=e,this.g={},this.h=0}ec.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=hd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Rx(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function cd(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=oE(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function hd(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var fm="closure_lm_"+(1e6*Math.random()|0),Rh={};function fE(e,t,n,r,i){if(r&&r.once)return pE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)fE(e,t[s],n,r,i);return null}return n=mm(n),e&&e[Ho]?e.O(t,n,Wo(r)?!!r.capture:!!r,i):dE(e,t,n,!1,r,i)}function dE(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Wo(i)?!!i.capture:!!i,a=pm(e);if(a||(e[fm]=a=new ec(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Ox(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ex||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ox(){function e(n){return t.call(e.src,e.listener,n)}const t=xx;return e}function pE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pE(e,t[s],n,r,i);return null}return n=mm(n),e&&e[Ho]?e.P(t,n,Wo(r)?!!r.capture:!!r,i):dE(e,t,n,!0,r,i)}function mE(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)mE(e,t[s],n,r,i);else r=Wo(r)?!!r.capture:!!r,n=mm(n),e&&e[Ho]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=hd(s,n,r,i),-1<n&&(Zl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=pm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hd(t,n,r,i)),(n=-1<e?t[e]:null)&&dm(n))}function dm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ho])cd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pm(t))?(cd(n,e),n.h==0&&(n.src=null,t[fm]=null)):Zl(e)}}}function gE(e){return e in Rh?Rh[e]:Rh[e]="on"+e}function xx(e,t){if(e.fa)e=!0;else{t=new Po(t,this);var n=e.listener,r=e.la||e.src;e.ia&&dm(e),e=n.call(r,t)}return e}function pm(e){return e=e[fm],e instanceof ec?e:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function mm(e){return typeof e=="function"?e:(e[kh]||(e[kh]=function(t){return e.handleEvent(t)}),e[kh])}function De(){Tr.call(this),this.i=new ec(this),this.S=this,this.J=null}be(De,Tr);De.prototype[Ho]=!0;De.prototype.removeEventListener=function(e,t,n,r){mE(this,e,t,n,r)};function Be(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new et(t,e);else if(t instanceof et)t.target=t.target||e;else{var i=t;t=new et(r,e),hE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Oa(o,r,!0,t)&&i}if(o=t.g=e,i=Oa(o,r,!0,t)&&i,i=Oa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Oa(o,r,!1,t)&&i}De.prototype.N=function(){if(De.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Zl(n[r]);delete e.g[t],e.h--}}this.J=null};De.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};De.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Oa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&cd(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var gm=F.JSON.stringify;class Dx{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Nx(){var e=ym;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class bx{constructor(){this.h=this.g=null}add(t,n){const r=yE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yE=new Dx(()=>new Vx,e=>e.reset());class Vx{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Mx(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Lx(e){F.setTimeout(()=>{throw e},0)}let Ao,Co=!1,ym=new bx,vE=()=>{const e=F.Promise.resolve(void 0);Ao=()=>{e.then($x)}};var $x=()=>{for(var e;e=Nx();){try{e.h.call(e.g)}catch(n){Lx(n)}var t=yE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Co=!1};function tc(e,t){De.call(this),this.h=e||1,this.g=t||F,this.j=Ze(this.qb,this),this.l=Date.now()}be(tc,De);k=tc.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Be(this,"tick"),this.ga&&(vm(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function vm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}k.N=function(){tc.$.N.call(this),vm(this),delete this.g};function _m(e,t,n){if(typeof e=="function")n&&(e=Ze(e,n));else if(e&&typeof e.handleEvent=="function")e=Ze(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:F.setTimeout(e,t||0)}function _E(e){e.g=_m(()=>{e.g=null,e.i&&(e.i=!1,_E(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Fx extends Tr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_E(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ro(e){Tr.call(this),this.h=e,this.g={}}be(Ro,Tr);var Ov=[];function wE(e,t,n,r){Array.isArray(n)||(n&&(Ov[0]=n.toString()),n=Ov);for(var i=0;i<n.length;i++){var s=fE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function EE(e){hm(e.g,function(t,n){this.g.hasOwnProperty(n)&&dm(t)},e),e.g={}}Ro.prototype.N=function(){Ro.$.N.call(this),EE(this)};Ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nc(){this.g=!0}nc.prototype.Ea=function(){this.g=!1};function jx(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Ux(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ci(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+zx(e,n)+(r?" "+r:"")})}function Bx(e,t){e.info(function(){return"TIMEOUT: "+t})}nc.prototype.info=function(){};function zx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return gm(n)}catch{return t}}var ai={},xv=null;function rc(){return xv=xv||new De}ai.Ta="serverreachability";function TE(e){et.call(this,ai.Ta,e)}be(TE,et);function ko(e){const t=rc();Be(t,new TE(t))}ai.STAT_EVENT="statevent";function SE(e,t){et.call(this,ai.STAT_EVENT,e),this.stat=t}be(SE,et);function ot(e){const t=rc();Be(t,new SE(t,e))}ai.Ua="timingevent";function IE(e,t){et.call(this,ai.Ua,e),this.size=t}be(IE,et);function Qo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){e()},t)}var ic={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wm(){}wm.prototype.h=null;function Dv(e){return e.h||(e.h=e.i())}function AE(){}var Go={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Em(){et.call(this,"d")}be(Em,et);function Tm(){et.call(this,"c")}be(Tm,et);var fd;function sc(){}be(sc,wm);sc.prototype.g=function(){return new XMLHttpRequest};sc.prototype.i=function(){return{}};fd=new sc;function Xo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ro(this),this.P=qx,e=ad?125:void 0,this.V=new tc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}var qx=45e3,dd={},qu={};k=Xo.prototype;k.setTimeout=function(e){this.P=e};function pd(e,t,n){e.L=1,e.v=ac(Vn(t)),e.s=n,e.S=!0,RE(e,null)}function RE(e,t){e.G=Date.now(),Yo(e),e.A=Vn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ME(n.i,"t",r),e.C=0,n=e.l.J,e.h=new CE,e.g=rT(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Fx(Ze(e.Pa,e,e.g),e.O)),wE(e.U,e.g,"readystatechange",e.nb),t=e.I?cE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ko(),jx(e.j,e.u,e.A,e.m,e.W,e.s)}k.nb=function(e){e=e.target;const t=this.M;t&&nn(e)==3?t.l():this.Pa(e)};k.Pa=function(e){try{if(e==this.g)e:{const c=nn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||ad||this.g&&(this.h.h||this.g.ja()||Mv(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?ko(3):ko(2)),oc(this);var n=this.g.da();this.ca=n;t:if(kE(this)){var r=Mv(this.g);e="";var i=r.length,s=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Hs(this);var o="";break t}this.h.i=new F.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Ux(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Io(a)){var l=a;break t}}l=null}if(n=l)Ci(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,md(this,n);else{this.i=!1,this.o=3,ot(12),Mr(this),Hs(this);break e}}this.S?(OE(this,c,o),ad&&this.i&&c==3&&(wE(this.U,this.V,"tick",this.mb),this.V.start())):(Ci(this.j,this.m,o,null),md(this,o)),c==4&&Mr(this),this.i&&!this.J&&(c==4?ZE(this.l,this):(this.i=!1,Yo(this)))}else hD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ot(12)):(this.o=0,ot(13)),Mr(this),Hs(this)}}}catch{}finally{}};function kE(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function OE(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=Kx(e,n),i==qu){t==4&&(e.o=4,ot(14),r=!1),Ci(e.j,e.m,null,"[Incomplete Response]");break}else if(i==dd){e.o=4,ot(15),Ci(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ci(e.j,e.m,i,null),md(e,i);kE(e)&&i!=qu&&i!=dd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ot(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(t),t.M=!0,ot(11))):(Ci(e.j,e.m,n,"[Invalid Chunked Response]"),Mr(e),Hs(e))}k.mb=function(){if(this.g){var e=nn(this.g),t=this.g.ja();this.C<t.length&&(oc(this),OE(this,e,t),this.i&&e!=4&&Yo(this))}};function Kx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?qu:(n=Number(t.substring(n,r)),isNaN(n)?dd:(r+=1,r+n>t.length?qu:(t=t.slice(r,r+n),e.C=r+n,t)))}k.cancel=function(){this.J=!0,Mr(this)};function Yo(e){e.Y=Date.now()+e.P,xE(e,e.P)}function xE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Qo(Ze(e.lb,e),t)}function oc(e){e.B&&(F.clearTimeout(e.B),e.B=null)}k.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Bx(this.j,this.A),this.L!=2&&(ko(),ot(17)),Mr(this),this.o=2,Hs(this)):xE(this,this.Y-e)};function Hs(e){e.l.H==0||e.J||ZE(e.l,e)}function Mr(e){oc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,vm(e.V),EE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function md(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||gd(n.i,e))){if(!e.K&&gd(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Hu(n),hc(n);else break e;Cm(n),ot(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qo(Ze(n.ib,n),6e3));if(1>=FE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Lr(n,11)}else if((e.K||n.g==e)&&Hu(n),!Io(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Sm(s,s.h),s.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,se(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=nT(r,r.J?r.pa:null,r.Y),o.K){jE(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(oc(a),Yo(a)),r.g=o}else YE(r);0<n.j.length&&fc(n)}else l[0]!="stop"&&l[0]!="close"||Lr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Lr(n,7):Am(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}ko(4)}catch{}}function Wx(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Yl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Hx(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Yl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function DE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Yl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Hx(e),r=Wx(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var NE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Br(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Br){this.h=e.h,Ku(this,e.j),this.s=e.s,this.g=e.g,Wu(this,e.m),this.l=e.l;var t=e.i,n=new Oo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nv(this,n),this.o=e.o}else e&&(t=String(e).match(NE))?(this.h=!1,Ku(this,t[1]||"",!0),this.s=Ds(t[2]||""),this.g=Ds(t[3]||"",!0),Wu(this,t[4]),this.l=Ds(t[5]||"",!0),Nv(this,t[6]||"",!0),this.o=Ds(t[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}Br.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ns(t,bv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ns(t,bv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ns(n,n.charAt(0)=="/"?Yx:Xx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ns(n,Zx)),e.join("")};function Vn(e){return new Br(e)}function Ku(e,t,n){e.j=n?Ds(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nv(e,t,n){t instanceof Oo?(e.i=t,eD(e.i,e.h)):(n||(t=Ns(t,Jx)),e.i=new Oo(t,e.h))}function se(e,t,n){e.i.set(t,n)}function ac(e){return se(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ds(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ns(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Gx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var bv=/[#\/\?@]/g,Xx=/[#\?:]/g,Yx=/[#\?]/g,Jx=/[#\?@]/g,Zx=/#/g;function Oo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sr(e){e.g||(e.g=new Map,e.h=0,e.i&&Qx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}k=Oo.prototype;k.add=function(e,t){Sr(this),this.i=null,e=hs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function bE(e,t){Sr(e),t=hs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function VE(e,t){return Sr(e),t=hs(e,t),e.g.has(t)}k.forEach=function(e,t){Sr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};k.ta=function(){Sr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};k.Z=function(e){Sr(this);let t=[];if(typeof e=="string")VE(this,e)&&(t=t.concat(this.g.get(hs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};k.set=function(e,t){return Sr(this),this.i=null,e=hs(this,e),VE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};k.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function ME(e,t,n){bE(e,t),0<n.length&&(e.i=null,e.g.set(hs(e,t),lm(n)),e.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function hs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function eD(e,t){t&&!e.j&&(Sr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(bE(this,r),ME(this,i,n))},e)),e.j=t}var tD=class{constructor(e,t){this.g=e,this.map=t}};function LE(e){this.l=e||nD,F.PerformanceNavigationTiming?(e=F.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nD=10;function $E(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function FE(e){return e.h?1:e.g?e.g.size:0}function gd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Sm(e,t){e.g?e.g.add(t):e.h=t}function jE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}LE.prototype.cancel=function(){if(this.i=UE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function UE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return lm(e.i)}var rD=class{stringify(e){return F.JSON.stringify(e,void 0)}parse(e){return F.JSON.parse(e,void 0)}};function iD(){this.g=new rD}function sD(e,t,n){const r=n||"";try{DE(e,function(i,s){let o=i;Wo(i)&&(o=gm(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function oD(e,t){const n=new nc;if(F.Image){const r=new Image;r.onload=ka(xa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ka(xa,n,r,"TestLoadImage: error",!1,t),r.onabort=ka(xa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ka(xa,n,r,"TestLoadImage: timeout",!1,t),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function xa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function uc(e){this.l=e.ec||null,this.j=e.ob||!1}be(uc,wm);uc.prototype.g=function(){return new lc(this.l,this.j)};uc.prototype.i=function(e){return function(){return e}}({});function lc(e,t){De.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}be(lc,De);var Im=0;k=lc.prototype;k.open=function(e,t){if(this.readyState!=Im)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xo(this)};k.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||F).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=Im};k.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function BE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}k.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jo(this):xo(this),this.readyState==3&&BE(this)}};k.Za=function(e){this.g&&(this.response=this.responseText=e,Jo(this))};k.Ya=function(e){this.g&&(this.response=e,Jo(this))};k.ka=function(){this.g&&Jo(this)};function Jo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xo(e)}k.setRequestHeader=function(e,t){this.v.append(e,t)};k.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function xo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var aD=F.JSON.parse;function ye(e){De.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zE,this.L=this.M=!1}be(ye,De);var zE="",uD=/^https?$/i,lD=["POST","PUT"];k=ye.prototype;k.Oa=function(e){this.M=e};k.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fd.g(),this.C=this.u?Dv(this.u):Dv(fd),this.g.onreadystatechange=Ze(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Vv(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&e instanceof F.FormData,!(0<=oE(lD,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WE(this),0<this.B&&((this.L=cD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ze(this.ua,this)):this.A=_m(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Vv(this,s)}};function cD(e){return Gi&&typeof e.timeout=="number"&&e.ontimeout!==void 0}k.ua=function(){typeof um<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Be(this,"timeout"),this.abort(8))};function Vv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qE(e),cc(e)}function qE(e){e.F||(e.F=!0,Be(e,"complete"),Be(e,"error"))}k.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Be(this,"complete"),Be(this,"abort"),cc(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cc(this,!0)),ye.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?KE(this):this.kb())};k.kb=function(){KE(this)};function KE(e){if(e.h&&typeof um<"u"&&(!e.C[1]||nn(e)!=4||e.da()!=2)){if(e.v&&nn(e)==4)_m(e.La,0,e);else if(Be(e,"readystatechange"),nn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(NE)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!uD.test(i?i.toLowerCase():"")}n=r}if(n)Be(e,"complete"),Be(e,"success");else{e.m=6;try{var s=2<nn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",qE(e)}}finally{cc(e)}}}}function cc(e,t){if(e.g){WE(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Be(e,"ready");try{n.onreadystatechange=r}catch{}}}function WE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(F.clearTimeout(e.A),e.A=null)}k.isActive=function(){return!!this.g};function nn(e){return e.g?e.g.readyState:0}k.da=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),aD(t)}};function Mv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case zE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function hD(e){const t={};e=(e.g&&2<=nn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Io(e[r]))continue;var n=Mx(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}kx(t,function(r){return r.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HE(e){let t="";return hm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Pm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):se(e,t,n))}function Is(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function QE(e){this.Ga=0,this.j=[],this.l=new nc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Is("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Is("baseRetryDelayMs",5e3,e),this.hb=Is("retryDelaySeedMs",1e4,e),this.eb=Is("forwardChannelMaxRetries",2,e),this.xa=Is("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new LE(e&&e.concurrentRequestLimit),this.Ja=new iD,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=QE.prototype;k.ra=8;k.H=1;function Am(e){if(GE(e),e.H==3){var t=e.W++,n=Vn(e.I);if(se(n,"SID",e.K),se(n,"RID",t),se(n,"TYPE","terminate"),Zo(e,n),t=new Xo(e,e.l,t),t.L=2,t.v=ac(Vn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&F.Image&&(new Image().src=t.v,n=!0),n||(t.g=rT(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yo(t)}tT(e)}function hc(e){e.g&&(Rm(e),e.g.cancel(),e.g=null)}function GE(e){hc(e),e.u&&(F.clearTimeout(e.u),e.u=null),Hu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&F.clearTimeout(e.m),e.m=null)}function fc(e){if(!$E(e.i)&&!e.m){e.m=!0;var t=e.Na;Ao||vE(),Co||(Ao(),Co=!0),ym.add(t,e),e.C=0}}function fD(e,t){return FE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Qo(Ze(e.Na,e,t),eT(e,e.C)),e.C++,!0)}k.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Xo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=cE(s),hE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=XE(this,i,t),n=Vn(this.I),se(n,"RID",e),se(n,"CVER",22),this.F&&se(n,"X-HTTP-Session-Id",this.F),Zo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(HE(s)))+"&"+t:this.o&&Pm(n,this.o,s)),Sm(this.i,i),this.bb&&se(n,"TYPE","init"),this.P?(se(n,"$req",t),se(n,"SID","null"),i.aa=!0,pd(i,n,null)):pd(i,n,t),this.H=2}}else this.H==3&&(e?Lv(this,e):this.j.length==0||$E(this.i)||Lv(this))};function Lv(e,t){var n;t?n=t.m:n=e.W++;const r=Vn(e.I);se(r,"SID",e.K),se(r,"RID",n),se(r,"AID",e.V),Zo(e,r),e.o&&e.s&&Pm(r,e.o,e.s),n=new Xo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=XE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Sm(e.i,n),pd(n,r,t)}function Zo(e,t){e.na&&hm(e.na,function(n,r){se(t,r,n)}),e.h&&DE({},function(n,r){se(t,r,n)})}function XE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ze(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{sD(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function YE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ao||vE(),Co||(Ao(),Co=!0),ym.add(t,e),e.A=0}}function Cm(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Qo(Ze(e.Ma,e),eT(e,e.A)),e.A++,!0)}k.Ma=function(){if(this.u=null,JE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Qo(Ze(this.jb,this),e)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ot(10),hc(this),JE(this))};function Rm(e){e.B!=null&&(F.clearTimeout(e.B),e.B=null)}function JE(e){e.g=new Xo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Vn(e.wa);se(t,"RID","rpc"),se(t,"SID",e.K),se(t,"AID",e.V),se(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&se(t,"TO",e.qa),se(t,"TYPE","xmlhttp"),Zo(e,t),e.o&&e.s&&Pm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ac(Vn(t)),n.s=null,n.S=!0,RE(n,e)}k.ib=function(){this.v!=null&&(this.v=null,hc(this),Cm(this),ot(19))};function Hu(e){e.v!=null&&(F.clearTimeout(e.v),e.v=null)}function ZE(e,t){var n=null;if(e.g==t){Hu(e),Rm(e),e.g=null;var r=2}else if(gd(e.i,t))n=t.F,jE(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=rc(),Be(r,new IE(r,n)),fc(e)}else YE(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&fD(e,t)||r==2&&Cm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Lr(e,5);break;case 4:Lr(e,10);break;case 3:Lr(e,6);break;default:Lr(e,2)}}}function eT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Lr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ze(e.pb,e);n||(n=new Br("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||Ku(n,"https"),ac(n)),oD(n.toString(),r)}else ot(2);e.H=0,e.h&&e.h.za(t),tT(e),GE(e)}k.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ot(2)):(this.l.info("Failed to ping google.com"),ot(1))};function tT(e){if(e.H=0,e.ma=[],e.h){const t=UE(e.i);(t.length!=0||e.j.length!=0)&&(Cv(e.ma,t),Cv(e.ma,e.j),e.i.i.length=0,lm(e.j),e.j.length=0),e.h.ya()}}function nT(e,t,n){var r=n instanceof Br?Vn(n):new Br(n);if(r.g!="")t&&(r.g=t+"."+r.g),Wu(r,r.m);else{var i=F.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Br(null);r&&Ku(s,r),t&&(s.g=t),i&&Wu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&se(r,n,t),se(r,"VER",e.ra),Zo(e,r),r}function rT(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ye(new uc({ob:!0})):new ye(e.va),t.Oa(e.J),t}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function iT(){}k=iT.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Qu(){if(Gi&&!(10<=Number(Px)))throw Error("Environmental error: no available transport.")}Qu.prototype.g=function(e,t){return new At(e,t)};function At(e,t){De.call(this),this.g=new QE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Io(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Io(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new fs(this)}be(At,De);At.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ot(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=nT(e,null,e.Y),fc(e)};At.prototype.close=function(){Am(this.g)};At.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=gm(e),e=n);t.j.push(new tD(t.fb++,e)),t.H==3&&fc(t)};At.prototype.N=function(){this.g.h=null,delete this.j,Am(this.g),delete this.g,At.$.N.call(this)};function sT(e){Em.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}be(sT,Em);function oT(){Tm.call(this),this.status=1}be(oT,Tm);function fs(e){this.g=e}be(fs,iT);fs.prototype.Ba=function(){Be(this.g,"a")};fs.prototype.Aa=function(e){Be(this.g,new sT(e))};fs.prototype.za=function(e){Be(this.g,new oT)};fs.prototype.ya=function(){Be(this.g,"b")};function dD(){this.blockSize=-1}function Yt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}be(Yt,dD);Yt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Oh(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Yt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Oh(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Oh(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Oh(this,r),i=0;break}}this.h=i,this.i+=t};Yt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function J(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var pD={};function km(e){return-128<=e&&128>e?Tx(e,function(t){return new J([t|0],0>t?-1:0)}):new J([e|0],0>e?-1:0)}function rn(e){if(isNaN(e)||!isFinite(e))return Li;if(0>e)return Fe(rn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=yd;return new J(t,0)}function aT(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Fe(aT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rn(Math.pow(t,8)),r=Li,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=rn(Math.pow(t,s)),r=r.R(s).add(rn(o))):(r=r.R(n),r=r.add(rn(o)))}return r}var yd=4294967296,Li=km(0),vd=km(1),$v=km(16777216);k=J.prototype;k.ea=function(){if(Nt(this))return-Fe(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:yd+r)*t,t*=yd}return e};k.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(In(this))return"0";if(Nt(this))return"-"+Fe(this).toString(e);for(var t=rn(Math.pow(e,6)),n=this,r="";;){var i=Xu(n,t).g;n=Gu(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,In(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};k.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function In(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Nt(e){return e.h==-1}k.X=function(e){return e=Gu(this,e),Nt(e)?-1:In(e)?0:1};function Fe(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new J(n,~e.h).add(vd)}k.abs=function(){return Nt(this)?Fe(this):this};k.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new J(n,n[n.length-1]&-2147483648?-1:0)};function Gu(e,t){return e.add(Fe(t))}k.R=function(e){if(In(this)||In(e))return Li;if(Nt(this))return Nt(e)?Fe(this).R(Fe(e)):Fe(Fe(this).R(e));if(Nt(e))return Fe(this.R(Fe(e)));if(0>this.X($v)&&0>e.X($v))return rn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,Da(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Da(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Da(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Da(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new J(n,0)};function Da(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ps(e,t){this.g=e,this.h=t}function Xu(e,t){if(In(t))throw Error("division by zero");if(In(e))return new Ps(Li,Li);if(Nt(e))return t=Xu(Fe(e),t),new Ps(Fe(t.g),Fe(t.h));if(Nt(t))return t=Xu(e,Fe(t)),new Ps(Fe(t.g),t.h);if(30<e.g.length){if(Nt(e)||Nt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vd,r=t;0>=r.X(e);)n=Fv(n),r=Fv(r);var i=hi(n,1),s=hi(r,1);for(r=hi(r,2),n=hi(n,2);!In(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=hi(r,1),n=hi(n,1)}return t=Gu(e,i.R(t)),new Ps(i,t)}for(i=Li;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=rn(n),o=s.R(t);Nt(o)||0<o.X(e);)n-=r,s=rn(n),o=s.R(t);In(s)&&(s=vd),i=i.add(s),e=Gu(e,o)}return new Ps(i,e)}k.gb=function(e){return Xu(this,e).h};k.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new J(n,this.h&e.h)};k.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new J(n,this.h|e.h)};k.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new J(n,this.h^e.h)};function Fv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new J(n,e.h)}function hi(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new J(i,e.h)}Qu.prototype.createWebChannel=Qu.prototype.g;At.prototype.send=At.prototype.u;At.prototype.open=At.prototype.m;At.prototype.close=At.prototype.close;ic.NO_ERROR=0;ic.TIMEOUT=8;ic.HTTP_ERROR=6;PE.COMPLETE="complete";AE.EventType=Go;Go.OPEN="a";Go.CLOSE="b";Go.ERROR="c";Go.MESSAGE="d";De.prototype.listen=De.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;Yt.prototype.digest=Yt.prototype.l;Yt.prototype.reset=Yt.prototype.reset;Yt.prototype.update=Yt.prototype.j;J.prototype.add=J.prototype.add;J.prototype.multiply=J.prototype.R;J.prototype.modulo=J.prototype.gb;J.prototype.compare=J.prototype.X;J.prototype.toNumber=J.prototype.ea;J.prototype.toString=J.prototype.toString;J.prototype.getBits=J.prototype.D;J.fromNumber=rn;J.fromString=aT;var mD=function(){return new Qu},gD=function(){return rc()},xh=ic,yD=PE,vD=ai,jv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Na=AE,_D=ye,wD=Yt,$i=J;const Uv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Xw("@firebase/firestore");function As(){return Xr.logLevel}function N(e,...t){if(Xr.logLevel<=W.DEBUG){const n=t.map(Om);Xr.debug(`Firestore (${ds}): ${e}`,...n)}}function Mn(e,...t){if(Xr.logLevel<=W.ERROR){const n=t.map(Om);Xr.error(`Firestore (${ds}): ${e}`,...n)}}function Xi(e,...t){if(Xr.logLevel<=W.WARN){const n=t.map(Om);Xr.warn(`Firestore (${ds}): ${e}`,...n)}}function Om(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(e="Unexpected state"){const t=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+e;throw Mn(t),new Error(t)}function ae(e,t){e||$()}function U(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ED{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class TD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SD{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cn,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new Xe(t)}}class ID{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PD{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ID(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ae(typeof n.token=="string"),this.R=n.token,new AD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=RD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function G(e,t){return e<t?-1:e>t?1:0}function Yi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new V(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new V(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new V(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ce(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.timestamp=t}static fromTimestamp(t){return new j(t)}static min(){return new j(new Ce(0,0))}static max(){return new j(new Ce(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n,r){n===void 0?n=0:n>t.length&&$(),r===void 0?r=t.length-n:r>t.length-n&&$(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Do.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Do?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ce extends Do{construct(t,n,r){return new ce(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new V(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends Do{construct(t,n,r){return new je(t,n,r)}static isValidIdentifier(t){return kD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new je(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new V(A.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new V(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t){this.path=t}static fromPath(t){return new M(ce.fromString(t))}static fromName(t){return new M(ce.fromString(t).popFirst(5))}static empty(){return new M(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new M(new ce(t.slice()))}}function OD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=j.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new pr(i,M.empty(),t)}function xD(e){return new pr(e.readTime,e.key,-1)}class pr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(j.min(),M.empty(),-1)}static max(){return new pr(j.max(),M.empty(),-1)}}function DD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=M.comparator(e.documentKey,t.documentKey),n!==0?n:G(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(e){if(e.code!==A.FAILED_PRECONDITION||e.message!==ND)throw e;N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):C.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):C.reject(n)}static resolve(t){return new C((n,r)=>{n(t)})}static reject(t){return new C((n,r)=>{r(t)})}static waitFor(t){return new C((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=C.resolve(!1);for(const r of t)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new C((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new C((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function ta(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}xm.ae=-1;function dc(e){return e==null}function Yu(e){return e===0&&1/e==-1/0}function VD(e){return typeof e=="number"&&Number.isInteger(e)&&!Yu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ui(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ba(this.root,t,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ba(this.root,t,this.comparator,!0)}}class ba{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??$e.RED,this.left=i??$e.EMPTY,this.right=s??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new $e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return $e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const t=this.left.check();if(t!==this.right.check())throw $();return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,n,r,i,s){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new Et([])}unionWith(t){let n=new ze(je.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Et(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hT("Invalid base64 string: "+s):s}}(t);return new rt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new rt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return G(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const MD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(e){if(ae(!!e),typeof e=="string"){let t=0;const n=MD.exec(e);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Yr(e){return typeof e=="string"?rt.fromBase64String(e):rt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nm(e){const t=e.mapValue.fields.__previous_value__;return Dm(t)?Nm(t):t}function No(e){const t=mr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class bo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dm(e)?4:$D(e)?9007199254740991:10:$()}function dn(e,t){if(e===t)return!0;const n=Jr(e);if(n!==Jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return No(e).isEqual(No(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=mr(i.timestampValue),a=mr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Yr(i.bytesValue).isEqual(Yr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Ee(i.geoPointValue.latitude)===Ee(s.geoPointValue.latitude)&&Ee(i.geoPointValue.longitude)===Ee(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ee(i.integerValue)===Ee(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ee(i.doubleValue),a=Ee(s.doubleValue);return o===a?Yu(o)===Yu(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Yi(e.arrayValue.values||[],t.arrayValue.values||[],dn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Bv(o)!==Bv(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!dn(o[u],a[u])))return!1;return!0}(e,t);default:return $()}}function Vo(e,t){return(e.values||[]).find(n=>dn(n,t))!==void 0}function Ji(e,t){if(e===t)return 0;const n=Jr(e),r=Jr(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Ee(s.integerValue||s.doubleValue),u=Ee(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return qv(e.timestampValue,t.timestampValue);case 4:return qv(No(e),No(t));case 5:return G(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Yr(s),u=Yr(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=G(a[l],u[l]);if(c!==0)return c}return G(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=G(Ee(s.latitude),Ee(o.latitude));return a!==0?a:G(Ee(s.longitude),Ee(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Ji(a[l],u[l]);if(c)return c}return G(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Va.mapValue&&o===Va.mapValue)return 0;if(s===Va.mapValue)return 1;if(o===Va.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const f=G(u[h],c[h]);if(f!==0)return f;const d=Ji(a[u[h]],l[c[h]]);if(d!==0)return d}return G(u.length,c.length)}(e.mapValue,t.mapValue);default:throw $()}}function qv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return G(e,t);const n=mr(e),r=mr(t),i=G(n.seconds,r.seconds);return i!==0?i:G(n.nanos,r.nanos)}function Zi(e){return _d(e)}function _d(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Yr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return M.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_d(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_d(n.fields[o])}`;return i+"}"}(e.mapValue):$()}function wd(e){return!!e&&"integerValue"in e}function bm(e){return!!e&&"arrayValue"in e}function Kv(e){return!!e&&"nullValue"in e}function Wv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eu(e){return!!e&&"mapValue"in e}function Qs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ui(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Qs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $D(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.value=t}static empty(){return new ft({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!eu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qs(n)}setAll(t){let n=je.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];eu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ui(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new ft(Qs(this.value))}}function fT(e){const t=[];return ui(e.fields,(n,r)=>{const i=new je([n]);if(eu(r)){const s=fT(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Et(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Je(t,0,j.min(),j.min(),j.min(),ft.empty(),0)}static newFoundDocument(t,n,r,i){return new Je(t,1,n,j.min(),r,i,0)}static newNoDocument(t,n){return new Je(t,2,n,j.min(),j.min(),ft.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,j.min(),j.min(),ft.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ft.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n){this.position=t,this.inclusive=n}}function Hv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n="asc"){this.field=t,this.dir=n}}function FD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class Pe extends dT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new UD(t,n,r):n==="array-contains"?new qD(t,r):n==="in"?new KD(t,r):n==="not-in"?new WD(t,r):n==="array-contains-any"?new HD(t,r):new Pe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new BD(t,r):new zD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ji(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends dT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new pn(t,n)}matches(t){return pT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function pT(e){return e.op==="and"}function mT(e){return jD(e)&&pT(e)}function jD(e){for(const t of e.filters)if(t instanceof pn)return!1;return!0}function Ed(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+Zi(e.value);if(mT(e))return e.filters.map(t=>Ed(t)).join(",");{const t=e.filters.map(n=>Ed(n)).join(",");return`${e.op}(${t})`}}function gT(e,t){return e instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&dn(r.value,i.value)}(e,t):e instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gT(o,i.filters[a]),!0):!1}(e,t):void $()}function yT(e){return e instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(e):e instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"}(e):"Filter"}class UD extends Pe{constructor(t,n,r){super(t,n,r),this.key=M.fromName(r.referenceValue)}matches(t){const n=M.comparator(t.key,this.key);return this.matchesComparison(n)}}class BD extends Pe{constructor(t,n){super(t,"in",n),this.keys=vT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zD extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=vT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class qD extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bm(n)&&Vo(n.arrayValue,this.value)}}class KD extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Vo(this.value.arrayValue,n)}}class WD extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Vo(this.value.arrayValue,n)}}class HD extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Gv(e,t=null,n=[],r=[],i=null,s=null,o=null){return new QD(e,t,n,r,i,s,o)}function Vm(e){const t=U(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ed(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Zi(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Zi(r)).join(",")),t.le=n}return t.le}function Mm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!FD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qv(e.startAt,t.startAt)&&Qv(e.endAt,t.endAt)}function Td(e){return M.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function GD(e,t,n,r,i,s,o,a){return new pc(e,t,n,r,i,s,o,a)}function mc(e){return new pc(e)}function Xv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function XD(e){return e.collectionGroup!==null}function Gs(e){const t=U(e);if(t.he===null){t.he=[];const n=new Set;for(const s of t.explicitOrderBy)t.he.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ze(je.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.he.push(new Zu(s,r))}),n.has(je.keyField().canonicalString())||t.he.push(new Zu(je.keyField(),r))}return t.he}function un(e){const t=U(e);return t.Pe||(t.Pe=YD(t,Gs(e))),t.Pe}function YD(e,t){if(e.limitType==="F")return Gv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zu(i.field,s)});const n=e.endAt?new Ju(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ju(e.startAt.position,e.startAt.inclusive):null;return Gv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sd(e,t,n){return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gc(e,t){return Mm(un(e),un(t))&&e.limitType===t.limitType}function _T(e){return`${Vm(un(e))}|lt:${e.limitType}`}function fi(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yT(i)).join(", ")}]`),dc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zi(i)).join(",")),`Target(${r})`}(un(e))}; limitType=${e.limitType})`}function yc(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Gs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=Hv(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Gs(r),i)||r.endAt&&!function(o,a,u){const l=Hv(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Gs(r),i))}(e,t)}function JD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wT(e){return(t,n)=>{let r=!1;for(const i of Gs(e)){const s=ZD(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZD(e,t,n){const r=e.field.isKeyField()?M.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ji(u,l):$()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ui(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new me(M.comparator);function Ln(){return eN}const ET=new me(M.comparator);function bs(...e){let t=ET;for(const n of e)t=t.insert(n.key,n);return t}function TT(e){let t=ET;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function $r(){return Xs()}function ST(){return Xs()}function Xs(){return new ps(e=>e.toString(),(e,t)=>e.isEqual(t))}const tN=new me(M.comparator),nN=new ze(M.comparator);function z(...e){let t=nN;for(const n of e)t=t.add(n);return t}const rN=new ze(G);function iN(){return rN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(t)?"-0":t}}function PT(e){return{integerValue:""+e}}function sN(e,t){return VD(t)?PT(t):IT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function oN(e,t,n){return e instanceof el?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dm(s)&&(s=Nm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof es?CT(e,t):e instanceof Mo?RT(e,t):function(i,s){const o=AT(i,s),a=Yv(o)+Yv(i.Te);return wd(o)&&wd(i.Te)?PT(a):IT(i.serializer,a)}(e,t)}function aN(e,t,n){return e instanceof es?CT(e,t):e instanceof Mo?RT(e,t):n}function AT(e,t){return e instanceof tl?function(r){return wd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class el extends vc{}class es extends vc{constructor(t){super(),this.elements=t}}function CT(e,t){const n=kT(t);for(const r of e.elements)n.some(i=>dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mo extends vc{constructor(t){super(),this.elements=t}}function RT(e,t){let n=kT(t);for(const r of e.elements)n=n.filter(i=>!dn(i,r));return{arrayValue:{values:n}}}class tl extends vc{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Yv(e){return Ee(e.integerValue||e.doubleValue)}function kT(e){return bm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,n){this.field=t,this.transform=n}}function lN(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof es&&i instanceof es||r instanceof Mo&&i instanceof Mo?Yi(r.elements,i.elements,dn):r instanceof tl&&i instanceof tl?dn(r.Te,i.Te):r instanceof el&&i instanceof el}(e.transform,t.transform)}class cN{constructor(t,n){this.version=t,this.transformResults=n}}class ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ln}static exists(t){return new ln(void 0,t)}static updateTime(t){return new ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class _c{}function OT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new DT(e.key,ln.none()):new na(e.key,e.data,ln.none());{const n=e.data,r=ft.empty();let i=new ze(je.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ir(e.key,r,new Et(i.toArray()),ln.none())}}function hN(e,t,n){e instanceof na?function(i,s,o){const a=i.value.clone(),u=Zv(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ir?function(i,s,o){if(!tu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Zv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(xT(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Ys(e,t,n,r){return e instanceof na?function(s,o,a,u){if(!tu(s.precondition,o))return a;const l=s.value.clone(),c=e_(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ir?function(s,o,a,u){if(!tu(s.precondition,o))return a;const l=e_(s.fieldTransforms,u,o),c=o.data;return c.setAll(xT(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return tu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function fN(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=AT(r.transform,i||null);s!=null&&(n===null&&(n=ft.empty()),n.set(r.field,s))}return n||null}function Jv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yi(r,i,(s,o)=>lN(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class na extends _c{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ir extends _c{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Zv(e,t,n){const r=new Map;ae(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,aN(o,a,n[i]))}return r}function e_(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oN(s,o,t))}return r}class DT extends _c{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dN extends _c{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&hN(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ys(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ys(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ST();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=OT(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),z())}isEqual(t){return this.batchId===t.batchId&&Yi(this.mutations,t.mutations,(n,r)=>Jv(n,r))&&Yi(this.baseMutations,t.baseMutations,(n,r)=>Jv(n,r))}}class Lm{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ae(t.mutations.length===r.length);let i=function(){return tN}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lm(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,K;function yN(e){switch(e){default:return $();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function NT(e){if(e===void 0)return Mn("GRPC error has no .code"),A.UNKNOWN;switch(e){case we.OK:return A.OK;case we.CANCELLED:return A.CANCELLED;case we.UNKNOWN:return A.UNKNOWN;case we.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case we.INTERNAL:return A.INTERNAL;case we.UNAVAILABLE:return A.UNAVAILABLE;case we.UNAUTHENTICATED:return A.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case we.NOT_FOUND:return A.NOT_FOUND;case we.ALREADY_EXISTS:return A.ALREADY_EXISTS;case we.PERMISSION_DENIED:return A.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case we.ABORTED:return A.ABORTED;case we.OUT_OF_RANGE:return A.OUT_OF_RANGE;case we.UNIMPLEMENTED:return A.UNIMPLEMENTED;case we.DATA_LOSS:return A.DATA_LOSS;default:return $()}}(K=we||(we={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new $i([4294967295,4294967295],0);function t_(e){const t=vN().encode(e),n=new wD;return n.update(t),new Uint8Array(n.digest())}function n_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $i([n,r],0),new $i([i,s],0)]}class $m{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vs(`Invalid padding: ${n}`);if(r<0)throw new Vs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Vs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Vs(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=$i.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply($i.fromNumber(r)));return i.compare(_N)===1&&(i=new $i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ee===0)return!1;const n=t_(t),[r,i]=n_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new $m(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ee===0)return;const n=t_(t),[r,i]=n_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,ra.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wc(j.min(),i,new me(G),Ln(),z())}}class ra{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ra(r,n,z(),z(),z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class bT{constructor(t,n){this.targetId=t,this.ge=n}}class VT{constructor(t,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class r_{constructor(){this.pe=0,this.ye=s_(),this.we=rt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=z(),n=z(),r=z();return this.ye.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new ra(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=s_()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class wN{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ln(),this.Ke=i_(),this.$e=new me(G)}Ue(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.We(n,t.fe):this.Ge(n,t.key,t.fe);for(const n of t.removedTargetIds)this.Ge(n,t.key,t.fe)}ze(t){this.forEachTarget(t,n=>{const r=this.je(n);switch(t.state){case 0:this.He(n)&&r.ve(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(t.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(t.resumeToken));break;default:$()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(t){const n=t.targetId,r=t.ge.count,i=this.Ze(n);if(i){const s=i.target;if(Td(s))if(r===0){const o=new M(s.path);this.Ge(n,o,Je.newNoDocument(o,j.min()))}else ae(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(t),u=a?this.tt(a,t,o):1;if(u!==0){this.Je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,l)}}}}}et(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Yr(r).toUint8Array()}catch(u){if(u instanceof hT)return Xi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new $m(o,i,s)}catch(u){return Xi(u instanceof Vs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}tt(t,n,r){return n.ge.count===r-this.it(t,n.targetId)?0:2}it(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(t){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&Td(a.target)){const u=new M(a.target.path);this.Qe.get(u)!==null||this.ot(o,u)||this.Ge(o,u,Je.newNoDocument(u,t))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=z();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ze(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(t));const i=new wc(t,n,this.$e,this.Qe,r);return this.Qe=Ln(),this.Ke=i_(),this.$e=new me(G),i}We(t,n){if(!this.He(t))return;const r=this.ot(t,n.key)?2:0;this.je(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(t))}Ge(t,n,r){if(!this.He(t))return;const i=this.je(t);this.ot(t,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}Xe(t){const n=this.je(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.je(t).Ne()}je(t){let n=this.qe.get(t);return n||(n=new r_,this.qe.set(t,n)),n}_t(t){let n=this.Ke.get(t);return n||(n=new ze(G),this.Ke=this.Ke.insert(t,n)),n}He(t){const n=this.Ze(t)!==null;return n||N("WatchChangeAggregator","Detected inactive target",t),n}Ze(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.ut(t)}Je(t){this.qe.set(t,new r_),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.Ge(t,n,null)})}ot(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function i_(){return new me(M.comparator)}function s_(){return new me(M.comparator)}const EN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),TN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),SN=(()=>({and:"AND",or:"OR"}))();class IN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Id(e,t){return e.useProto3Json||dc(t)?t:{value:t}}function nl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function PN(e,t){return nl(e,t.toTimestamp())}function cn(e){return ae(!!e),j.fromTimestamp(function(n){const r=mr(n);return new Ce(r.seconds,r.nanos)}(e))}function Fm(e,t){return function(r){return new ce(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function LT(e){const t=ce.fromString(e);return ae(UT(t)),t}function Pd(e,t){return Fm(e.databaseId,t.path)}function Dh(e,t){const n=LT(t);if(n.get(1)!==e.databaseId.projectId)throw new V(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new V(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new M($T(n))}function Ad(e,t){return Fm(e.databaseId,t)}function AN(e){const t=LT(e);return t.length===4?ce.emptyPath():$T(t)}function Cd(e){return new ce(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $T(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function o_(e,t,n){return{name:Pd(e,t),fields:n.value.mapValue.fields}}function CN(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ae(c===void 0||typeof c=="string"),rt.fromBase64String(c||"")):(ae(c===void 0||c instanceof Uint8Array),rt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?A.UNKNOWN:NT(l.code);return new V(c,l.message||"")}(o);n=new VT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dh(e,r.document.name),s=cn(r.document.updateTime),o=r.document.createTime?cn(r.document.createTime):j.min(),a=new ft({mapValue:{fields:r.document.fields}}),u=Je.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new nu(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Dh(e,r.document),s=r.readTime?cn(r.readTime):j.min(),o=Je.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Dh(e,r.document),s=r.removedTargetIds||[];n=new nu([],s,i,null)}else{if(!("filter"in t))return $();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gN(i,s),a=r.targetId;n=new bT(a,o)}}return n}function RN(e,t){let n;if(t instanceof na)n={update:o_(e,t.key,t.value)};else if(t instanceof DT)n={delete:Pd(e,t.key)};else if(t instanceof Ir)n={update:o_(e,t.key,t.data),updateMask:LN(t.fieldMask)};else{if(!(t instanceof dN))return $();n={verify:Pd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof el)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof es)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw $()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$()}(e,t.precondition)),n}function kN(e,t){return e&&e.length>0?(ae(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?cn(i.updateTime):cn(s);return o.isEqual(j.min())&&(o=cn(s)),new cN(o,i.transformResults||[])}(n,t))):[]}function ON(e,t){return{documents:[Ad(e,t.path)]}}function xN(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ad(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ad(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return jT(pn.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:di(h.field),direction:bN(h.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Id(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function DN(e){let t=AN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=FT(h);return f instanceof pn&&mT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Zu(pi(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,dc(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,d=h.values||[];return new Ju(d,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,d=h.values||[];return new Ju(d,f)}(n.endAt)),GD(t,i,o,s,a,"F",u,l)}function NN(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pi(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pi(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pi(n.unaryFilter.field);return Pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pi(n.unaryFilter.field);return Pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(e):e.fieldFilter!==void 0?function(n){return Pe.create(pi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>FT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(n.compositeFilter.op))}(e):$()}function bN(e){return EN[e]}function VN(e){return TN[e]}function MN(e){return SN[e]}function di(e){return{fieldPath:e.canonicalString()}}function pi(e){return je.fromServerFormat(e.fieldPath)}function jT(e){return e instanceof Pe?function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NAN"}};if(Kv(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NAN"}};if(Kv(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:di(n.field),op:VN(n.op),value:n.value}}}(e):e instanceof pn?function(n){const r=n.getFilters().map(i=>jT(i));return r.length===1?r[0]:{compositeFilter:{op:MN(n.op),filters:r}}}(e):$()}function LN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function UT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n,r,i,s=j.min(),o=j.min(),a=rt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Gn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.ct=t}}function FN(e){const t=DN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this._n=new UN}addToCollectionParentIndex(t,n){return this._n.add(n),C.resolve()}getCollectionParents(t,n){return C.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return C.resolve()}deleteFieldIndex(t,n){return C.resolve()}deleteAllFieldIndexes(t){return C.resolve()}createTargetIndexes(t,n){return C.resolve()}getDocumentsMatchingTarget(t,n){return C.resolve(null)}getIndexType(t,n){return C.resolve(0)}getFieldIndexes(t,n){return C.resolve([])}getNextCollectionGroupToUpdate(t){return C.resolve(null)}getMinOffset(t,n){return C.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,n){return C.resolve(pr.min())}updateCollectionGroup(t,n,r){return C.resolve()}updateIndexEntries(t,n){return C.resolve()}}class UN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ze(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ze(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new ts(0)}static Bn(){return new ts(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.changes=new ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ys(r.mutation,i,Et.empty(),Ce.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,z()).next(()=>r))}getLocalViewOfDocuments(t,n,r=z()){const i=$r();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=bs();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=$r();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,z()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ln();const o=Xs(),a=function(){return Xs()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Ir)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Ys(c.mutation,l,c.mutation.getFieldMask(),Ce.now())):o.set(l.key,Et.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new zN(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Xs();let i=new me((o,a)=>o-a),s=z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Et.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||z()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=ST();c.forEach(f=>{if(!s.has(f)){const d=OT(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):XD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):C.resolve($r());let a=-1,u=s;return o.next(l=>C.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?C.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,z())).next(c=>({batchId:a,changes:TT(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new M(n)).next(r=>{let i=bs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=bs();return this.indexManager.getCollectionParents(t,s).next(a=>C.forEach(a,u=>{const l=function(h,f){return new pc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Je.newInvalidDocument(c)))});let a=bs();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Ys(c.mutation,l,Et.empty(),Ce.now()),yc(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return C.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cn(i.createTime)}}(n)),C.resolve()}getNamedQuery(t,n){return C.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:FN(i.bundledQuery),readTime:cn(i.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.overlays=new me(M.comparator),this.hr=new Map}getOverlay(t,n){return C.resolve(this.overlays.get(n))}getOverlays(t,n){const r=$r();return C.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),C.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),C.resolve()}getOverlaysForCollection(t,n,r){const i=$r(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return C.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new me((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=$r(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=$r(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return C.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mN(n,r));let s=this.hr.get(n);s===void 0&&(s=z(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Pr=new ze(ke.Ir),this.Tr=new ze(ke.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new ke(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new ke(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new M(new ce([])),r=new ke(n,t),i=new ke(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new M(new ce([])),r=new ke(n,t),i=new ke(n,t+1);let s=z();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ke(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return M.comparator(t.key,n.key)||G(t.pr,n.pr)}static Er(t,n){return G(t.pr,n.pr)||M.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ze(ke.Ir)}checkEmpty(t){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new ke(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(t,n){return C.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ke(n,0),i=new ke(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ze(G);return n.forEach(i=>{const s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),C.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new ke(new M(s),0);let a=new ze(G);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),C.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ae(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return C.forEach(n.mutations,i=>{const s=new ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new ke(n,0),i=this.wr.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,C.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.vr=t,this.docs=function(){return new me(M.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ln();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||DD(xD(c),r)<=0||(i.has(c.key)||yc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(t,n,r,i){$()}Fr(t,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new GN(this)}getSize(t){return C.resolve(this.size)}}class GN extends BN{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),C.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t){this.persistence=t,this.Mr=new ps(n=>Vm(n),Mm),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Or=0,this.Nr=new jm,this.targetCount=0,this.Br=ts.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(t){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return C.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),C.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new ts(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,C.resolve()}updateTargetData(t,n){return this.qn(n),C.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(t){return C.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return C.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),C.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),C.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return C.resolve(r)}containsKey(t,n){return C.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t,n){this.Lr={},this.overlays={},this.kr=new xm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new XN(this),this.indexManager=new jN,this.remoteDocumentCache=function(i){return new QN(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new $N(n),this.$r=new KN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new WN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new HN(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){N("MemoryPersistence","Starting transaction:",t);const i=new JN(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return C.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class JN extends bD{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.zr=new jm,this.jr=null}static Hr(t){return new Um(t)}get Jr(){if(this.jr)return this.jr;throw $()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),C.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),C.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Jr,r=>{const i=M.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return C.or([()=>C.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=z(),i=z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Bm(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ZN;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(As()<=W.DEBUG&&N("QueryEngine","SDK will not create cache indexes for query:",fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),C.resolve()):(As()<=W.DEBUG&&N("QueryEngine","Query:",fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(As()<=W.DEBUG&&N("QueryEngine","The SDK decides to create cache indexes for query:",fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,un(n))):C.resolve())}ji(t,n){if(Xv(n))return C.resolve(null);let r=un(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sd(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=z(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,Sd(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return Xv(n)||i.isEqual(j.min())?C.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?C.resolve(null):(As()<=W.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fi(n)),this.es(t,o,n,OD(i,-1)).next(a=>a))})}Zi(t,n){let r=new ze(wT(t));return n.forEach((i,s)=>{yc(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return As()<=W.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",fi(n)),this.zi.getDocumentsMatchingQuery(t,n,pr.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new me(G),this.rs=new ps(s=>Vm(s),Mm),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function nb(e,t,n,r){return new tb(e,t,n,r)}async function BT(e,t){const n=U(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=z();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function rb(e,t){const n=U(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const h=l.batch,f=h.keys();let d=C.resolve();return f.forEach(g=>{d=d.next(()=>c.getEntry(u,g)).next(y=>{const _=l.docVersions.get(g);ae(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=z();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function zT(e){const t=U(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function ib(e,t){const n=U(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(rt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(y,_,p){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,d,c)&&a.push(n.Qr.updateTargetData(s,d))});let u=Ln(),l=z();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(sb(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(j.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function sb(e,t,n){let r=z(),i=z();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ln();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function ob(e,t){const n=U(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function ab(e,t){const n=U(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,C.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Gn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function Rd(e,t,n){const r=U(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ta(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function a_(e,t,n){const r=U(e);let i=j.min(),s=z();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const h=U(u),f=h.rs.get(c);return f!==void 0?C.resolve(h.ns.get(f)):h.Qr.getTargetData(l,c)}(r,o,un(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:j.min(),n?s:z())).next(a=>(ub(r,JD(t),a),{documents:a,hs:s})))}function ub(e,t,n){let r=e.ss.get(t)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class u_{constructor(){this.activeTargetIds=iN()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lb{constructor(){this.no=new u_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new u_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma=null;function Nh(){return Ma===null?Ma=function(){return 268435456+Math.round(2147483648*Math.random())}():Ma++,"0x"+Ma.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class db extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Nh(),u=this.bo(n,r);N("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(N("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Xi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=hb[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=Nh();return new Promise((o,a)=>{const u=new _D;u.setWithCredentials(!0),u.listenOnce(yD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xh.NO_ERROR:const c=u.getResponseJson();N(Qe,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case xh.TIMEOUT:N(Qe,`RPC '${t}' ${s} timed out`),a(new V(A.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const h=u.getStatus();if(N(Qe,`RPC '${t}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const g=function(_){const p=_.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(p)>=0?p:A.UNKNOWN}(d.status);a(new V(g,d.message))}else a(new V(A.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(A.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{N(Qe,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);N(Qe,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=Nh(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=mD(),a=gD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");N(Qe,`Creating RPC '${t}' stream ${i}: ${c}`,u);const h=o.createWebChannel(c,u);let f=!1,d=!1;const g=new fb({lo:_=>{d?N(Qe,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(f||(N(Qe,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),N(Qe,`RPC '${t}' stream ${i} sending:`,_),h.send(_))},ho:()=>h.close()}),y=(_,p,m)=>{_.listen(p,v=>{try{m(v)}catch(w){setTimeout(()=>{throw w},0)}})};return y(h,Na.EventType.OPEN,()=>{d||N(Qe,`RPC '${t}' stream ${i} transport opened.`)}),y(h,Na.EventType.CLOSE,()=>{d||(d=!0,N(Qe,`RPC '${t}' stream ${i} transport closed`),g.Vo())}),y(h,Na.EventType.ERROR,_=>{d||(d=!0,Xi(Qe,`RPC '${t}' stream ${i} transport errored:`,_),g.Vo(new V(A.UNAVAILABLE,"The operation could not be completed")))}),y(h,Na.EventType.MESSAGE,_=>{var p;if(!d){const m=_.data[0];ae(!!m);const v=m,w=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(w){N(Qe,`RPC '${t}' stream ${i} received error:`,w);const E=w.status;let T=function(b){const D=we[b];if(D!==void 0)return NT(D)}(E),I=w.message;T===void 0&&(T=A.INTERNAL,I="Unknown error status: "+E+" with message "+w.message),d=!0,g.Vo(new V(T,I)),h.close()}else N(Qe,`RPC '${t}' stream ${i} received:`,m),g.mo(m)}}),y(a,vD.STAT_EVENT,_=>{_.stat===jv.PROXY?N(Qe,`RPC '${t}' stream ${i} detected buffering proxy`):_.stat===jv.NOPROXY&&N(Qe,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(e){return new IN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qT(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new V(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return N("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pb extends KT{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=CN(this.serializer,t),r=function(s){if(!("targetChange"in s))return j.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?cn(o.readTime):j.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=Cd(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Td(u)?{documents:ON(s,u)}:{query:xN(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MT(s,o.resumeToken);const l=Id(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(j.min())>0){a.readTime=nl(s,o.snapshotVersion.toTimestamp());const l=Id(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=NN(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=Cd(this.serializer),n.removeTarget=t,this.t_(n)}}class mb extends KT{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(ae(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=kN(t.writeResults,t.commitTime),r=cn(t.commitTime);return this.listener.T_(r,n)}return ae(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=Cd(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>RN(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new V(A.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(A.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(A.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class yb{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Mn(n),this.g_=!1):N("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{li(this)&&(N("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=U(u);l.v_.add(4),await ia(l),l.x_.set("Unknown"),l.v_.delete(4),await Tc(l)}(this))})}),this.x_=new yb(r,i)}}async function Tc(e){if(li(e))for(const t of e.F_)await t(!0)}async function ia(e){for(const t of e.F_)await t(!1)}function WT(e,t){const n=U(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Km(n)?qm(n):ms(n).Jo()&&zm(n,t))}function HT(e,t){const n=U(e),r=ms(n);n.C_.delete(t),r.Jo()&&QT(n,t),n.C_.size===0&&(r.Jo()?r.Xo():li(n)&&n.x_.set("Unknown"))}function zm(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(j.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ms(e).c_(t)}function QT(e,t){e.O_.Ne(t),ms(e).l_(t)}function qm(e){e.O_=new wN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.C_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),ms(e).start(),e.x_.p_()}function Km(e){return li(e)&&!ms(e).Ho()&&e.C_.size>0}function li(e){return U(e).v_.size===0}function GT(e){e.O_=void 0}async function _b(e){e.C_.forEach((t,n)=>{zm(e,t)})}async function wb(e,t){GT(e),Km(e)?(e.x_.S_(t),qm(e)):e.x_.set("Unknown")}async function Eb(e,t,n){if(e.x_.set("Online"),t instanceof VT&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await rl(e,r)}else if(t instanceof nu?e.O_.Ue(t):t instanceof bT?e.O_.Ye(t):e.O_.ze(t),!n.isEqual(j.min()))try{const r=await zT(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(rt.EMPTY_BYTE_STRING,c.snapshotVersion)),QT(s,u);const h=new Gn(c.target,u,l,c.sequenceNumber);zm(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){N("RemoteStore","Failed to raise snapshot:",r),await rl(e,r)}}async function rl(e,t,n){if(!ta(t))throw t;e.v_.add(1),await ia(e),e.x_.set("Offline"),n||(n=()=>zT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{N("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Tc(e)})}function XT(e,t){return t().catch(n=>rl(e,n,t))}async function Sc(e){const t=U(e),n=gr(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Tb(t);)try{const i=await ob(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,Sb(t,i)}catch(i){await rl(t,i)}YT(t)&&JT(t)}function Tb(e){return li(e)&&e.D_.length<10}function Sb(e,t){e.D_.push(t);const n=gr(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function YT(e){return li(e)&&!gr(e).Ho()&&e.D_.length>0}function JT(e){gr(e).start()}async function Ib(e){gr(e).d_()}async function Pb(e){const t=gr(e);for(const n of e.D_)t.I_(n.mutations)}async function Ab(e,t,n){const r=e.D_.shift(),i=Lm.from(r,t,n);await XT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Sc(e)}async function Cb(e,t){t&&gr(e).P_&&await async function(r,i){if(function(o){return yN(o)&&o!==A.ABORTED}(i.code)){const s=r.D_.shift();gr(r).Zo(),await XT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sc(r)}}(e,t),YT(e)&&JT(e)}async function c_(e,t){const n=U(e);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=li(n);n.v_.add(3),await ia(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Tc(n)}async function Rb(e,t){const n=U(e);t?(n.v_.delete(2),await Tc(n)):t||(n.v_.add(2),await ia(n),n.x_.set("Unknown"))}function ms(e){return e.N_||(e.N_=function(n,r,i){const s=U(n);return s.R_(),new pb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:_b.bind(null,e),To:wb.bind(null,e),u_:Eb.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Km(e)?qm(e):e.x_.set("Unknown")):(await e.N_.stop(),GT(e))})),e.N_}function gr(e){return e.B_||(e.B_=function(n,r,i){const s=U(n);return s.R_(),new mb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Ib.bind(null,e),To:Cb.bind(null,e),E_:Pb.bind(null,e),T_:Ab.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await Sc(e)):(await e.B_.stop(),e.D_.length>0&&(N("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Wm(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(e,t){if(Mn("AsyncQueue",`${t}: ${e}`),ta(e))return new V(A.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.comparator=t?(n,r)=>t(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=bs(),this.sortedSet=new me(this.comparator)}static emptySet(t){return new Fi(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fi)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Fi;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.L_=new me(M.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):$():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ns{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ns(t,n,Fi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.q_=void 0,this.listeners=[]}}class Ob{constructor(){this.queries=new ps(t=>_T(t),gc),this.onlineState="Unknown",this.Q_=new Set}}async function Qm(e,t){const n=U(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new kb),i)try{s.q_=await n.onListen(r)}catch(o){const a=Hm(o,`Initialization of query '${fi(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.K_(n.onlineState),s.q_&&t.U_(s.q_)&&Xm(n)}async function Gm(e,t){const n=U(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xb(e,t){const n=U(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&Xm(n)}function Db(e,t,n){const r=U(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Xm(e){e.Q_.forEach(t=>{t.next()})}class Ym{constructor(t,n,r){this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ns(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.G_?this.j_(t)&&(this.W_.next(t),n=!0):this.H_(t,this.onlineState)&&(this.J_(t),n=!0),this.z_=t,n}onError(t){this.W_.error(t)}K_(t){this.onlineState=t;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,t)&&(this.J_(this.z_),n=!0),n}H_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}j_(t){if(t.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(t){t=ns.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.G_=!0,this.W_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t){this.key=t}}class eS{constructor(t){this.key=t}}class Nb{constructor(t,n){this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=z(),this.mutatedKeys=z(),this.aa=wT(t),this.ua=new Fi(this.aa)}get ca(){return this.sa}la(t,n){const r=n?n.ha:new h_,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),d=yc(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;f&&d?f.data.isEqual(d.data)?g!==y&&(r.track({type:3,doc:d}),_=!0):this.Pa(f,d)||(r.track({type:2,doc:d}),_=!0,(u&&this.aa(d,u)>0||l&&this.aa(d,l)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),_=!0):f&&!d&&(r.track({type:1,doc:f}),_=!0,(u||l)&&(a=!0)),_&&(d?(o=o.add(d),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ua;this.ua=t.ua,this.mutatedKeys=t.mutatedKeys;const s=t.ha.k_();s.sort((l,c)=>function(f,d){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(d)}(l.type,c.type)||this.aa(l.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,u=a!==this.oa;return this.oa=a,s.length!==0||u?{snapshot:new ns(this.query,t.ua,i,s,t.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new h_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(t){return!this.sa.has(t)&&!!this.ua.has(t)&&!this.ua.get(t).hasLocalMutations}Ia(t){t&&(t.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this._a;this._a=z(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return t.forEach(r=>{this._a.has(r)||n.push(new eS(r))}),this._a.forEach(r=>{t.has(r)||n.push(new ZT(r))}),n}Aa(t){this.sa=t.hs,this._a=z();const n=this.la(t.documents);return this.applyChanges(n,!0)}Ra(){return ns.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class bb{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Vb{constructor(t){this.key=t,this.Va=!1}}class Mb{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new ps(a=>_T(a),gc),this.ga=new Map,this.pa=new Set,this.ya=new me(M.comparator),this.wa=new Map,this.Sa=new jm,this.ba={},this.Da=new Map,this.Ca=ts.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function Lb(e,t){const n=Hb(e);let r,i;const s=n.fa.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await ab(n.localStore,un(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await $b(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&WT(n.remoteStore,o)}return i}async function $b(e,t,n,r,i){e.Fa=(h,f,d)=>async function(y,_,p,m){let v=_.view.la(p);v.Xi&&(v=await a_(y.localStore,_.query,!1).then(({documents:T})=>_.view.la(T,v)));const w=m&&m.targetChanges.get(_.targetId),E=_.view.applyChanges(v,y.isPrimaryClient,w);return d_(y,_.targetId,E.Ea),E.snapshot}(e,h,f,d);const s=await a_(e.localStore,t,!0),o=new Nb(t,s.hs),a=o.la(s.documents),u=ra.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);d_(e,n,l.Ea);const c=new bb(t,n,o);return e.fa.set(t,c),e.ga.has(n)?e.ga.get(n).push(t):e.ga.set(n,[t]),l.snapshot}async function Fb(e,t){const n=U(e),r=n.fa.get(t),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!gc(s,t))),void n.fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),HT(n.remoteStore,r.targetId),kd(n,r.targetId)}).catch(ea)):(kd(n,r.targetId),await Rd(n.localStore,r.targetId,!0))}async function jb(e,t,n){const r=Qb(e);try{const i=await function(o,a){const u=U(o),l=Ce.now(),c=a.reduce((d,g)=>d.add(g.key),z());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=Ln(),y=z();return u.os.getEntries(d,c).next(_=>{g=_,g.forEach((p,m)=>{m.isValidDocument()||(y=y.add(p))})}).next(()=>u.localDocuments.getOverlayedDocuments(d,g)).next(_=>{h=_;const p=[];for(const m of a){const v=fN(m,h.get(m.key).overlayedDocument);v!=null&&p.push(new Ir(m.key,v,fT(v.value.mapValue),ln.exists(!0)))}return u.mutationQueue.addMutationBatch(d,l,p,a)}).next(_=>{f=_;const p=_.applyToLocalDocumentSet(h,y);return u.documentOverlayCache.saveOverlays(d,_.batchId,p)})}).then(()=>({batchId:f.batchId,changes:TT(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.ba[o.currentUser.toKey()];l||(l=new me(G)),l=l.insert(a,u),o.ba[o.currentUser.toKey()]=l}(r,i.batchId,n),await sa(r,i.changes),await Sc(r.remoteStore)}catch(i){const s=Hm(i,"Failed to persist write");n.reject(s)}}async function tS(e,t){const n=U(e);try{const r=await ib(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?ae(o.Va):i.removedDocuments.size>0&&(ae(o.Va),o.Va=!1))}),await sa(n,r,t)}catch(r){await ea(r)}}function f_(e,t,n){const r=U(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=U(o);u.onlineState=a;let l=!1;u.queries.forEach((c,h)=>{for(const f of h.listeners)f.K_(a)&&(l=!0)}),l&&Xm(u)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ub(e,t,n){const r=U(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.wa.get(t),s=i&&i.key;if(s){let o=new me(M.comparator);o=o.insert(s,Je.newNoDocument(s,j.min()));const a=z().add(s),u=new wc(j.min(),new Map,new me(G),o,a);await tS(r,u),r.ya=r.ya.remove(s),r.wa.delete(t),Jm(r)}else await Rd(r.localStore,t,!1).then(()=>kd(r,t,n)).catch(ea)}async function Bb(e,t){const n=U(e),r=t.batch.batchId;try{const i=await rb(n.localStore,t);rS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sa(n,i)}catch(i){await ea(i)}}async function zb(e,t,n){const r=U(e);try{const i=await function(o,a){const u=U(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(ae(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);rS(r,t,n),nS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sa(r,i)}catch(i){await ea(i)}}function nS(e,t){(e.Da.get(t)||[]).forEach(n=>{n.resolve()}),e.Da.delete(t)}function rS(e,t,n){const r=U(e);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function kd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ga.get(t))e.fa.delete(r),n&&e.ma.Ma(r,n);e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach(r=>{e.Sa.containsKey(r)||iS(e,r)})}function iS(e,t){e.pa.delete(t.path.canonicalString());const n=e.ya.get(t);n!==null&&(HT(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),Jm(e))}function d_(e,t,n){for(const r of n)r instanceof ZT?(e.Sa.addReference(r.key,t),qb(e,r)):r instanceof eS?(N("SyncEngine","Document no longer in limbo: "+r.key),e.Sa.removeReference(r.key,t),e.Sa.containsKey(r.key)||iS(e,r.key)):$()}function qb(e,t){const n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(N("SyncEngine","New document in limbo: "+n),e.pa.add(r),Jm(e))}function Jm(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){const t=e.pa.values().next().value;e.pa.delete(t);const n=new M(ce.fromString(t)),r=e.Ca.next();e.wa.set(r,new Vb(n)),e.ya=e.ya.insert(n,r),WT(e.remoteStore,new Gn(un(mc(n.path)),r,"TargetPurposeLimboResolution",xm.ae))}}async function sa(e,t,n){const r=U(e),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,u)=>{o.push(r.Fa(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=Bm.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(u,l){const c=U(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(l,f=>C.forEach(f.qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>C.forEach(f.Qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!ta(h))throw h;N("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const d=c.ns.get(f),g=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(f,y)}}}(r.localStore,s))}async function Kb(e,t){const n=U(e);if(!n.currentUser.isEqual(t)){N("SyncEngine","User change. New user:",t.toKey());const r=await BT(n.localStore,t);n.currentUser=t,function(s,o){s.Da.forEach(a=>{a.forEach(u=>{u.reject(new V(A.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sa(n,r.us)}}function Wb(e,t){const n=U(e),r=n.wa.get(t);if(r&&r.Va)return z().add(r.key);{let i=z();const s=n.ga.get(t);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function Hb(e){const t=U(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ub.bind(null,t),t.ma.u_=xb.bind(null,t.eventManager),t.ma.Ma=Db.bind(null,t.eventManager),t}function Qb(e){const t=U(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zb.bind(null,t),t}class p_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ec(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return nb(this.persistence,new eb,t.initialUser,this.serializer)}createPersistence(t){return new YN(Um.Hr,this.serializer)}createSharedClientState(t){return new lb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gb{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kb.bind(null,this.syncEngine),await Rb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ob}()}createDatastore(t){const n=Ec(t.databaseInfo.databaseId),r=function(s){return new db(s)}(t.databaseInfo);return function(s,o,a,u){return new gb(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new vb(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>f_(this.syncEngine,n,0),function(){return l_.C()?new l_:new cb}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const h=new Mb(i,s,o,a,u,l);return c&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=U(n);N("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await ia(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Na(this.observer.next,t)}error(t){this.observer.error?this.Na(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString())}Ba(){this.muted=!0}Na(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=lT.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{N("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(N("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Hm(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Vh(e,t){e.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function m_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jb(e);N("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>c_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>c_(t.remoteStore,s)),e._onlineComponents=t}function Yb(e){return e.name==="FirebaseError"?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Jb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Yb(n))throw n;Xi("Error using user provided cache. Falling back to memory cache: "+n),await Vh(e,new p_)}}else N("FirestoreClient","Using default OfflineComponentProvider"),await Vh(e,new p_);return e._offlineComponents}async function sS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),await m_(e,e._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),await m_(e,new Gb))),e._onlineComponents}function Zb(e){return sS(e).then(t=>t.syncEngine)}async function il(e){const t=await sS(e),n=t.eventManager;return n.onListen=Lb.bind(null,t.syncEngine),n.onUnlisten=Fb.bind(null,t.syncEngine),n}function eV(e,t,n={}){const r=new Cn;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Zm({next:f=>{o.enqueueAndForget(()=>Gm(s,h));const d=f.docs.has(a);!d&&f.fromCache?l.reject(new V(A.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&u&&u.source==="server"?l.reject(new V(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Ym(mc(a.path),c,{includeMetadataChanges:!0,Y_:!0});return Qm(s,h)}(await il(e),e.asyncQueue,t,n,r)),r.promise}function tV(e,t,n={}){const r=new Cn;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Zm({next:f=>{o.enqueueAndForget(()=>Gm(s,h)),f.fromCache&&u.source==="server"?l.reject(new V(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Ym(a,c,{includeMetadataChanges:!0,Y_:!0});return Qm(s,h)}(await il(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e,t,n){if(!n)throw new V(A.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nV(e,t,n,r){if(t===!0&&r===!0)throw new V(A.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function y_(e){if(!M.isDocumentKey(e))throw new V(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function v_(e){if(M.isDocumentKey(e))throw new V(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$()}function Lt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new V(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(e);throw new V(A.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new V(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new V(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ic{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new V(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ED;switch(r.type){case"firstParty":return new PD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g_.get(n);r&&(N("ComponentProvider","Removing Datastore"),g_.delete(n),r.terminate())}(this),Promise.resolve()}}function rV(e,t,n,r={}){var i;const s=(e=Lt(e,Ic))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Xe.MOCK_USER;else{a=Hw(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xe(l)}e._authCredentials=new TD(new uT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new oa(this.firestore,t,this._query)}}class ut{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ut(this.firestore,t,this._key)}}class lr extends oa{constructor(t,n,r){super(t,n,mc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ut(this.firestore,null,new M(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function JL(e,t,...n){if(e=Pt(e),aS("collection","path",t),e instanceof Ic){const r=ce.fromString(t,...n);return v_(r),new lr(e,null,r)}{if(!(e instanceof ut||e instanceof lr))throw new V(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ce.fromString(t,...n));return v_(r),new lr(e.firestore,null,r)}}function ZL(e,t,...n){if(e=Pt(e),arguments.length===1&&(t=lT.V()),aS("doc","path",t),e instanceof Ic){const r=ce.fromString(t,...n);return y_(r),new ut(e,null,new M(r))}{if(!(e instanceof ut||e instanceof lr))throw new V(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ce.fromString(t,...n));return y_(r),new ut(e.firestore,e instanceof lr?e.converter:null,new M(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new qT(this,"async_queue_retry"),this.su=()=>{const n=bh();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=bh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ou(),this._u(t)}enterRestrictedMode(t){if(!this.Xa){this.Xa=!0,this.ru=t||!1;const n=bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(t){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Cn;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Za.push(t),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(t){if(!ta(t))throw t;N("AsyncQueue","Operation failed with retryable error: "+t)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(t){const n=this.Ya.then(()=>(this.nu=!0,t().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(t,n,r){this.ou(),this.iu.indexOf(t)>-1&&(n=0);const i=Wm.createAndSchedule(this,t,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&$()}verifyOperationInProgress(){}async cu(){let t;do t=this.Ya,await t;while(t!==this.Ya)}lu(t){for(const n of this.eu)if(n.timerId===t)return!0;return!1}hu(t){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.cu()})}Pu(t){this.iu.push(t)}uu(t){const n=this.eu.indexOf(t);this.eu.splice(n,1)}}function w_(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Zr extends Ic{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new iV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uS(this),this._firestoreClient.terminate()}}function sV(e,t){const n=typeof e=="object"?e:am(),r=typeof e=="string"?e:t||"(default)",i=Ko(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Kw("firestore");s&&rV(i,...s)}return i}function Pc(e){return e._firestoreClient||uS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uS(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new LD(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oS(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Xb(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rs(rt.fromBase64String(t))}catch(n){throw new V(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new rs(rt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new V(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new V(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new V(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return G(this._lat,t._lat)||G(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^__.*__$/;class aV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,n,this.fieldTransforms):new na(t,this.data,n,this.fieldTransforms)}}class lS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ir(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function cS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Rc{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new Rc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Au:!1});return i.Ru(t),i}Vu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(t){return this.Eu({path:void 0,Au:!0})}fu(t){return sl(t,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ru(this.path.get(t))}Ru(t){if(t.length===0)throw this.fu("Document fields must not be empty");if(cS(this.Tu)&&oV.test(t))throw this.fu('Document fields cannot begin and end with "__"')}}class uV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ec(t)}yu(t,n,r,i=!1){return new Rc({Tu:t,methodName:n,pu:r,path:je.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hS(e){const t=e._freezeSettings(),n=Ec(e._databaseId);return new uV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lV(e,t,n,r,i,s={}){const o=e.yu(s.merge||s.mergeFields?2:0,t,n,i);ng("Data must be an object, but it was:",o,r);const a=fS(r,o);let u,l;if(s.merge)u=new Et(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Od(t,h,n);if(!o.contains(f))throw new V(A.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pS(c,f)||c.push(f)}u=new Et(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new aV(new ft(a),u,l)}class kc extends Cc{_toFieldTransform(t){if(t.Tu!==2)throw t.Tu===1?t.fu(`${this._methodName}() can only appear at the top level of your update data`):t.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kc}}function cV(e,t,n){return new Rc({Tu:3,pu:t.settings.pu,methodName:e._methodName,Au:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class hV extends Cc{constructor(t,n){super(t),this.wu=n}_toFieldTransform(t){const n=cV(this,t,!0),r=this.wu.map(s=>aa(s,n)),i=new es(r);return new uN(t.path,i)}isEqual(t){return this===t}}function fV(e,t,n,r){const i=e.yu(1,t,n);ng("Data must be an object, but it was:",i,r);const s=[],o=ft.empty();ui(r,(u,l)=>{const c=rg(t,u,n);l=Pt(l);const h=i.Vu(c);if(l instanceof kc)s.push(c);else{const f=aa(l,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Et(s);return new lS(o,a,i.fieldTransforms)}function dV(e,t,n,r,i,s){const o=e.yu(1,t,n),a=[Od(t,r,n)],u=[i];if(s.length%2!=0)throw new V(A.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Od(t,s[f])),u.push(s[f+1]);const l=[],c=ft.empty();for(let f=a.length-1;f>=0;--f)if(!pS(l,a[f])){const d=a[f];let g=u[f];g=Pt(g);const y=o.Vu(d);if(g instanceof kc)l.push(d);else{const _=aa(g,y);_!=null&&(l.push(d),c.set(d,_))}}const h=new Et(l);return new lS(c,h,o.fieldTransforms)}function aa(e,t){if(dS(e=Pt(e)))return ng("Unsupported field value:",t,e),fS(e,t);if(e instanceof Cc)return function(r,i){if(!cS(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&t.Tu!==4)throw t.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=aa(a,i.mu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ce.fromDate(r);return{timestampValue:nl(i.serializer,s)}}if(r instanceof Ce){const s=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nl(i.serializer,s)}}if(r instanceof tg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:MT(i.serializer,r._byteString)};if(r instanceof ut){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${eg(r)}`)}(e,t)}function fS(e,t){const n={};return cT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ui(e,(r,i)=>{const s=aa(i,t.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ce||e instanceof tg||e instanceof rs||e instanceof ut||e instanceof Cc)}function ng(e,t,n){if(!dS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=eg(n);throw r==="an object"?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function Od(e,t,n){if((t=Pt(t))instanceof Ac)return t._internalPath;if(typeof t=="string")return rg(e,t);throw sl("Field path arguments must be of type string or ",e,!1,void 0,n)}const pV=new RegExp("[~\\*/\\[\\]]");function rg(e,t,n){if(t.search(pV)>=0)throw sl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ac(...t.split("."))._internalPath}catch{throw sl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function sl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(A.INVALID_ARGUMENT,a+e+u)}function pS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mV extends mS{data(){return super.data()}}function gS(e,t){return typeof t=="string"?rg(e,t):t instanceof Ac?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new V(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gV{convertValue(t,n="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw $()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ui(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new tg(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Nm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const n=mr(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ce.fromString(t);ae(UT(r));const i=new bo(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vS extends mS{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ru extends vS{data(t={}){return super.data(t)}}class _S{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ru(this._firestore,this._userDataWriter,r.key,r,new Ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new ru(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new ru(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:vV(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(e){e=Lt(e,ut);const t=Lt(e.firestore,Zr);return eV(Pc(t),e._key).then(n=>ES(t,e,n))}class ig extends gV{constructor(t){super(),this.firestore=t}convertBytes(t){return new rs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function t$(e){e=Lt(e,oa);const t=Lt(e.firestore,Zr),n=Pc(t),r=new ig(t);return yS(e._query),tV(n,e._query).then(i=>new _S(t,r,e,i))}function n$(e,t,n){e=Lt(e,ut);const r=Lt(e.firestore,Zr),i=yV(e.converter,t,n);return wS(r,[lV(hS(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ln.none())])}function r$(e,t,n,...r){e=Lt(e,ut);const i=Lt(e.firestore,Zr),s=hS(i);let o;return o=typeof(t=Pt(t))=="string"||t instanceof Ac?dV(s,"updateDoc",e._key,t,n,r):fV(s,"updateDoc",e._key,t),wS(i,[o.toMutation(e._key,ln.exists(!0))])}function i$(e,...t){var n,r,i;e=Pt(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||w_(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(w_(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(e instanceof ut)l=Lt(e.firestore,Zr),c=mc(e._key.path),u={next:h=>{t[o]&&t[o](ES(l,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Lt(e,oa);l=Lt(h.firestore,Zr),c=h._query;const f=new ig(l);u={next:d=>{t[o]&&t[o](new _S(l,f,h,d))},error:t[o+1],complete:t[o+2]},yS(e._query)}return function(f,d,g,y){const _=new Zm(y),p=new Ym(d,_,g);return f.asyncQueue.enqueueAndForget(async()=>Qm(await il(f),p)),()=>{_.Ba(),f.asyncQueue.enqueueAndForget(async()=>Gm(await il(f),p))}}(Pc(l),c,a,u)}function wS(e,t){return function(r,i){const s=new Cn;return r.asyncQueue.enqueueAndForget(async()=>jb(await Zb(r),i,s)),s.promise}(Pc(e),t)}function ES(e,t,n){const r=n.docs.get(t._key),i=new ig(e);return new vS(e,i,t._key,r,new Ms(n.hasPendingWrites,n.fromCache),t.converter)}function s$(...e){return new hV("arrayUnion",e)}(function(t,n=!0){(function(i){ds=i})(Zw),bn(new hn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Zr(new SD(r.getProvider("auth-internal")),new CD(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mt(Uv,"4.3.0",t),Mt(Uv,"4.3.0","esm2017")})();const _V=(e,t)=>t.some(n=>e instanceof n);let E_,T_;function wV(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EV(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TS=new WeakMap,xd=new WeakMap,SS=new WeakMap,Mh=new WeakMap,sg=new WeakMap;function TV(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Rn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&TS.set(n,e)}).catch(()=>{}),sg.set(t,e),t}function SV(e){if(xd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});xd.set(e,t)}let Dd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function IV(e){Dd=e(Dd)}function PV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Lh(this),t,...n);return SS.set(r,t.sort?t.sort():[t]),Rn(r)}:EV().includes(e)?function(...t){return e.apply(Lh(this),t),Rn(TS.get(this))}:function(...t){return Rn(e.apply(Lh(this),t))}}function AV(e){return typeof e=="function"?PV(e):(e instanceof IDBTransaction&&SV(e),_V(e,wV())?new Proxy(e,Dd):e)}function Rn(e){if(e instanceof IDBRequest)return TV(e);if(Mh.has(e))return Mh.get(e);const t=AV(e);return t!==e&&(Mh.set(e,t),sg.set(t,e)),t}const Lh=e=>sg.get(e);function og(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Rn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rn(o.result),u.oldVersion,u.newVersion,Rn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function $h(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),Rn(n).then(()=>{})}const CV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],Fh=new Map;function S_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fh.get(t))return Fh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=RV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CV.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Fh.set(t,s),s}IV(e=>({...e,get:(t,n,r)=>S_(t,n)||e.get(t,n,r),has:(t,n)=>!!S_(t,n)||e.has(t,n)}));const IS="@firebase/installations",ag="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1e4,AS=`w:${ag}`,CS="FIS_v2",kV="https://firebaseinstallations.googleapis.com/v1",OV=60*60*1e3,xV="installations",DV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ei=new Xl(xV,DV,NV);function RS(e){return e instanceof Er&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS({projectId:e}){return`${kV}/projects/${e}/installations`}function OS(e){return{token:e.token,requestStatus:2,expiresIn:VV(e.expiresIn),creationTime:Date.now()}}async function xS(e,t){const r=(await t.json()).error;return ei.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function bV(e,{refreshToken:t}){const n=DS(e);return n.append("Authorization",MV(t)),n}async function NS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function VV(e){return Number(e.replace("s","000"))}function MV(e){return`${CS} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=kS(e),i=DS(e),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:CS,appId:e.appId,sdkVersion:AS},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await NS(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:OS(l.authToken)}}else throw await xS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=/^[cdef][\w-]{21}$/,Nd="";function jV(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=UV(e);return FV.test(n)?n:Nd}catch{return Nd}}function UV(e){return $V(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;function MS(e,t){const n=Oc(e);LS(n,t),BV(n,t)}function LS(e,t){const n=VS.get(e);if(n)for(const r of n)r(t)}function BV(e,t){const n=zV();n&&n.postMessage({key:e,fid:t}),qV()}let Fr=null;function zV(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=e=>{LS(e.data.key,e.data.fid)}),Fr}function qV(){VS.size===0&&Fr&&(Fr.close(),Fr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="firebase-installations-database",WV=1,ti="firebase-installations-store";let jh=null;function ug(){return jh||(jh=og(KV,WV,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ti)}}})),jh}async function ol(e,t){const n=Oc(e),i=(await ug()).transaction(ti,"readwrite"),s=i.objectStore(ti),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&MS(e,t.fid),t}async function $S(e){const t=Oc(e),r=(await ug()).transaction(ti,"readwrite");await r.objectStore(ti).delete(t),await r.done}async function xc(e,t){const n=Oc(e),i=(await ug()).transaction(ti,"readwrite"),s=i.objectStore(ti),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&MS(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(e){let t;const n=await xc(e.appConfig,r=>{const i=HV(r),s=QV(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Nd?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function HV(e){const t=e||{fid:jV(),registrationStatus:0};return FS(t)}function QV(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ei.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=GV(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:XV(e)}:{installationEntry:t}}async function GV(e,t){try{const n=await LV(e,t);return ol(e.appConfig,n)}catch(n){throw RS(n)&&n.customData.serverCode===409?await $S(e.appConfig):await ol(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function XV(e){let t=await I_(e.appConfig);for(;t.registrationStatus===1;)await bS(100),t=await I_(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await lg(e);return r||n}return t}function I_(e){return xc(e,t=>{if(!t)throw ei.create("installation-not-found");return FS(t)})}function FS(e){return YV(e)?{fid:e.fid,registrationStatus:0}:e}function YV(e){return e.registrationStatus===1&&e.registrationTime+PS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV({appConfig:e,heartbeatServiceProvider:t},n){const r=ZV(e,n),i=bV(e,n),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:AS,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await NS(()=>fetch(r,a));if(u.ok){const l=await u.json();return OS(l)}else throw await xS("Generate Auth Token",u)}function ZV(e,{fid:t}){return`${kS(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(e,t=!1){let n;const r=await xc(e.appConfig,s=>{if(!jS(s))throw ei.create("not-registered");const o=s.authToken;if(!t&&nM(o))return s;if(o.requestStatus===1)return n=eM(e,t),s;{if(!navigator.onLine)throw ei.create("app-offline");const a=iM(s);return n=tM(e,a),a}});return n?await n:r.authToken}async function eM(e,t){let n=await P_(e.appConfig);for(;n.authToken.requestStatus===1;)await bS(100),n=await P_(e.appConfig);const r=n.authToken;return r.requestStatus===0?cg(e,t):r}function P_(e){return xc(e,t=>{if(!jS(t))throw ei.create("not-registered");const n=t.authToken;return sM(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function tM(e,t){try{const n=await JV(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ol(e.appConfig,r),n}catch(n){if(RS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $S(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ol(e.appConfig,r)}throw n}}function jS(e){return e!==void 0&&e.registrationStatus===2}function nM(e){return e.requestStatus===2&&!rM(e)}function rM(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+OV}function iM(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function sM(e){return e.requestStatus===1&&e.requestTime+PS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(e){const t=e,{installationEntry:n,registrationPromise:r}=await lg(t);return r?r.catch(console.error):cg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(e,t=!1){const n=e;return await uM(n),(await cg(n,t)).token}async function uM(e){const{registrationPromise:t}=await lg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e){if(!e||!e.options)throw Uh("App Configuration");if(!e.name)throw Uh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Uh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Uh(e){return ei.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="installations",cM="installations-internal",hM=e=>{const t=e.getProvider("app").getImmediate(),n=lM(t),r=Ko(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fM=e=>{const t=e.getProvider("app").getImmediate(),n=Ko(t,US).getImmediate();return{getId:()=>oM(n),getToken:i=>aM(n,i)}};function dM(){bn(new hn(US,hM,"PUBLIC")),bn(new hn(cM,fM,"PRIVATE"))}dM();Mt(IS,ag);Mt(IS,ag,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="/firebase-messaging-sw.js",mM="/firebase-cloud-messaging-push-scope",BS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gM="https://fcmregistrations.googleapis.com/v1",zS="google.c.a.c_id",yM="google.c.a.c_l",vM="google.c.a.ts",_M="google.c.a.e";var A_;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(A_||(A_={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Lo;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Lo||(Lo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wM(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="fcm_token_details_db",EM=5,C_="fcm_token_object_Store";async function TM(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Bh))return null;let t=null;return(await og(Bh,EM,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(C_))return;const u=o.objectStore(C_),l=await u.index("fcmSenderId").get(e);if(await u.clear(),!!l){if(i===2){const c=l;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:wn(c.vapidKey)}}}else if(i===3){const c=l;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:wn(c.auth),p256dh:wn(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:wn(c.vapidKey)}}}else if(i===4){const c=l;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:wn(c.auth),p256dh:wn(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:wn(c.vapidKey)}}}}}})).close(),await $h(Bh),await $h("fcm_vapid_details_db"),await $h("undefined"),SM(t)?t:null}function SM(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebase-messaging-database",PM=1,ni="firebase-messaging-store";let zh=null;function hg(){return zh||(zh=og(IM,PM,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ni)}}})),zh}async function qS(e){const t=dg(e),r=await(await hg()).transaction(ni).objectStore(ni).get(t);if(r)return r;{const i=await TM(e.appConfig.senderId);if(i)return await fg(e,i),i}}async function fg(e,t){const n=dg(e),i=(await hg()).transaction(ni,"readwrite");return await i.objectStore(ni).put(t,n),await i.done,t}async function AM(e){const t=dg(e),r=(await hg()).transaction(ni,"readwrite");await r.objectStore(ni).delete(t),await r.done}function dg({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},tt=new Xl("messaging","Messaging",CM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(e,t){const n=await mg(e),r=WS(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(pg(e.appConfig),i)).json()}catch(o){throw tt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw tt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw tt.create("token-subscribe-no-token");return s.token}async function kM(e,t){const n=await mg(e),r=WS(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${pg(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw tt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw tt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw tt.create("token-update-no-token");return s.token}async function KS(e,t){const r={method:"DELETE",headers:await mg(e)};try{const s=await(await fetch(`${pg(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw tt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw tt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function pg({projectId:e}){return`${gM}/projects/${e}/registrations`}async function mg({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function WS({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==BS&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=7*24*60*60*1e3;async function xM(e){const t=await bM(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:wn(t.getKey("auth")),p256dh:wn(t.getKey("p256dh"))},r=await qS(e.firebaseDependencies);if(r){if(VM(r.subscriptionOptions,n))return Date.now()>=r.createTime+OM?NM(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await KS(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return R_(e.firebaseDependencies,n)}else return R_(e.firebaseDependencies,n)}async function DM(e){const t=await qS(e.firebaseDependencies);t&&(await KS(e.firebaseDependencies,t.token),await AM(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function NM(e,t){try{const n=await kM(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await fg(e.firebaseDependencies,r),n}catch(n){throw await DM(e),n}}async function R_(e,t){const r={token:await RM(e,t),createTime:Date.now(),subscriptionOptions:t};return await fg(e,r),r.token}async function bM(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wM(t)})}function VM(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return MM(t,e),LM(t,e),$M(t,e),t}function MM(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function LM(e,t){t.data&&(e.data=t.data)}function $M(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const a=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;a&&(e.fcmOptions.link=a);const u=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e){return typeof e=="object"&&!!e&&zS in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */HS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");HS("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function HS(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e){if(!e||!e.options)throw qh("App Configuration Object");if(!e.name)throw qh("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw qh(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function qh(e){return tt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=jM(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(e){try{e.swRegistration=await navigator.serviceWorker.register(pM,{scope:mM}),e.swRegistration.update().catch(()=>{})}catch(t){throw tt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(e,t){if(!t&&!e.swRegistration&&await BM(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw tt.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=BS)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(e,t){if(!navigator)throw tt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw tt.create("permission-blocked");return await qM(e,t==null?void 0:t.vapidKey),await zM(e,t==null?void 0:t.serviceWorkerRegistration),xM(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(e,t,n){const r=WM(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[zS],message_name:n[yM],message_time:n[vM],message_device_time:Math.floor(Date.now()/1e3)})}function WM(e){switch(e){case Lo.NOTIFICATION_CLICKED:return"notification_open";case Lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Lo.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(k_(n)):e.onMessageHandler.next(k_(n)));const r=n.data;FM(r)&&r[_M]==="1"&&await KM(e,n.messageType,r)}const O_="@firebase/messaging",x_="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=e=>{const t=new UM(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>HM(t,n)),t},GM=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>QS(t,r)}};function XM(){bn(new hn("messaging",QM,"PUBLIC")),bn(new hn("messaging-internal",GM,"PRIVATE")),Mt(O_,x_),Mt(O_,x_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(){try{await Gw()}catch{return!1}return typeof window<"u"&&Qw()&&k2()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e,t){if(!navigator)throw tt.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(e=am()){return YM().then(t=>{if(!t)throw tt.create("unsupported-browser")},t=>{throw tt.create("indexed-db-unsupported")}),Ko(Pt(e),"messaging").getImmediate()}async function eL(e,t){return e=Pt(e),QS(e,t)}function tL(e,t){return e=Pt(e),JM(e,t)}XM();const nL={apiKey:"AIzaSyBuXJPxFSJ76Cq0_bLZ2SPwWqyNbW9P9j0",authDomain:"bicycle-d13d7.firebaseapp.com",projectId:"bicycle-d13d7",storageBucket:"bicycle-d13d7.appspot.com",messagingSenderId:"177363978819",appId:"1:177363978819:web:a16e333e7d7b482ac4a2f6",measurementId:"G-4BKRDZB7YB"},gg=eE(nL);hx(gg);const o$=sV(gg),GS=ZM(gg),rL=async()=>{try{const e=await eL(GS,{vapidKey:"BGm1fmGzfJ1XJY6yTFW98LsuEwQHD5dVRX9XPtSnPvRtDZhaaIbXA_k51tH1ABMOmdENshgXWXUqxJf-DXECvKE"});if(console.log(e),!e)throw new Error("Token not found!");window.localStorage.setItem("deviceToken",e)}catch(e){console.error(e)}},iL=async()=>{await Notification.requestPermission()==="granted"?(console.log("Notification permission granted!"),await rL()):console.log("Have not permission!")};function sL(){tL(GS,e=>console.log(e))}function XS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=XS(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Xn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=XS(e))&&(r&&(r+=" "),r+=t);return r}const Js=e=>typeof e=="number"&&!isNaN(e),ri=e=>typeof e=="string",pt=e=>typeof e=="function",iu=e=>ri(e)||pt(e)?e:null,Kh=e=>S.isValidElement(e)||ri(e)||pt(e)||Js(e);function oL(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Dc(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:u,preventExitTransition:l,done:c,nodeRef:h,isIn:f}=o;const d=r?`${t}--${u}`:t,g=r?`${n}--${u}`:n,y=S.useRef(0);return S.useLayoutEffect(()=>{const _=h.current,p=d.split(" "),m=v=>{v.target===h.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",m),_.removeEventListener("animationcancel",m),y.current===0&&v.type!=="animationcancel"&&_.classList.remove(...p))};_.classList.add(...p),_.addEventListener("animationend",m),_.addEventListener("animationcancel",m)},[]),S.useEffect(()=>{const _=h.current,p=()=>{_.removeEventListener("animationend",p),i?oL(_,c,s):c()};f||(l?p():(y.current=1,_.className+=` ${g}`,_.addEventListener("animationend",p)))},[f]),Q.createElement(Q.Fragment,null,a)}}function D_(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ot={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},La=e=>{let{theme:t,type:n,...r}=e;return Q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Wh={info:function(e){return Q.createElement(La,{...e},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Q.createElement(La,{...e},Q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Q.createElement(La,{...e},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Q.createElement(La,{...e},Q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Q.createElement("div",{className:"Toastify__spinner"})}};function aL(e){const[,t]=S.useReducer(d=>d+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=d=>n.indexOf(d)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:d=>s.get(d)}).current;function u(d){let{containerId:g}=d;const{limit:y}=a.props;!y||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function l(d){r(g=>d==null?[]:g.filter(y=>y!==d))}function c(){const{toastContent:d,toastProps:g,staleId:y}=a.queue.shift();f(d,g,y)}function h(d,g){let{delay:y,staleId:_,...p}=g;if(!Kh(d)||function(Se){return!i.current||a.props.enableMultiContainer&&Se.containerId!==a.props.containerId||s.has(Se.toastId)&&Se.updateId==null}(p))return;const{toastId:m,updateId:v,data:w}=p,{props:E}=a,T=()=>l(m),I=v==null;I&&a.count++;const P={...E,style:E.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(p).filter(Se=>{let[Ve,Ke]=Se;return Ke!=null})),toastId:m,updateId:v,data:w,closeToast:T,isIn:!1,className:iu(p.className||E.toastClassName),bodyClassName:iu(p.bodyClassName||E.bodyClassName),progressClassName:iu(p.progressClassName||E.progressClassName),autoClose:!p.isLoading&&(b=p.autoClose,D=E.autoClose,b===!1||Js(b)&&b>0?b:D),deleteToast(){const Se=D_(s.get(m),"removed");s.delete(m),Ot.emit(4,Se);const Ve=a.queue.length;if(a.count=m==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),Ve>0){const Ke=m==null?a.props.limit:1;if(Ve===1||Ke===1)a.displayedToast++,c();else{const yn=Ke>Ve?Ve:Ke;a.displayedToast=yn;for(let Me=0;Me<yn;Me++)c()}}else t()}};var b,D;P.iconOut=function(Se){let{theme:Ve,type:Ke,isLoading:yn,icon:Me}=Se,vt=null;const O={theme:Ve,type:Ke};return Me===!1||(pt(Me)?vt=Me(O):S.isValidElement(Me)?vt=S.cloneElement(Me,O):ri(Me)||Js(Me)?vt=Me:yn?vt=Wh.spinner():(L=>L in Wh)(Ke)&&(vt=Wh[Ke](O))),vt}(P),pt(p.onOpen)&&(P.onOpen=p.onOpen),pt(p.onClose)&&(P.onClose=p.onClose),P.closeButton=E.closeButton,p.closeButton===!1||Kh(p.closeButton)?P.closeButton=p.closeButton:p.closeButton===!0&&(P.closeButton=!Kh(E.closeButton)||E.closeButton);let X=d;S.isValidElement(d)&&!ri(d.type)?X=S.cloneElement(d,{closeToast:T,toastProps:P,data:w}):pt(d)&&(X=d({closeToast:T,toastProps:P,data:w})),E.limit&&E.limit>0&&a.count>E.limit&&I?a.queue.push({toastContent:X,toastProps:P,staleId:_}):Js(y)?setTimeout(()=>{f(X,P,_)},y):f(X,P,_)}function f(d,g,y){const{toastId:_}=g;y&&s.delete(y);const p={content:d,props:g};s.set(_,p),r(m=>[...m,_].filter(v=>v!==y)),Ot.emit(4,D_(p,p.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=e.containerId,Ot.cancelEmit(3).on(0,h).on(1,d=>i.current&&l(d)).on(5,u).emit(2,a),()=>{s.clear(),Ot.emit(3,a)}),[]),S.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(d){const g=new Map,y=Array.from(s.values());return e.newestOnTop&&y.reverse(),y.forEach(_=>{const{position:p}=_.props;g.has(p)||g.set(p,[]),g.get(p).push(_)}),Array.from(g,_=>d(_[0],_[1]))},containerRef:i,isToastActive:o}}function N_(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function b_(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function uL(e){const[t,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(e),{autoClose:u,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:f}=e;function d(w){if(e.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),document.addEventListener("touchmove",p),document.addEventListener("touchend",m);const E=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=E.getBoundingClientRect(),E.style.transition="",o.x=N_(w.nativeEvent),o.y=b_(w.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=E.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=E.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(w){if(o.boundingRect){const{top:E,bottom:T,left:I,right:P}=o.boundingRect;w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=I&&o.x<=P&&o.y>=E&&o.y<=T?_():y()}}function y(){n(!0)}function _(){n(!1)}function p(w){const E=s.current;o.canDrag&&E&&(o.didMove=!0,t&&_(),o.x=N_(w),o.y=b_(w),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),E.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function m(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",m);const w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${e.draggableDirection}(0)`,w.style.opacity="1"}}S.useEffect(()=>{a.current=e}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),pt(e.onOpen)&&e.onOpen(S.isValidElement(e.children)&&e.children.props),()=>{const w=a.current;pt(w.onClose)&&w.onClose(S.isValidElement(w.children)&&w.children.props)}),[]),S.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",y),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",_))}),[e.pauseOnFocusLoss]);const v={onMouseDown:d,onTouchStart:d,onMouseUp:g,onTouchEnd:g};return u&&l&&(v.onMouseEnter=_,v.onMouseLeave=y),f&&(v.onClick=w=>{h&&h(w),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:v}}function YS(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function lL(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:u,progress:l,rtl:c,isIn:h,theme:f}=e;const d=s||u&&l===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};u&&(g.transform=`scaleX(${l})`);const y=Xn("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),_=pt(o)?o({rtl:c,type:i,defaultClassName:y}):Xn(y,o);return Q.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:_,style:g,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{h&&r()}})}const cL=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=uL(e),{closeButton:s,children:o,autoClose:a,onClick:u,type:l,hideProgressBar:c,closeToast:h,transition:f,position:d,className:g,style:y,bodyClassName:_,bodyStyle:p,progressClassName:m,progressStyle:v,updateId:w,role:E,progress:T,rtl:I,toastId:P,deleteToast:b,isIn:D,isLoading:X,iconOut:Se,closeOnClick:Ve,theme:Ke}=e,yn=Xn("Toastify__toast",`Toastify__toast-theme--${Ke}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":Ve}),Me=pt(g)?g({rtl:I,position:d,type:l,defaultClassName:yn}):Xn(yn,g),vt=!!T||!a,O={closeToast:h,type:l,theme:Ke};let L=null;return s===!1||(L=pt(s)?s(O):S.isValidElement(s)?S.cloneElement(s,O):YS(O)),Q.createElement(f,{isIn:D,done:b,position:d,preventExitTransition:n,nodeRef:r},Q.createElement("div",{id:P,onClick:u,className:Me,...i,style:y,ref:r},Q.createElement("div",{...D&&{role:E},className:pt(_)?_({type:l}):Xn("Toastify__toast-body",_),style:p},Se!=null&&Q.createElement("div",{className:Xn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!X})},Se),Q.createElement("div",null,o)),L,Q.createElement(lL,{...w&&!vt?{key:`pb-${w}`}:{},rtl:I,theme:Ke,delay:a,isRunning:t,isIn:D,closeToast:h,hide:c,type:l,style:v,className:m,controlledProgress:vt,progress:T||0})))},Nc=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},hL=Dc(Nc("bounce",!0));Dc(Nc("slide",!0));Dc(Nc("zoom"));Dc(Nc("flip"));const bd=S.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=aL(e),{className:s,style:o,rtl:a,containerId:u}=e;function l(c){const h=Xn("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return pt(s)?s({position:c,rtl:a,defaultClassName:h}):Xn(h,iu(s))}return S.useEffect(()=>{t&&(t.current=r.current)},[]),Q.createElement("div",{ref:r,className:"Toastify",id:u},n((c,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return Q.createElement("div",{className:l(c),style:f,key:`container-${c}`},h.map((d,g)=>{let{content:y,props:_}=d;return Q.createElement(cL,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":g+1,"--len":h.length},key:`toast-${_.key}`},y)}))}))});bd.displayName="ToastContainer",bd.defaultProps={position:"top-right",transition:hL,autoClose:5e3,closeButton:YS,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Hh,xr=new Map,Ls=[],fL=1;function JS(){return""+fL++}function dL(e){return e&&(ri(e.toastId)||Js(e.toastId))?e.toastId:JS()}function Zs(e,t){return xr.size>0?Ot.emit(0,e,t):Ls.push({content:e,options:t}),t.toastId}function al(e,t){return{...t,type:t&&t.type||e,toastId:dL(t)}}function $a(e){return(t,n)=>Zs(t,al(e,n))}function ne(e,t){return Zs(e,al("default",t))}ne.loading=(e,t)=>Zs(e,al("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ne.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=ri(i)?ne.loading(i,n):ne.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(c,h,f)=>{if(h==null)return void ne.dismiss(r);const d={type:c,...a,...n,data:f},g=ri(h)?{render:h}:h;return r?ne.update(r,{...d,...g}):ne(g.render,{...d,...g}),f},l=pt(e)?e():e;return l.then(c=>u("success",o,c)).catch(c=>u("error",s,c)),l},ne.success=$a("success"),ne.info=$a("info"),ne.error=$a("error"),ne.warning=$a("warning"),ne.warn=ne.warning,ne.dark=(e,t)=>Zs(e,al("default",{theme:"dark",...t})),ne.dismiss=e=>{xr.size>0?Ot.emit(1,e):Ls=Ls.filter(t=>e!=null&&t.options.toastId!==e)},ne.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ot.emit(5,e)},ne.isActive=e=>{let t=!1;return xr.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},ne.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=xr.get(s||Hh);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:JS()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Zs(o,s)}},0)},ne.done=e=>{ne.update(e,{progress:1})},ne.onChange=e=>(Ot.on(4,e),()=>{Ot.off(4,e)}),ne.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ne.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ot.on(2,e=>{Hh=e.containerId||e,xr.set(Hh,e),Ls.forEach(t=>{Ot.emit(0,t.content,t.options)}),Ls=[]}).on(3,e=>{xr.delete(e.containerId||e),xr.size===0&&Ot.off(0).off(1).off(5)});var Ri=(e=>(e.info="info",e.success="success",e.error="error",e.warning="warning",e))(Ri||{});const pL=new BroadcastChannel("notifications"),a$=e=>Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),u$=e=>{let t=Math.floor(e/31536e3);return t>1?t+" năm trước":(t=Math.floor(e/2592e3),t>1?t+" tháng trước":(t=Math.floor(e/86400),t>1?t+" ngày trước":(t=Math.floor(e/3600),t>1?t+" giờ trước":(t=Math.floor(e/60),t>1?t+" phút trước":e<10?"Vừa mới truy cập":Math.floor(e)+" giây trước"))))},mL=(e,t,n,r)=>{if(e===Ri.info)return ne.info(t,{toastId:n,position:r});if(e===Ri.success)return ne.success(t,{toastId:n,position:r});if(e===Ri.warning)return ne.warning(t,{toastId:n,position:r});if(e===Ri.error)return ne.error(t,{toastId:n,position:r})},l$=e=>window.localStorage.getItem(e),c$=(e,t)=>window.localStorage.setItem(e,t),h$=async(e,t)=>{try{const r=await(await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",...t}})).json(),{success:i,data:s,message:o}=r;if(!i)throw new Error(o);return{success:i,data:s,message:o}}catch(n){return{success:!1,message:n.message}}},f$=async(e,t,n)=>{try{const i=await(await fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/json",...n}})).json(),{success:s,data:o,message:a}=i;if(!s)throw new Error(a);return{success:s,data:o,message:a}}catch(r){return{success:!1,message:r.message}}},d$=async(e,t,n)=>{try{const i=await(await fetch(e,{method:"POST",body:t,headers:{...n}})).json(),{success:s,data:o,message:a}=i;if(!s)throw new Error(a);return{success:s,data:o,message:a}}catch(r){return{success:!1,message:r.message}}},p$=async(e,t,n)=>{try{const i=await(await fetch(e,{method:"PUT",body:t,headers:{"Content-Type":"application/json",...n}})).json(),{success:s,data:o,message:a}=i;if(!s)throw new Error(a);return{success:s,data:o,message:a}}catch(r){return{success:!1,message:r.message}}},m$=async(e,t,n)=>{try{const i=await(await fetch(e,{method:"PUT",body:t,headers:{...n}})).json(),{success:s,data:o,message:a}=i;if(!s)throw new Error(a);return{success:s,data:o,message:a}}catch(r){return{success:!1,message:r.message}}},g$=async(e,t,n)=>{try{const i=await(await fetch(e,{method:"DELETE",body:t,headers:{"Content-Type":"application/json",...n}})).json(),{success:s,data:o,message:a}=i;if(!s)throw new Error(a);return{success:s,data:o,message:a}}catch(r){return{success:!1,message:r.message}}},gL=({title:e,body:t})=>ee.jsxs("div",{className:"flex flex-col gap-2",children:[ee.jsx("h3",{className:"text-meta-1 text-md font-bold",children:e}),ee.jsx("p",{className:"text-xs font-thin",children:t})]}),yL=()=>{Q.useEffect(()=>{iL(),sL(),pL.addEventListener("message",e=>{console.log("Receive background from FB worker: ",e),mL(Ri.info,ee.jsx(gL,{title:e.data.notification.title,body:e.data.notification.body}),`${new Date().getTime()}`)})},[])};const vL=Q.lazy(()=>Iw(()=>import("./Login-6c808c13.js"),["assets/Login-6c808c13.js","assets/config.util-39b1524b.js","assets/index.esm-282022fa.js","assets/user.query-522d0690.js","assets/base-e8aaf39e.js"])),_L=Q.lazy(()=>Iw(()=>import("./Layout-10819c34.js").then(e=>e.L),["assets/Layout-10819c34.js","assets/config.util-39b1524b.js"])),wL=new g2({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),EL=()=>(yL(),ee.jsxs(ee.Fragment,{children:[ee.jsx(Wk,{children:ee.jsx(y2,{client:wL,children:ee.jsxs($k,{children:[ee.jsx(Za,{path:"/auth/login",element:ee.jsx(Q.Suspense,{fallback:ee.jsx(vh,{}),children:ee.jsx(vL,{})})}),ee.jsx(Za,{element:ee.jsx(Q.Suspense,{fallback:ee.jsx(vh,{}),children:ee.jsx(v2,{})}),children:ee.jsx(Za,{path:"*",element:ee.jsx(Q.Suspense,{fallback:ee.jsx(vh,{}),children:ee.jsx(_L,{})})})})]})})}),ee.jsx(bd,{position:"top-right",pauseOnFocusLoss:!1,pauseOnHover:!1,autoClose:2e3})]}));Qh.createRoot(document.getElementById("root")).render(ee.jsx(dC,{store:Sw,children:ee.jsx(EL,{})}));export{ZL as $,yh as A,st as B,f2 as C,bA as D,Ri as E,S as F,QL as G,Ca as H,qL as I,V_ as J,a$ as K,vh as L,FL as M,jL as N,kL as O,xL as P,OL as Q,Q as R,Gl as S,BL as T,zL as U,d$ as V,m$ as W,SL as X,UL as Y,JL as Z,Iw as _,tm as a,PL as a0,RL as a1,o$ as a2,r$ as a3,s$ as a4,n$ as a5,t$ as a6,AL as a7,i$ as a8,e$ as a9,CL as aa,u$ as ab,wo as ac,RC as ad,kC as ae,kp as af,IL as ag,DL as ah,g$ as ai,mI as aj,TL as ak,WR as b,$L as c,zo as d,c$ as e,f$ as f,l$ as g,h$ as h,p$ as i,ee as j,pL as k,ML as l,Gk as m,mL as n,$k as o,Za as p,KL as q,zt as r,LL as s,nm as t,wr as u,e2 as v,t2 as w,ed as x,im as y,r2 as z};
