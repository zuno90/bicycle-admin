import{i as nc,g as yo,k as sc,R as k,_ as re,j as m,u as ic,N as Oe,m as oc,o as ac,n as Ot,E as kt,f as Kt,L as en,b as cc,c as uc,d as lc,l as dc,s as fc,p as mo,q as Se,t as hc,v as ns}from"./index-859cc947.js";import{c as Tt,q as pc,u as gc,a as bo,b as yc}from"./base-ed5cf6ca.js";const mc=async e=>await nc(`${Tt.endpoint}/notification/${e}`,JSON.stringify({}),{Authorization:`Bearer ${yo(Tt.cache.accessToken)}`}),bc=async(e,t)=>{const r=pc.stringify({page:e,limit:t}),n=await sc(`${Tt.endpoint}/notifications?${r}`,{Authorization:`Bearer ${yo(Tt.cache.accessToken)}`});if(n.success)return n.data.notifications},wc=k.lazy(()=>re(()=>import("./Order-e033f87a.js"),["assets/Order-e033f87a.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/base-ed5cf6ca.js"])),Ac=k.lazy(()=>re(()=>import("./OrderDetail-7b349470.js"),["assets/OrderDetail-7b349470.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/order.type-e78449c3.js","assets/order.query-562850b5.js","assets/base-ed5cf6ca.js","assets/Modal-5dc16f11.js"])),xc=k.lazy(()=>re(()=>import("./OrderInvoice-28569b08.js"),["assets/OrderInvoice-28569b08.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/order.query-562850b5.js","assets/base-ed5cf6ca.js"])),vc=k.lazy(()=>re(()=>import("./Transaction-7eb175b0.js"),["assets/Transaction-7eb175b0.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),_c=k.lazy(()=>re(()=>import("./TransactionDetail-8f133259.js"),["assets/TransactionDetail-8f133259.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Ec=k.lazy(()=>re(()=>import("./Category-4f6c7e71.js"),["assets/Category-4f6c7e71.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Sc=k.lazy(()=>re(()=>import("./CategoryDetail-31db894e.js"),["assets/CategoryDetail-31db894e.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Cc=k.lazy(()=>re(()=>import("./Product-7708e818.js"),["assets/Product-7708e818.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Rc=k.lazy(()=>re(()=>import("./ProductDetail-c962af50.js"),["assets/ProductDetail-c962af50.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/TinyMce-76657f50.js","assets/base-ed5cf6ca.js","assets/index-e6550a26.js","assets/index.esm-7f12ac0b.js","assets/category.query-3095c6b2.js","assets/product.query-f0dd507f.js","assets/product.mutation-ccc86ef1.js"])),Bc=k.lazy(()=>re(()=>import("./CreateProduct-e7c729e4.js"),["assets/CreateProduct-e7c729e4.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/TinyMce-76657f50.js","assets/base-ed5cf6ca.js","assets/index-e6550a26.js","assets/index.esm-7f12ac0b.js","assets/category.query-3095c6b2.js","assets/product.mutation-ccc86ef1.js"])),Oc=k.lazy(()=>re(()=>import("./Voucher-f9f703f5.js"),["assets/Voucher-f9f703f5.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),kc=k.lazy(()=>re(()=>import("./CreateVoucher-f220f701.js"),["assets/CreateVoucher-f220f701.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/index.esm-7f12ac0b.js","assets/voucher.mutation-ae08ea10.js","assets/base-ed5cf6ca.js"])),Tc=k.lazy(()=>re(()=>import("./Chat-1a5948e8.js"),["assets/Chat-1a5948e8.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/index-e6550a26.js","assets/user-d57577eb.js","assets/user.query-fc2df075.js","assets/base-ed5cf6ca.js","assets/Chat-c2cbbdf6.css"])),Pc=k.lazy(()=>re(()=>import("./User-d99d4839.js"),["assets/User-d99d4839.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Mc=k.lazy(()=>re(()=>import("./UserDetail-32837dbe.js"),["assets/UserDetail-32837dbe.js","assets/index-859cc947.js","assets/index-ead94c81.css","assets/user.query-fc2df075.js","assets/base-ed5cf6ca.js","assets/user-d57577eb.js"])),Nc=k.lazy(()=>re(()=>import("./Test-b2ec6d79.js"),["assets/Test-b2ec6d79.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Ic=[{path:"",index:!0,title:"Trang chủ",element:wc},{path:"/order/:id",title:"Chi tiết đơn hàng",element:Ac},{path:"/order/invoice/:id",title:"Chi tiết đơn hàng",element:xc},{path:"/transaction",title:"Giao dịch",element:vc},{path:"/transaction/:id",title:"Chi tiết giao dịch",element:_c},{path:"/category",title:"Danh mục",element:Ec},{path:"/category/:id",title:"Chi tiết danh mục",element:Sc},{path:"/product",title:"Sản phẩm",element:Cc},{path:"/product/:id",title:"Cập nhật sản phẩm",element:Rc},{path:"/product/create",title:"Thêm Sản phẩm",element:Bc},{path:"/voucher",title:"Khuyến mãi",element:Oc},{path:"/voucher/create",title:"Tạo mã khuyến mãi",element:kc},{path:"/chat",title:"Chat",element:Tc},{path:"/user",title:"Quản lý người dùng",element:Pc},{path:"/user/:id",title:"Thông tin người dùng",element:Mc},{path:"/test",title:"Test page",element:Nc}],Fc=[...Ic],Dc="/assets/logo-162ee3ec.svg",$c=({children:e,activeCondition:t})=>{const[r,n]=k.useState(t),i=()=>n(!r);return m.jsx("li",{children:e(i,r)})},jc=({sidebarOpen:e,setSidebarOpen:t})=>{const r=ic(),{pathname:n}=r,i=k.useRef(null),s=k.useRef(null),o=localStorage.getItem("sidebar-expanded"),[a]=k.useState(o===null?!1:o==="true");return k.useEffect(()=>{const u=({target:c})=>{!s.current||!i.current||!e||s.current.contains(c)||i.current.contains(c)||t(!1)};return document.addEventListener("click",u),()=>document.removeEventListener("click",u)}),k.useEffect(()=>{const u=({keyCode:c})=>{!e||c!==27||t(!1)};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)}),k.useEffect(()=>{var u,c;localStorage.setItem("sidebar-expanded",a.toString()),a?(u=document.querySelector("body"))==null||u.classList.add("sidebar-expanded"):(c=document.querySelector("body"))==null||c.classList.remove("sidebar-expanded")},[a]),m.jsxs("aside",{ref:s,className:`absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden bg-black duration-300 ease-linear dark:bg-boxdark lg:static lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 px-6 py-5.5 lg:py-6.5",children:[m.jsx(Oe,{to:"/",children:m.jsx("img",{src:Dc,alt:"Logo"})}),m.jsx("button",{ref:i,onClick:()=>t(!e),"aria-controls":"sidebar","aria-expanded":e,className:"block lg:hidden",children:m.jsx("svg",{className:"fill-current",width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M19 8.175H2.98748L9.36248 1.6875C9.69998 1.35 9.69998 0.825 9.36248 0.4875C9.02498 0.15 8.49998 0.15 8.16248 0.4875L0.399976 8.3625C0.0624756 8.7 0.0624756 9.225 0.399976 9.5625L8.16248 17.4375C8.31248 17.5875 8.53748 17.7 8.76248 17.7C8.98748 17.7 9.17498 17.625 9.36248 17.475C9.69998 17.1375 9.69998 16.6125 9.36248 16.275L3.02498 9.8625H19C19.45 9.8625 19.825 9.4875 19.825 9.0375C19.825 8.55 19.45 8.175 19 8.175Z",fill:""})})})]}),m.jsx("div",{className:"no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear",children:m.jsx("nav",{className:"mt-5 py-4 px-4 lg:mt-9 lg:px-6",children:m.jsxs("ul",{className:"mb-6 flex flex-col gap-4",children:[m.jsx($c,{activeCondition:n==="/",children:()=>m.jsxs(Oe,{to:"/",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${n==="/"&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsxs("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M6.10322 0.956299H2.53135C1.5751 0.956299 0.787598 1.7438 0.787598 2.70005V6.27192C0.787598 7.22817 1.5751 8.01567 2.53135 8.01567H6.10322C7.05947 8.01567 7.84697 7.22817 7.84697 6.27192V2.72817C7.8751 1.7438 7.0876 0.956299 6.10322 0.956299ZM6.60947 6.30005C6.60947 6.5813 6.38447 6.8063 6.10322 6.8063H2.53135C2.2501 6.8063 2.0251 6.5813 2.0251 6.30005V2.72817C2.0251 2.44692 2.2501 2.22192 2.53135 2.22192H6.10322C6.38447 2.22192 6.60947 2.44692 6.60947 2.72817V6.30005Z",fill:""}),m.jsx("path",{d:"M15.4689 0.956299H11.8971C10.9408 0.956299 10.1533 1.7438 10.1533 2.70005V6.27192C10.1533 7.22817 10.9408 8.01567 11.8971 8.01567H15.4689C16.4252 8.01567 17.2127 7.22817 17.2127 6.27192V2.72817C17.2127 1.7438 16.4252 0.956299 15.4689 0.956299ZM15.9752 6.30005C15.9752 6.5813 15.7502 6.8063 15.4689 6.8063H11.8971C11.6158 6.8063 11.3908 6.5813 11.3908 6.30005V2.72817C11.3908 2.44692 11.6158 2.22192 11.8971 2.22192H15.4689C15.7502 2.22192 15.9752 2.44692 15.9752 2.72817V6.30005Z",fill:""}),m.jsx("path",{d:"M6.10322 9.92822H2.53135C1.5751 9.92822 0.787598 10.7157 0.787598 11.672V15.2438C0.787598 16.2001 1.5751 16.9876 2.53135 16.9876H6.10322C7.05947 16.9876 7.84697 16.2001 7.84697 15.2438V11.7001C7.8751 10.7157 7.0876 9.92822 6.10322 9.92822ZM6.60947 15.272C6.60947 15.5532 6.38447 15.7782 6.10322 15.7782H2.53135C2.2501 15.7782 2.0251 15.5532 2.0251 15.272V11.7001C2.0251 11.4188 2.2501 11.1938 2.53135 11.1938H6.10322C6.38447 11.1938 6.60947 11.4188 6.60947 11.7001V15.272Z",fill:""}),m.jsx("path",{d:"M15.4689 9.92822H11.8971C10.9408 9.92822 10.1533 10.7157 10.1533 11.672V15.2438C10.1533 16.2001 10.9408 16.9876 11.8971 16.9876H15.4689C16.4252 16.9876 17.2127 16.2001 17.2127 15.2438V11.7001C17.2127 10.7157 16.4252 9.92822 15.4689 9.92822ZM15.9752 15.272C15.9752 15.5532 15.7502 15.7782 15.4689 15.7782H11.8971C11.6158 15.7782 11.3908 15.5532 11.3908 15.272V11.7001C11.3908 11.4188 11.6158 11.1938 11.8971 11.1938H15.4689C15.7502 11.1938 15.9752 11.4188 15.9752 11.7001V15.272Z",fill:""})]}),"Trang chủ"]})}),m.jsx("li",{children:m.jsxs(Oe,{to:"/transaction",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${(n==="/transaction"||n.includes("/transaction"))&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsx("svg",{className:"fill-current",width:18,height:18,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:m.jsx("path",{d:"M11 8C11 10.21 9.21 12 7 12C4.79 12 3 10.21 3 8C3 5.79 4.79 4 7 4C9.21 4 11 5.79 11 8M11 14.72V20H0V18C0 15.79 3.13 14 7 14C8.5 14 9.87 14.27 11 14.72M24 20H13V3H24V20M16 11.5C16 10.12 17.12 9 18.5 9C19.88 9 21 10.12 21 11.5C21 12.88 19.88 14 18.5 14C17.12 14 16 12.88 16 11.5M22 7C20.9 7 20 6.11 20 5H17C17 6.11 16.11 7 15 7V16C16.11 16 17 16.9 17 18H20C20 16.9 20.9 16 22 16V7Z"})}),"Giao dịch"]})}),m.jsx("li",{children:m.jsxs(Oe,{to:"/category",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${(n==="/category"||n.includes("/category"))&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M15.7499 2.9812H14.2874V2.36245C14.2874 2.02495 14.0062 1.71558 13.6405 1.71558C13.2749 1.71558 12.9937 1.99683 12.9937 2.36245V2.9812H4.97803V2.36245C4.97803 2.02495 4.69678 1.71558 4.33115 1.71558C3.96553 1.71558 3.68428 1.99683 3.68428 2.36245V2.9812H2.2499C1.29365 2.9812 0.478027 3.7687 0.478027 4.75308V14.5406C0.478027 15.4968 1.26553 16.3125 2.2499 16.3125H15.7499C16.7062 16.3125 17.5218 15.525 17.5218 14.5406V4.72495C17.5218 3.7687 16.7062 2.9812 15.7499 2.9812ZM1.77178 8.21245H4.1624V10.9968H1.77178V8.21245ZM5.42803 8.21245H8.38115V10.9968H5.42803V8.21245ZM8.38115 12.2625V15.0187H5.42803V12.2625H8.38115ZM9.64678 12.2625H12.5999V15.0187H9.64678V12.2625ZM9.64678 10.9968V8.21245H12.5999V10.9968H9.64678ZM13.8374 8.21245H16.228V10.9968H13.8374V8.21245ZM2.2499 4.24683H3.7124V4.83745C3.7124 5.17495 3.99365 5.48433 4.35928 5.48433C4.7249 5.48433 5.00615 5.20308 5.00615 4.83745V4.24683H13.0499V4.83745C13.0499 5.17495 13.3312 5.48433 13.6968 5.48433C14.0624 5.48433 14.3437 5.20308 14.3437 4.83745V4.24683H15.7499C16.0312 4.24683 16.2562 4.47183 16.2562 4.75308V6.94683H1.77178V4.75308C1.77178 4.47183 1.96865 4.24683 2.2499 4.24683ZM1.77178 14.5125V12.2343H4.1624V14.9906H2.2499C1.96865 15.0187 1.77178 14.7937 1.77178 14.5125ZM15.7499 15.0187H13.8374V12.2625H16.228V14.5406C16.2562 14.7937 16.0312 15.0187 15.7499 15.0187Z",fill:""})}),"Danh mục"]})}),m.jsx("li",{children:m.jsxs(Oe,{to:"/product",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${(n==="/product"||n.includes("/product"))&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsx("svg",{className:"fill-current",width:18,height:18,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M19 10C18.44 10 17.91 10.11 17.41 10.28L14.46 4.5H11V6H13.54L14.42 7.72L12 13.13L10.23 8.95C10.5 8.85 10.74 8.58 10.74 8.25C10.74 7.84 10.41 7.5 10 7.5H8C7.58 7.5 7.24 7.84 7.24 8.25S7.58 9 8 9H8.61L10.86 14.25H9.92C9.56 11.85 7.5 10 5 10C2.24 10 0 12.24 0 15S2.24 20 5 20C7.5 20 9.56 18.15 9.92 15.75H12.5L15.29 9.43L16.08 10.96C14.82 11.87 14 13.34 14 15C14 17.76 16.24 20 19 20S24 17.76 24 15 21.76 10 19 10M5 18.5C3.07 18.5 1.5 16.93 1.5 15S3.07 11.5 5 11.5C6.67 11.5 8.07 12.68 8.41 14.25H4V15.75H8.41C8.07 17.32 6.67 18.5 5 18.5M19 18.5C17.07 18.5 15.5 16.93 15.5 15C15.5 13.92 16 12.97 16.77 12.33L18.57 15.85L19.89 15.13L18.1 11.63C18.39 11.56 18.69 11.5 19 11.5C20.93 11.5 22.5 13.07 22.5 15S20.93 18.5 19 18.5Z"})}),"Sản phẩm"]})}),m.jsx("li",{children:m.jsxs(Oe,{to:"/voucher",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${(n==="/voucher"||n.includes("/voucher"))&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M14.8 8L16 9.2L9.2 16L8 14.8L14.8 8M4 4H20C21.11 4 22 4.89 22 6V10C20.9 10 20 10.9 20 12C20 13.11 20.9 14 22 14V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14C3.11 14 4 13.11 4 12C4 10.9 3.11 10 2 10V6C2 4.89 2.9 4 4 4M4 6V8.54C5.24 9.26 6 10.57 6 12C6 13.43 5.24 14.75 4 15.46V18H20V15.46C18.76 14.75 18 13.43 18 12C18 10.57 18.76 9.26 20 8.54V6H4M9.5 8C10.33 8 11 8.67 11 9.5C11 10.33 10.33 11 9.5 11C8.67 11 8 10.33 8 9.5C8 8.67 8.67 8 9.5 8M14.5 13C15.33 13 16 13.67 16 14.5C16 15.33 15.33 16 14.5 16C13.67 16 13 15.33 13 14.5C13 13.67 13.67 13 14.5 13Z"})}),"Khuyến mãi"]})}),m.jsx("li",{children:m.jsxs(Oe,{to:"/chat",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${(n==="/chat"||n.includes("/chat"))&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsxs("svg",{className:"fill-current",width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[m.jsx("title",{children:"chat-outline"}),m.jsx("path",{d:"M12,3C6.5,3 2,6.58 2,11C2.05,13.15 3.06,15.17 4.75,16.5C4.75,17.1 4.33,18.67 2,21C4.37,20.89 6.64,20 8.47,18.5C9.61,18.83 10.81,19 12,19C17.5,19 22,15.42 22,11C22,6.58 17.5,3 12,3M12,17C7.58,17 4,14.31 4,11C4,7.69 7.58,5 12,5C16.42,5 20,7.69 20,11C20,14.31 16.42,17 12,17Z"})]}),"Chat"]})}),m.jsx("li",{children:m.jsxs(Oe,{to:"/user",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${n==="/user"&&"bg-graydark dark:bg-meta-4"}`,children:[m.jsxs("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M9.0002 7.79065C11.0814 7.79065 12.7689 6.1594 12.7689 4.1344C12.7689 2.1094 11.0814 0.478149 9.0002 0.478149C6.91895 0.478149 5.23145 2.1094 5.23145 4.1344C5.23145 6.1594 6.91895 7.79065 9.0002 7.79065ZM9.0002 1.7719C10.3783 1.7719 11.5033 2.84065 11.5033 4.16252C11.5033 5.4844 10.3783 6.55315 9.0002 6.55315C7.62207 6.55315 6.49707 5.4844 6.49707 4.16252C6.49707 2.84065 7.62207 1.7719 9.0002 1.7719Z",fill:""}),m.jsx("path",{d:"M10.8283 9.05627H7.17207C4.16269 9.05627 1.71582 11.5313 1.71582 14.5406V16.875C1.71582 17.2125 1.99707 17.5219 2.3627 17.5219C2.72832 17.5219 3.00957 17.2407 3.00957 16.875V14.5406C3.00957 12.2344 4.89394 10.3219 7.22832 10.3219H10.8564C13.1627 10.3219 15.0752 12.2063 15.0752 14.5406V16.875C15.0752 17.2125 15.3564 17.5219 15.7221 17.5219C16.0877 17.5219 16.3689 17.2407 16.3689 16.875V14.5406C16.2846 11.5313 13.8377 9.05627 10.8283 9.05627Z",fill:""})]}),"Quản lí người dùng"]})})]})})})]})},Lc="/assets/logo-icon-7e6ff7aa.svg";function Uc(e,t){const[r,n]=k.useState(()=>{try{const i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.log(i),t}});return k.useEffect(()=>{try{const i=typeof r=="function"?r(r):r;window.localStorage.setItem(e,JSON.stringify(i))}catch(i){console.log(i)}},[e,r]),[r,n]}const Hc=()=>{const[e,t]=Uc("color-theme","light");return k.useEffect(()=>{const r="dark",n=window.document.body.classList;e==="dark"?n.add(r):n.remove(r)},[e]),[e,t]},Vc=()=>{const[e,t]=Hc();return m.jsx("li",{children:m.jsxs("label",{className:`relative m-0 block h-7.5 w-14 rounded-full ${e==="dark"?"bg-primary":"bg-stroke"}`,children:[m.jsx("input",{type:"checkbox",onChange:()=>typeof t=="function"&&t(e==="light"?"dark":"light"),className:"dur absolute top-0 z-50 m-0 h-full w-full cursor-pointer opacity-0"}),m.jsxs("span",{className:`absolute top-1/2 left-[3px] flex h-6 w-6 -translate-y-1/2 translate-x-0 items-center justify-center rounded-full bg-white shadow-switcher duration-75 ease-linear ${e==="dark"&&"!right-[3px] !translate-x-full"}`,children:[m.jsx("span",{className:"dark:hidden",children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M7.99992 12.6666C10.5772 12.6666 12.6666 10.5772 12.6666 7.99992C12.6666 5.42259 10.5772 3.33325 7.99992 3.33325C5.42259 3.33325 3.33325 5.42259 3.33325 7.99992C3.33325 10.5772 5.42259 12.6666 7.99992 12.6666Z",fill:"#969AA1"}),m.jsx("path",{d:"M8.00008 15.3067C7.63341 15.3067 7.33342 15.0334 7.33342 14.6667V14.6134C7.33342 14.2467 7.63341 13.9467 8.00008 13.9467C8.36675 13.9467 8.66675 14.2467 8.66675 14.6134C8.66675 14.9801 8.36675 15.3067 8.00008 15.3067ZM12.7601 13.4267C12.5867 13.4267 12.4201 13.3601 12.2867 13.2334L12.2001 13.1467C11.9401 12.8867 11.9401 12.4667 12.2001 12.2067C12.4601 11.9467 12.8801 11.9467 13.1401 12.2067L13.2267 12.2934C13.4867 12.5534 13.4867 12.9734 13.2267 13.2334C13.1001 13.3601 12.9334 13.4267 12.7601 13.4267ZM3.24008 13.4267C3.06675 13.4267 2.90008 13.3601 2.76675 13.2334C2.50675 12.9734 2.50675 12.5534 2.76675 12.2934L2.85342 12.2067C3.11342 11.9467 3.53341 11.9467 3.79341 12.2067C4.05341 12.4667 4.05341 12.8867 3.79341 13.1467L3.70675 13.2334C3.58008 13.3601 3.40675 13.4267 3.24008 13.4267ZM14.6667 8.66675H14.6134C14.2467 8.66675 13.9467 8.36675 13.9467 8.00008C13.9467 7.63341 14.2467 7.33342 14.6134 7.33342C14.9801 7.33342 15.3067 7.63341 15.3067 8.00008C15.3067 8.36675 15.0334 8.66675 14.6667 8.66675ZM1.38675 8.66675H1.33341C0.966748 8.66675 0.666748 8.36675 0.666748 8.00008C0.666748 7.63341 0.966748 7.33342 1.33341 7.33342C1.70008 7.33342 2.02675 7.63341 2.02675 8.00008C2.02675 8.36675 1.75341 8.66675 1.38675 8.66675ZM12.6734 3.99341C12.5001 3.99341 12.3334 3.92675 12.2001 3.80008C11.9401 3.54008 11.9401 3.12008 12.2001 2.86008L12.2867 2.77341C12.5467 2.51341 12.9667 2.51341 13.2267 2.77341C13.4867 3.03341 13.4867 3.45341 13.2267 3.71341L13.1401 3.80008C13.0134 3.92675 12.8467 3.99341 12.6734 3.99341ZM3.32675 3.99341C3.15341 3.99341 2.98675 3.92675 2.85342 3.80008L2.76675 3.70675C2.50675 3.44675 2.50675 3.02675 2.76675 2.76675C3.02675 2.50675 3.44675 2.50675 3.70675 2.76675L3.79341 2.85342C4.05341 3.11342 4.05341 3.53341 3.79341 3.79341C3.66675 3.92675 3.49341 3.99341 3.32675 3.99341ZM8.00008 2.02675C7.63341 2.02675 7.33342 1.75341 7.33342 1.38675V1.33341C7.33342 0.966748 7.63341 0.666748 8.00008 0.666748C8.36675 0.666748 8.66675 0.966748 8.66675 1.33341C8.66675 1.70008 8.36675 2.02675 8.00008 2.02675Z",fill:"#969AA1"})]})}),m.jsx("span",{className:"hidden dark:inline-block",children:m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M14.3533 10.62C14.2466 10.44 13.9466 10.16 13.1999 10.2933C12.7866 10.3667 12.3666 10.4 11.9466 10.38C10.3933 10.3133 8.98659 9.6 8.00659 8.5C7.13993 7.53333 6.60659 6.27333 6.59993 4.91333C6.59993 4.15333 6.74659 3.42 7.04659 2.72666C7.33993 2.05333 7.13326 1.7 6.98659 1.55333C6.83326 1.4 6.47326 1.18666 5.76659 1.48C3.03993 2.62666 1.35326 5.36 1.55326 8.28666C1.75326 11.04 3.68659 13.3933 6.24659 14.28C6.85993 14.4933 7.50659 14.62 8.17326 14.6467C8.27993 14.6533 8.38659 14.66 8.49326 14.66C10.7266 14.66 12.8199 13.6067 14.1399 11.8133C14.5866 11.1933 14.4666 10.8 14.3533 10.62Z",fill:"#969AA1"})})})]})]})})},qc=()=>{const e=oc(),[t,r]=k.useState(!1),[n,i]=k.useState(!1),s=k.useRef(null),o=k.useRef(null),[a,u]=k.useState(Tt.pagination.PAGE),[c]=k.useState(5);k.useEffect(()=>{ac.addEventListener("message",p=>{console.log(p,"trong cai chuong"),r(!0)})},[]),k.useEffect(()=>{const p=({target:y})=>{o.current&&(!n||o.current.contains(y)||s.current.contains(y)||i(!1))};return document.addEventListener("click",p),()=>document.removeEventListener("click",p)}),k.useEffect(()=>{const p=({key:y})=>{!n||y!=="Escape"||i(!1)};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)});const{data:l,isLoading:h}=gc({queryKey:["notifications",{page:a,limit:c}],queryFn:()=>bc(a,c)}),{mutate:d}=bo(mc,{onSuccess:p=>{p.success?(e.invalidateQueries({queryKey:["notifications",{page:a,limit:c}]}),Ot(kt.info,"Đã đánh dấu đọc","update-noti")):Ot(kt.error,"Xảy ra lỗi! Thử lại sau","update-noti")}});return m.jsxs("li",{className:"relative",children:[m.jsxs("button",{ref:s,type:"button",onClick:()=>{r(!1),i(!n)},className:"relative flex h-8.5 w-8.5 items-center justify-center rounded-full border-[0.5px] border-stroke bg-gray hover:text-primary dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[t&&m.jsx("span",{className:"absolute -top-0.5 right-0 z-1 h-2 w-2 rounded-full bg-meta-1",children:m.jsx("span",{className:"absolute -z-1 inline-flex h-full w-full animate-ping rounded-full bg-meta-1 opacity-75"})}),m.jsx("svg",{className:"fill-current duration-300 ease-in-out",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M16.1999 14.9343L15.6374 14.0624C15.5249 13.8937 15.4687 13.7249 15.4687 13.528V7.67803C15.4687 6.01865 14.7655 4.47178 13.4718 3.31865C12.4312 2.39053 11.0812 1.7999 9.64678 1.6874V1.1249C9.64678 0.787402 9.36553 0.478027 8.9999 0.478027C8.6624 0.478027 8.35303 0.759277 8.35303 1.1249V1.65928C8.29678 1.65928 8.24053 1.65928 8.18428 1.6874C4.92178 2.05303 2.4749 4.66865 2.4749 7.79053V13.528C2.44678 13.8093 2.39053 13.9499 2.33428 14.0343L1.7999 14.9343C1.63115 15.2155 1.63115 15.553 1.7999 15.8343C1.96865 16.0874 2.2499 16.2562 2.55928 16.2562H8.38115V16.8749C8.38115 17.2124 8.6624 17.5218 9.02803 17.5218C9.36553 17.5218 9.6749 17.2405 9.6749 16.8749V16.2562H15.4687C15.778 16.2562 16.0593 16.0874 16.228 15.8343C16.3968 15.553 16.3968 15.2155 16.1999 14.9343ZM3.23428 14.9905L3.43115 14.653C3.5999 14.3718 3.68428 14.0343 3.74053 13.6405V7.79053C3.74053 5.31553 5.70928 3.23428 8.3249 2.95303C9.92803 2.78428 11.503 3.2624 12.6562 4.2749C13.6687 5.1749 14.2312 6.38428 14.2312 7.67803V13.528C14.2312 13.9499 14.3437 14.3437 14.5968 14.7374L14.7655 14.9905H3.23428Z"})})]}),m.jsxs("div",{ref:o,onFocus:()=>i(!0),onBlur:()=>i(!1),className:Kt("absolute -right-27 mt-2.5 flex w-75 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark sm:right-0 sm:w-80",{block:n===!0,hidden:n===!1}),children:[m.jsxs("div",{className:"px-4.5 py-3 inline-flex justify-between items-center",children:[m.jsx("h5",{className:"text-sm font-bold text-bodydark2",children:"Thông báo"}),m.jsxs("div",{className:"text-sm font-bold text-bodydark2 inline-flex gap-4",children:[m.jsx("button",{type:"button",disabled:a===1,onClick:()=>u(p=>p-1),className:"px-1.5 bg-primary text-white rounded-full",children:"<"}),m.jsx("button",{type:"button",disabled:(l==null?void 0:l.length)<5,onClick:()=>u(p=>p+1),className:"px-1.5 bg-primary text-white rounded-full",children:">"})]})]}),m.jsx("ul",{className:"flex h-auto flex-col overflow-y-auto",children:h?m.jsx(en,{loadInside:!0}):l.length>0&&l.map(p=>m.jsxs("li",{onClick:()=>!p.isRead&&d(p.id),className:Kt("flex flex-col gap-2.5 border-t border-stroke px-4.5 py-3 hover:bg-gray-2 dark:border-strokedark dark:hover:bg-meta-4",{"bg-[#FFF7D9] cursor-pointer":!p.isRead}),children:[m.jsx("p",{className:"text-sm text-black dark:text-white font-bold",children:p.title}),m.jsx("p",{className:"text-xs text-black dark:text-white",children:p.content}),m.jsx("p",{className:"text-xs",children:new Date(p.createAt).toLocaleDateString("en-GB")})]},p.id))})]})]})},zc="/assets/zuno-d3681803.png",Gc="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAoACgDAREAAhEBAxEB/8QAGQAAAwADAAAAAAAAAAAAAAAABwgJBQYK/8QALBAAAgIDAAECBQMEAwAAAAAABAUDBgECBwgREgAJEyExFEFRFRaB8GHB4f/EABsBAAEFAQEAAAAAAAAAAAAAAAYBAgUHCAMA/8QAKhEAAgMAAgEEAQMEAwAAAAAAAgMBBAUGERIABxMhFBUWIyIxMjNBY4L/2gAMAwEAAhEDEQA/AOEtQlxn0x7MZ++f29f3z/P/AJ+Pv8e9e9FNLTGbLEeF6lkwzIVGDHqvXGn7ymyjFGxhRxhwT7ymSBAnGaCx67T7CBGl4jyOKRLHxZYQovFrkqL4yd01ylz8IsWom9MMZ+IWtUqWf64a1SvL5GAJPFbDiSBbCGCgPIQIo85EjgO4iY85ADOB/wAvACLrxGZjID1Yg6aAMISY4sqSCEYQKCUwsuYrf6YsAwo2kxBE5UnpGLDBHJKTJ6RwaSb5xr8dDMFgTGEK1hBEZsKFgIhHkZEZyICID9mRTEBH2UxHpsRJFAjEkRTEQIxJFMlPQxAjElMzP1EREzM/URM+sA5qxYekOxYRQupUG5IuxQsw+pQ0ZZQEhA+Z49PrQxnAnAySxY3j0NCME321IFIiiQGrZ5wti2SsoBkLMDlZysGwB+Ez4kSmqaIl1JKatkdgwCJSAw8fMSHyiSHyGR8hgiCZHuI7iDEgmY7iDEgnohmIFTpP7fdnGvpnHrnGf3x/v/H2z6/x6/D/AE305Hi9w6Tt3RoKvNlrFXE6g64X4qtRhsLep58oOVrLNZqrWydv1VsOqmX65+2QqIDW+KuC9bjBERqp8ajfK96eO5DLqhqnec5VLKVfMq+dZ1Hi1tSnfux0uim7FZ1ZVp5rRFtldTGB8sTMpj546V0K7JcNcQJ1s6ww2yqqMiDXV0dEVhiZYLSUsSZKgYQiUh6qXeinHjrT+zFq+K9UqnMVfShvGZr2XinVduX1Y/o+vE6mbcKk0GzS3jgErovNRdyrAvkwOI4AKdEhkDtWVlWEZy4RmbnNv2hyYOdcav6elhaHIE4/MOHs5Fo1cexzLYtZM17tXkOXVtDh6ZeecZALgAKyLc2qlPPeuy+QaePjFs4Bcf0a6at2on8jF2hzqzrVfGo07jW1rGXcYv8APSEBbEWEPyy1yRrufYAmIpHgv5dtq2qo1w+WRf1aAA1rauTZ5QkdVTqtXzXYZJbDb1XkiiItTaw2gxmg1llSdPhfJWhKRRjl9IrEgYkkpYrd4jFZ23V97As7Nr4qmta5CNO3xzZS8SBGczgbhzauXm1YY8EvwW0r9YXW/wBa1NSWH2GOl0P/ABW8dTVrImCQmk1oXqjIIS+aNiCsNs2G+SzZNkWJKRVFZFYQEYJNg4Djvj9zz/yU4J5N8vJY8Pt110695DRN+jdzwpq/daBcOq2TldUj5PQiWd4txjJ4rMZlCMdSDmOwOgy1bYbKwYVQ3kulwfQy7OHz3iG6T+cVKFrjfE8tGBgmN7iG/SwaWxabu67F5uWmpQNKq51yaNQbNqxYdVrpUcDWo79RgOx7lVKMgoVft3p0LgGrTpWbra8RVrjNm2bXyUmJwv5pUla1sOS5p+9cgtHF+h3HmV2AgV22lOJUdjUwMl7fKZvGKKYSlLPUkFL5GqjUyNc7HGIm1WuxWCyXfM4UuMbDwNylyLJo6+ewm079cbFZpKYn50SRgDwU0QaKnSEsSRiMsSa2xHiceqp0KLs606o8YFqGStgiYnAF1BSPkMyMkHfgcDJeJxIzPcenL+XvaAkts6cpn2JkLbc72cpxI+EWvt4urelNMtoHG5PNbFV+q8oZJBzi8rug05pGoYCMXHP+gyLaxb9XqgS9yah2MmiY+IiN8qrT/cOfx85VoomtKILZp38XTCwwQE6F6s1qTWjSz1Ps0prPluMNhV8+4mZ+MWxH4Fm/ETXZDPPxovr3USse5hyHLExk67jWDoYFben3dGxr/kN4q9Fl/t/mfmZ5vWFGPYrSr1QT0Dr1j8MvHHoni90hmBiQzaqSIOl7o0N2AjNnhXUHoN7WylmawRS75I9vtW/jo4vo5yjfa9tfZyptvr59iLtfRxs33W5/x/meVWbMKnSZ+i17N7NbKQOxdoUGCtfysAbR5Nk1rtu+bThZbvMXZyjsr/Hap1vjWJo5jXB/XNUWXHAi0uTIUra2JIoVBTQ/yP8AKbl3H/mF9OvLd12hR0ytfL77aCXXqxXKM+5gjpyQHsQLSzk/1O8JHl/uqwlmz1rdf+jUq2CeDCcdbixCJQ9Rniu1yDk/thXPGocbv8d0ff8A4hg0bl27ohp6R8gr8bJEB8OZaqZuEabqDsacFoaBAbBRmpaoXSt/jWdm640r1nQrX63BNHZtqQmvK6xZNi9JrgmPBjrhHTJc15hCuvGZsl5dClXiD5v0LoDrNM5rWumRcy8XvFG8VWvPr+O97B1q6WLtHkHzLV/c+hKeXWOotFClu7bL00anl1kkc8xpKeFykbWxyplGOJPdP2+2R1+J3di7kL0t7nKrJooEGblrjI4zyG5FSk7UWyHsRUFoiy6pK7zpgWqrE2THhxjTqzT2grLsGtVAGEfj5tUBWqtVZGtMzAiTCEm+Pl4zMzHkAwPqEfzEbajtXkt0XevAzK1KORLVQ00vJDeFxooq2lCAkRhcucnsrVXAVs+Jo4i74Zv0O1kbl3K9QA2KwGLw9ce1mXay+H5SrjBc9wPtG4dVe5802rDGi0tRK1VrJGHj/RTGaNUYCnUNqa4sOs+T202tWySYmAGFKGJrTU/1gMT/AAEUkERPc9s6awiJrIEjkYVbl3QGnP7YguKWZlowQMIztIlNqtdJNPHx74zVOtqozmvW1IO0E3mBKMROV52g80mNJ/bnbTc31c5OtnXM5/xQu2g1ebqNHSBLJ+1WPwdKvbo2TrsgWrVartURhHkE/UxCVLJ07SLQQckhgn4g99YmDH0avnqsTYULRmQIlNA4iZ6L1cW3QUTzE5Vz/qvMa/eurYoVRVJ/IXxf4xaHkHUUdu53VQ6zXe58lqPUBG1w6oAv48NSqL129V5DZW6R5RhTTR4arYxHibEwUdn295lp4u3boccjR0blvjPM96rTnI2MfZ033rGDtauJCsnjc2eTtv6GHx67ZrLanQskDPzQiq67Zu5+3kruV1uvjCVDazqM2pZQvVaqVSdevdkrmg1FAUqsaQAUN8Fj/iEkM2ZLe/6DfYb9ae2+RHbXl5W3LjglBq9iML8gLbVHGzfdrxyWIlbYnaQALDDOOibv61NW3etwxPSRbHOuewR3xVyMfinFV5tbjnAOI5WJYxOTtvWqFajw3L1M2aQDyRfxvp0/MVVw/QHJtKtUyoqXoHWXNfsEddu6+uVidLkGtbvLu5akJe2xs2qlmHyObMEDWzBGZRoLJZLaLzKvDJ8pgk1Q2Lwfqdl1Ya6Edd6TYY241K3v92Bs/OqxRWDxbWq0b1Tglkr09W65XbG4YuOhImBddIA0ArwAWQmxR+isertt+7vMM7Uz02q/DOL5tujW225ecCdrU3VZtvS1F8c5ZSc6/wAd0cirWzOOa9FdkTi1sWyj8aah2JqxWrcM4/Yq3G1372vYU9uaFqywqVKmVuvXqs0sexCq+nUuMZa1KFqV9fHRRHbZeK5x2p4WyKMPZHFsWBxBBh7BgWScccYVJuQUYYabMQWYWTPJJMQUXPOSRLvvNPNLLvvvto9awUsFKAFKWArWpYCta1gMCC1gAiAAAxAiAjAiMRAxERERVpERlJEUkRTMyRTJTMzPczMzMzMzM9zMzMzP3PofKXXtzjHvzjOM5/Ofv6+v+f8Av/Gfh/pvrflL8xYyCfI2zKvv18msq96hZGpXQEumcZ1lDbLJxGIkmucevuHKj2/OM5++cZ4Wqta9XZTu10XKjo6bVtJXYrNj/sruE0n/AOgmY/4/tHroprUMhqWMS2PqGKMlsiJiYmIMJgoiYme4iep9H+0eWnkNcUhil/1IyY50HEst99Xpa6k6/wBESjRxxgIumdjSqQel39Kt103/AEgFmsp+J/rbauJW2sC/UEGq+1vA6lxFpXHqzFUnFay8m0+3d45i3DIjZew+NW3uwsi6ySjuzSoKYvxiav45G4nTJcl2yUavz2ATghVi0oFJv20xEQKbmgoAu2kjHf8AE55AXf8AJBwK4BcCWccchZck0pJxsshBp5U0hBxpEm228hBhhG8hRZMm+++8pBMss0m+222++d85zk/ERAAWEQC1jALWMQK1hEREAsBiAAIiIiBCBGIiOojr1BzMkUkUyRFMkRTPZEUz3JFM/ZFMzMzM9z3M/frQm7jMnu112znOc5xj/f4++fv65/P8+nwvpPX/2Q==",Wc=()=>{const e=cc(c=>c.auth),t=uc(),[r,n]=k.useState(!1),i=k.useRef(null),s=k.useRef(null);k.useEffect(()=>{const c=({target:l})=>{s.current&&(!r||s.current.contains(l)||i.current.contains(l)||n(!1))};return document.addEventListener("click",c),()=>document.removeEventListener("click",c)}),k.useEffect(()=>{const c=({key:l})=>{!r||l!=="Escape"||n(!1)};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)});const{mutate:o,isLoading:a}=bo(yc,{onSuccess:c=>{if(!c.success)return Ot(kt.error,"Lỗi! Không thể đăng xuất!");t(lc()),t(dc(!1)),t(fc(null)),window.localStorage.clear(),Ot(kt.info,"Đăng xuất tài khoản thành công!")}}),u=async()=>o();return m.jsxs("div",{className:"relative",children:[m.jsxs(mo,{ref:i,onClick:()=>n(!r),className:"flex items-center gap-4",to:"#",children:[m.jsxs("span",{className:"hidden text-right lg:block",children:[m.jsx("span",{className:"block text-sm font-medium text-black dark:text-white",children:e.user.name??"ADMIN"}),m.jsx("span",{className:"block text-xs",children:"Super Admin"})]}),m.jsx("span",{className:"h-12 w-12 rounded-full",children:m.jsx("img",{src:e.user.phoneNumber==="0933663240"?zc:Gc,alt:"User"})}),m.jsx("svg",{className:Kt("hidden fill-current sm:block",{"rotate-180":r}),width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.410765 0.910734C0.736202 0.585297 1.26384 0.585297 1.58928 0.910734L6.00002 5.32148L10.4108 0.910734C10.7362 0.585297 11.2638 0.585297 11.5893 0.910734C11.9147 1.23617 11.9147 1.76381 11.5893 2.08924L6.58928 7.08924C6.26384 7.41468 5.7362 7.41468 5.41077 7.08924L0.410765 2.08924C0.0853277 1.76381 0.0853277 1.23617 0.410765 0.910734Z",fill:""})})]}),m.jsx("div",{ref:s,onFocus:()=>n(!0),onBlur:()=>n(!1),className:Kt("absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",{block:r===!0,hidden:r===!1}),children:m.jsxs("button",{onClick:u,disabled:a,className:"flex items-center gap-3.5 py-4 px-6 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",children:[m.jsxs("svg",{className:"fill-current",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M15.5375 0.618744H11.6531C10.7594 0.618744 10.0031 1.37499 10.0031 2.26874V4.64062C10.0031 5.05312 10.3469 5.39687 10.7594 5.39687C11.1719 5.39687 11.55 5.05312 11.55 4.64062V2.23437C11.55 2.16562 11.5844 2.13124 11.6531 2.13124H15.5375C16.3625 2.13124 17.0156 2.78437 17.0156 3.60937V18.3562C17.0156 19.1812 16.3625 19.8344 15.5375 19.8344H11.6531C11.5844 19.8344 11.55 19.8 11.55 19.7312V17.3594C11.55 16.9469 11.2062 16.6031 10.7594 16.6031C10.3125 16.6031 10.0031 16.9469 10.0031 17.3594V19.7312C10.0031 20.625 10.7594 21.3812 11.6531 21.3812H15.5375C17.2219 21.3812 18.5625 20.0062 18.5625 18.3562V3.64374C18.5625 1.95937 17.1875 0.618744 15.5375 0.618744Z",fill:""}),m.jsx("path",{d:"M6.05001 11.7563H12.2031C12.6156 11.7563 12.9594 11.4125 12.9594 11C12.9594 10.5875 12.6156 10.2438 12.2031 10.2438H6.08439L8.21564 8.07813C8.52501 7.76875 8.52501 7.2875 8.21564 6.97812C7.90626 6.66875 7.42501 6.66875 7.11564 6.97812L3.67814 10.4844C3.36876 10.7938 3.36876 11.275 3.67814 11.5844L7.11564 15.0906C7.25314 15.2281 7.45939 15.3312 7.66564 15.3312C7.87189 15.3312 8.04376 15.2625 8.21564 15.125C8.52501 14.8156 8.52501 14.3344 8.21564 14.025L6.05001 11.7563Z",fill:""})]}),"Đăng xuất"]})})]})},Kc=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Zc=e=>({httpHandler:e.httpHandler()});var ss;(function(e){e.HEADER="header",e.QUERY="query"})(ss||(ss={}));var Pt;(function(e){e.HTTP="http",e.HTTPS="https"})(Pt||(Pt={}));var Zt;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Zt||(Zt={}));var is;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(is||(is={}));const wo="__smithy_context";var os;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(os||(os={}));var as;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(as||(as={}));class le{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const t=new le({...this,headers:{...this.headers}});return t.query&&(t.query=Qc(t.query)),t}}function Qc(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class Qt{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Xc(e){return t=>async r=>{const{request:n}=r;return le.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const Yc={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Jc=e=>({applyToStack:t=>{t.add(Xc(e),Yc)}});const eu=e=>t=>async r=>{if(!le.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},tu={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ru=e=>({applyToStack:t=>{t.add(eu(e),tu)}}),nu=()=>(e,t)=>async r=>{var n,i;try{const s=await e(r),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:h}=c,d=l??t.inputFilterSensitiveLog,p=h??t.outputFilterSensitiveLog,{$metadata:y,...x}=s.output;return(n=u==null?void 0:u.info)==null||n.call(u,{clientName:o,commandName:a,input:d(r.input),output:p(x),metadata:y}),s}catch(s){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,h=l??t.inputFilterSensitiveLog;throw(i=u==null?void 0:u.error)==null||i.call(u,{clientName:o,commandName:a,input:h(r.input),error:s,metadata:s.$metadata}),s}},su={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},iu=e=>({applyToStack:t=>{t.add(nu(),su)}}),cs="X-Amzn-Trace-Id",ou="AWS_LAMBDA_FUNCTION_NAME",au="_X_AMZN_TRACE_ID",cu=e=>t=>async r=>{const{request:n}=r;if(!le.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(cs))return t(r);const i=process.env[ou],s=process.env[au],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[cs]=s),t({...r,request:n})},uu={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},lu=e=>({applyToStack:t=>{t.add(cu(e),uu)}});class Ao{trace(){}debug(){}info(){}warn(){}error(){}}const Ue=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},ke=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Xt=()=>{let e=[],t=[],r=!1;const n=new Set,i=h=>h.sort((d,p)=>us[p.step]-us[d.step]||ls[p.priority||"normal"]-ls[d.priority||"normal"]),s=h=>{let d=!1;const p=y=>{const x=Ue(y.name,y.aliases);if(x.includes(h)){d=!0;for(const E of x)n.delete(E);return!1}return!0};return e=e.filter(p),t=t.filter(p),d},o=h=>{let d=!1;const p=y=>{if(y.middleware===h){d=!0;for(const x of Ue(y.name,y.aliases))n.delete(x);return!1}return!0};return e=e.filter(p),t=t.filter(p),d},a=h=>{var d;return e.forEach(p=>{h.add(p.middleware,{...p})}),t.forEach(p=>{h.addRelativeTo(p.middleware,{...p})}),(d=h.identifyOnResolve)==null||d.call(h,l.identifyOnResolve()),h},u=h=>{const d=[];return h.before.forEach(p=>{p.before.length===0&&p.after.length===0?d.push(p):d.push(...u(p))}),d.push(h),h.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?d.push(p):d.push(...u(p))}),d},c=(h=!1)=>{const d=[],p=[],y={};return e.forEach(E=>{const O={...E,before:[],after:[]};for(const D of Ue(O.name,O.aliases))y[D]=O;d.push(O)}),t.forEach(E=>{const O={...E,before:[],after:[]};for(const D of Ue(O.name,O.aliases))y[D]=O;p.push(O)}),p.forEach(E=>{if(E.toMiddleware){const O=y[E.toMiddleware];if(O===void 0){if(h)return;throw new Error(`${E.toMiddleware} is not found when adding ${ke(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&O.after.push(E),E.relation==="before"&&O.before.push(E)}}),i(d).map(u).reduce((E,O)=>(E.push(...O),E),[])},l={add:(h,d={})=>{const{name:p,override:y,aliases:x}=d,E={step:"initialize",priority:"normal",middleware:h,...d},O=Ue(p,x);if(O.length>0){if(O.some(D=>n.has(D))){if(!y)throw new Error(`Duplicate middleware name '${ke(p,x)}'`);for(const D of O){const z=e.findIndex(rt=>{var nt;return rt.name===D||((nt=rt.aliases)==null?void 0:nt.some(cr=>cr===D))});if(z===-1)continue;const he=e[z];if(he.step!==E.step||E.priority!==he.priority)throw new Error(`"${ke(he.name,he.aliases)}" middleware with ${he.priority} priority in ${he.step} step cannot be overridden by "${ke(p,x)}" middleware with ${E.priority} priority in ${E.step} step.`);e.splice(z,1)}}for(const D of O)n.add(D)}e.push(E)},addRelativeTo:(h,d)=>{const{name:p,override:y,aliases:x}=d,E={middleware:h,...d},O=Ue(p,x);if(O.length>0){if(O.some(D=>n.has(D))){if(!y)throw new Error(`Duplicate middleware name '${ke(p,x)}'`);for(const D of O){const z=t.findIndex(rt=>{var nt;return rt.name===D||((nt=rt.aliases)==null?void 0:nt.some(cr=>cr===D))});if(z===-1)continue;const he=t[z];if(he.toMiddleware!==E.toMiddleware||he.relation!==E.relation)throw new Error(`"${ke(he.name,he.aliases)}" middleware ${he.relation} "${he.toMiddleware}" middleware cannot be overridden by "${ke(p,x)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);t.splice(z,1)}}for(const D of O)n.add(D)}t.push(E)},clone:()=>a(Xt()),use:h=>{h.applyToStack(l)},remove:h=>typeof h=="string"?s(h):o(h),removeByTag:h=>{let d=!1;const p=y=>{const{tags:x,name:E,aliases:O}=y;if(x&&x.includes(h)){const D=Ue(E,O);for(const z of D)n.delete(z);return d=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),d},concat:h=>{var p;const d=a(Xt());return d.use(h),d.identifyOnResolve(r||d.identifyOnResolve()||(((p=h.identifyOnResolve)==null?void 0:p.call(h))??!1)),d},applyToStack:a,identify:()=>c(!0).map(h=>{const d=h.step??h.relation+" "+h.toMiddleware;return ke(h.name,h.aliases)+" - "+d}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,d)=>{for(const p of c().map(y=>y.middleware).reverse())h=p(h,d);return r&&console.log(l.identify()),h}};return l},us={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ls={high:3,normal:2,low:1};class du{constructor(t){this.middlewareStack=Xt(),this.config=t}send(t,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Fe={},et=new Array(64);for(let e=0,t="A".charCodeAt(0),r="Z".charCodeAt(0);e+t<=r;e++){const n=String.fromCharCode(e+t);Fe[n]=e,et[e]=n}for(let e=0,t="a".charCodeAt(0),r="z".charCodeAt(0);e+t<=r;e++){const n=String.fromCharCode(e+t),i=e+26;Fe[n]=i,et[i]=n}for(let e=0;e<10;e++){Fe[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Fe[t]=r,et[r]=t}Fe["+"]=62;et[62]="+";Fe["/"]=63;et[63]="/";const Qe=6,Ct=8,fu=63,Fn=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let i=0;i<e.length;i+=4){let s=0,o=0;for(let c=i,l=i+3;c<=l;c++)if(e[c]!=="="){if(!(e[c]in Fe))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);s|=Fe[e[c]]<<(l-c)*Qe,o+=Qe}else s>>=Qe;const a=i/4*3;s>>=o%Ct;const u=Math.floor(o/Ct);for(let c=0;c<u;c++){const l=(u-c-1)*Ct;n.setUint8(a+c,(s&255<<l)>>l)}}return new Uint8Array(r)};function Dn(e){let t="";for(let r=0;r<e.length;r+=3){let n=0,i=0;for(let o=r,a=Math.min(r+3,e.length);o<a;o++)n|=e[o]<<(a-o-1)*Ct,i+=Ct;const s=Math.ceil(i/Qe);n<<=s*Qe-i;for(let o=1;o<=s;o++){const a=(s-o)*Qe;t+=et[(n&fu<<a)>>a]}t+="==".slice(0,4-s)}return t}const Ut=e=>new TextEncoder().encode(e),Xe=e=>typeof e=="string"?Ut(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),nr=e=>new TextDecoder("utf-8").decode(e);function hu(e,t="utf-8"){return t==="base64"?Dn(e):nr(e)}function pu(e,t){return t==="base64"?Ge.mutate(Fn(e)):Ge.mutate(Ut(e))}class Ge extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return pu(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Ge.prototype),t}transformToString(t="utf-8"){return hu(this,t)}}const gu=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,u=a?o(i,e):void 0,c=e.getReader();return new ReadableStream({async pull(l){const{value:h,done:d}=await c.read();if(d){if(l.enqueue(`0\r
`),a){const p=r(await u);l.enqueue(`${s}:${p}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(n(h)||0).toString(16)}\r
${h}\r
`)}})},qe=e=>encodeURIComponent(e).replace(/[!'()*]/g,yu),yu=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function mu(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=qe(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${qe(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${qe(n)}`),t.push(i)}}return t.join("&")}function bu(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const wu={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class Au{constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r!=null&&r.aborted){const x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let s=t.path;const o=mu(t.query||{});o&&(s+=`?${o}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){const x=t.username??"",E=t.password??"";a=`${x}:${E}@`}const{port:u,method:c}=t,l=`${t.protocol}//${a}${t.hostname}${u?`:${u}`:""}${s}`,d={body:c==="GET"||c==="HEAD"?void 0:t.body,headers:new Headers(t.headers),method:c};typeof AbortController<"u"&&(d.signal=r),wu.supported&&(d.keepalive=i);const p=new Request(l,d),y=[fetch(p).then(x=>{const E=x.headers,O={};for(const z of E.entries())O[z[0]]=z[1];return x.body!=null?{response:new Qt({headers:O,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(z=>({response:new Qt({headers:O,reason:x.statusText,statusCode:x.status,body:z})}))}),bu(n)];return r&&y.push(new Promise((x,E)=>{r.onabort=()=>{const O=new Error("Request aborted");O.name="AbortError",E(O)}})),Promise.race(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const xo=e=>typeof Blob=="function"&&e instanceof Blob?xu(e):vu(e);async function xu(e){const t=await _u(e),r=Fn(t);return new Uint8Array(r)}async function vu(e){let t=new Uint8Array(0);const r=e.getReader();let n=!1;for(;!n;){const{done:i,value:s}=await r.read();if(s){const o=t;t=new Uint8Array(o.length+s.length),t.set(o),t.set(s,o.length)}n=i}return t}function _u(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;t(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const vo={},tn={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),vo[e]=t,tn[t]=e}function Eu(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in tn)t[r/2]=tn[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function ge(e){let t="";for(let r=0;r<e.byteLength;r++)t+=vo[e[r]];return t}const ds="The stream has already been transformed.",Su=e=>{var i,s;if(!fs(e)&&!hs(e)){const o=((s=(i=e==null?void 0:e.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1;const r=async()=>{if(t)throw new Error(ds);return t=!0,await xo(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return Dn(a);if(o==="hex")return ge(a);if(o===void 0||o==="utf8"||o==="utf-8")return nr(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(ds);if(t=!0,fs(e))return n(e);if(hs(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},fs=e=>typeof Blob=="function"&&e instanceof Blob,hs=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,$n=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Ge.mutate(e);if(!e)return Ge.mutate(new Uint8Array);const r=t.streamCollector(e);return Ge.mutate(await r)};class _o{constructor(){this.middlewareStack=Xt()}}const Rt="***SensitiveInformation***",Eo=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Cu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ru=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bu(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),s=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,h=a<10?`0${a}`:`${a}`;return`${Cu[n]}, ${u} ${Ru[r]} ${t} ${c}:${l}:${h} GMT`}class jn extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,jn.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const Ou=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},ku=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const i=Pu(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw Ou(o,t)},Tu=e=>({output:t,parsedBody:r,errorCode:n})=>{ku({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Pu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Mu=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Nu=e=>{const t=[];for(const r in Zt){const n=Zt[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Iu=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Fu=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},Du=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},$u=e=>({...Nu(e),...Fu(e)}),ju=e=>({...Iu(e),...Du(e)});function ps(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const So=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=So(e[r]));return e},rn=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};rn.prototype=Object.create(String.prototype,{constructor:{value:rn,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(rn,String);function We(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,Lu(n,i,s);s=t}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}Uu(n,null,s,o)}return n}const Lu=(e,t,r)=>We(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),Uu=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=Hu,u=Vu,c=n]=o;(typeof a=="function"&&a(t[c])||typeof a!="function"&&a)&&(e[n]=u(t[c]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:u&&(e[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},Hu=e=>e!=null,Vu=e=>e,Yt=(e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>ps(a)).join("/"):ps(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},qu="content-length";function zu(){return(e,t)=>async r=>{var i;const{request:n}=r;if(le.isInstance(n)&&!n.headers[qu]){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((i=t==null?void 0:t.logger)==null?void 0:i.warn)=="function"&&!(t.logger instanceof Ao)?t.logger.warn(s):console.warn(s)}return e({...r})}}const Gu={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Wu=e=>({applyToStack:t=>{t.add(zu(),Gu)}}),Ku=e=>(t,r)=>async n=>{const i=await e.region(),s=e.region;r.__s3RegionRedirect&&(e.region=async()=>(e.region=s,r.__s3RegionRedirect));const o=await t(n);if(r.__s3RegionRedirect){const a=await e.region();if(i!==a)throw new Error("Region was not restored following S3 region redirect.")}return o},Zu={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Qu(e){return(t,r)=>async n=>{var i;try{return await t(n)}catch(s){if(e.followRegionRedirects&&s.$metadata.httpStatusCode===301){try{const o=s.$response.headers["x-amz-bucket-region"];(i=r.logger)==null||i.debug(`Redirecting from ${await e.region()} to ${o}`),r.__s3RegionRedirect=o}catch(o){throw new Error("Region redirect failed: "+o)}return t(n)}else throw s}}}const Xu={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Yu=e=>({applyToStack:t=>{t.add(Qu(e),Xu),t.addRelativeTo(Ku(e),Zu)}}),Ju=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1}),el=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function tl(){return e=>async t=>{const{input:{Bucket:r}}=t;if(typeof r=="string"&&!el(r)&&r.indexOf("/")>=0){const n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}const rl={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},nl=e=>({applyToStack:t=>{t.add(tl(),rl)}}),Co=(e,t,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return t===void 0?async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),n):async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};var ur={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nn=function(e,t){return nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nn(e,t)};function sl(e,t){nn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sn=function(){return sn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},sn.apply(this,arguments)};function il(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ol(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function al(e,t){return function(r,n){t(r,n,e)}}function cl(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ul(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function ll(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function dl(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function fl(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function on(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ro(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function hl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ro(arguments[t]));return e}function pl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Mt(e){return this instanceof Mt?(this.v=e,this):new Mt(e)}function gl(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Mt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yl(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Mt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function ml(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof on=="function"?on(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function bl(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function wl(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Al(e){return e&&e.__esModule?e:{default:e}}function xl(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function vl(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const _l=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return sn},__asyncDelegator:yl,__asyncGenerator:gl,__asyncValues:ml,__await:Mt,__awaiter:ul,__classPrivateFieldGet:xl,__classPrivateFieldSet:vl,__createBinding:dl,__decorate:ol,__exportStar:fl,__extends:sl,__generator:ll,__importDefault:Al,__importStar:wl,__makeTemplateObject:bl,__metadata:cl,__param:al,__read:Ro,__rest:il,__spread:hl,__spreadArrays:pl,__values:on},Symbol.toStringTag,{value:"Module"})),Bo=Se(_l);var lr={},st={};const El=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Sl=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++r];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Cl(e){return new TextEncoder().encode(e)}function Rl(e){return new TextDecoder("utf-8").decode(e)}const Bl=e=>typeof TextEncoder=="function"?Cl(e):El(e),Ol=e=>typeof TextDecoder=="function"?Rl(e):Sl(e),kl=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Bl,toUtf8:Ol},Symbol.toStringTag,{value:"Module"})),sr=Se(kl);var gs;function Tl(){if(gs)return st;gs=1,Object.defineProperty(st,"__esModule",{value:!0}),st.convertToBuffer=void 0;var e=sr,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return st.convertToBuffer=r,st}var it={},ys;function Pl(){if(ys)return it;ys=1,Object.defineProperty(it,"__esModule",{value:!0}),it.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return it.isEmptyData=e,it}var ot={},ms;function Ml(){if(ms)return ot;ms=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return ot.numToUint8=e,ot}var at={},bs;function Nl(){if(bs)return at;bs=1,Object.defineProperty(at,"__esModule",{value:!0}),at.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return at.uint32ArrayFrom=e,at}var ws;function $e(){return ws||(ws=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Tl();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=Pl();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Ml();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=Nl();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(lr)),lr}var ct={},As;function Il(){if(As)return ct;As=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.AwsCrc32=void 0;var e=Bo,t=$e(),r=Oo(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return ct.AwsCrc32=n,ct}var xs;function Oo(){return xs||(xs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=Bo,r=$e();function n(u){return new i().update(u).digest()}e.crc32=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,h;try{for(var d=t.__values(c),p=d.next();!p.done;p=d.next()){var y=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(x){l={error:x}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=Il();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(ur)),ur}var Ln=Oo();class Bt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&vs(r),new Bt(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&vs(t),parseInt(ge(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function vs(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class ko{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const s of Object.keys(t)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Bt.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!ql.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(Eu(t.value.replace(/\-/g,"")),1),h}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const i=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[s]={type:Es,value:!0};break;case 1:r[s]={type:Es,value:!1};break;case 2:r[s]={type:Fl,value:t.getInt8(n++)};break;case 3:r[s]={type:Dl,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:$l,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:jl,value:new Bt(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[s]={type:Ll,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[s]={type:Ul,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:Hl,value:new Date(new Bt(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:Vl,value:`${ge(u.subarray(0,4))}-${ge(u.subarray(4,6))}-${ge(u.subarray(6,8))}-${ge(u.subarray(8,10))}-${ge(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var _s;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(_s||(_s={}));const Es="boolean",Fl="byte",Dl="short",$l="integer",jl="long",Ll="binary",Ul="string",Hl="timestamp",Vl="uuid",ql=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,To=4,Ne=To*2,He=4,zl=Ne+He*2;function Gl({byteLength:e,byteOffset:t,buffer:r}){if(e<zl)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),i=n.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(To,!1),o=n.getUint32(Ne,!1),a=n.getUint32(e-He,!1),u=new Ln.Crc32().update(new Uint8Array(r,t,Ne));if(o!==u.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,t+Ne,e-(Ne+He))),a!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+Ne+He,s),body:new Uint8Array(r,t+Ne+He+s,i-s-(Ne+He+He))}}class Wl{constructor(t,r){this.headerMarshaller=new ko(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Ln.Crc32;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(t){const{headers:r,body:n}=Gl(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class Kl{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class Zl{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Ql{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class Xl{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}const xe=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Yl="X-Amz-Algorithm",Jl="X-Amz-Credential",Po="X-Amz-Date",ed="X-Amz-SignedHeaders",td="X-Amz-Expires",Mo="X-Amz-Signature",No="X-Amz-Security-Token",Io="authorization",Fo=Po.toLowerCase(),rd="date",nd=[Io,Fo,rd],sd=Mo.toLowerCase(),an="x-amz-content-sha256",id=No.toLowerCase(),od={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ad=/^proxy-/,cd=/^sec-/,dr="AWS4-HMAC-SHA256",ud="AWS4-HMAC-SHA256-PAYLOAD",ld="UNSIGNED-PAYLOAD",dd=50,Do="aws4_request",fd=60*60*24*7,Ht={},fr=[],hr=(e,t,r)=>`${e}/${t}/${r}/${Do}`,hd=async(e,t,r,n,i)=>{const s=await Ss(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${ge(s)}:${t.sessionToken}`;if(o in Ht)return Ht[o];for(fr.push(o);fr.length>dd;)delete Ht[fr.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,i,Do])a=await Ss(e,a,u);return Ht[o]=a},Ss=(e,t,r)=>{const n=new e(t);return n.update(Xe(r)),n.digest()},Cs=({headers:e},t,r)=>{const n={};for(const i of Object.keys(e).sort()){if(e[i]==null)continue;const s=i.toLowerCase();(s in od||t!=null&&t.has(s)||ad.test(s)||cd.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},pd=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===sd)continue;t.push(n);const i=e[n];typeof i=="string"?r[n]=`${qe(n)}=${qe(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${qe(n)}=${qe(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},$o=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",pr=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===an)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||$o(t)){const n=new r;return n.update(Xe(t)),ge(await n.digest())}return ld},gd=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},jo=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?yd(t):void 0}),yd=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),md=(e,t={})=>{var i;const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():jo(e);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=t.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},Rs=e=>{e=typeof e.clone=="function"?e.clone():jo(e);for(const t of Object.keys(e.headers))nd.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},bd=e=>wd(e).toISOString().replace(/\.\d{3}Z$/,"Z"),wd=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class cn{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new ko(nr,Ut),this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=xe(n),this.credentialProvider=xe(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const h=u??await this.regionProvider(),{longDate:d,shortDate:p}=Vt(n);if(i>fd)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=hr(p,h,c??this.service),x=md(Rs(t),{unhoistableHeaders:o});l.sessionToken&&(x.query[No]=l.sessionToken),x.query[Yl]=dr,x.query[Jl]=`${l.accessKeyId}/${y}`,x.query[Po]=d,x.query[td]=i.toString(10);const E=Cs(x,s,a);return x.query[ed]=Bs(E),x.query[Mo]=await this.getSignature(d,y,this.getSigningKey(l,h,p,c),this.createCanonicalRequest(x,E,await pr(t,this.sha256))),x}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:u,longDate:c}=Vt(n),l=hr(u,a,o??this.service),h=await pr({headers:{},body:r},this.sha256),d=new this.sha256;d.update(t);const p=ge(await d.digest()),y=[ud,c,l,i,p,h].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=Vt(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(Xe(t)),ge(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=s??await this.regionProvider(),c=Rs(t),{longDate:l,shortDate:h}=Vt(r),d=hr(h,u,o??this.service);c.headers[Fo]=l,a.sessionToken&&(c.headers[id]=a.sessionToken);const p=await pr(c,this.sha256);!gd(an,c.headers)&&this.applyChecksum&&(c.headers[an]=p);const y=Cs(c,i,n),x=await this.getSignature(l,d,this.getSigningKey(a,u,h,o),this.createCanonicalRequest(c,y,p));return c.headers[Io]=`${dr} Credential=${a.accessKeyId}/${d}, SignedHeaders=${Bs(y)}, Signature=${x}`,c}createCanonicalRequest(t,r,n){const i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${pd(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){const i=new this.sha256;i.update(Xe(n));const s=await i.digest();return`${dr}
${t}
${r}
${ge(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){const s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update(Xe(s)),ge(await o.digest())}getSigningKey(t,r,n,i){return hd(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const Vt=e=>{const t=bd(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Bs=e=>Object.keys(e).sort().join(";"),Ad=3e5,xd=e=>{const t=e.credentials?vd(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=xe(e.signer):e.regionInfoProvider?s=()=>xe(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},h=e.signerConstructor||cn;return new h(l)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await xe(e.region)(),properties:{}},o);const a=o.signingRegion,u=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},l=e.signerConstructor||cn;return new l(c)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},vd=e=>typeof e=="function"?Co(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Ad,t=>t.expiration!==void 0):xe(e),Lo=e=>new Date(Date.now()+e),_d=(e,t)=>Math.abs(Lo(t).getTime()-e)>=3e5,Os=(e,t)=>{const r=Date.parse(e);return _d(r,t)?r-Date.now():t},Ed=e=>(t,r)=>async function(n){var c,l,h,d;if(!le.isInstance(n.request))return t(n);const i=(h=(l=(c=r.endpointV2)==null?void 0:c.properties)==null?void 0:l.authSchemes)==null?void 0:h[0],s=(i==null?void 0:i.name)==="sigv4a"?(d=i==null?void 0:i.signingRegionSet)==null?void 0:d.join(","):void 0,o=await e.signer(i),a=await t({...n,request:await o.sign(n.request,{signingDate:Lo(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(p=>{const y=p.ServerTime??ks(p.$response);throw y&&(e.systemClockOffset=Os(y,e.systemClockOffset)),p}),u=ks(a.response);return u&&(e.systemClockOffset=Os(u,e.systemClockOffset)),a},ks=e=>{var t,r;return Qt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},Sd={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Cd=e=>({applyToStack:t=>{t.addRelativeTo(Ed(e),Sd)}});function Rd(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const Bd=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Uo=e=>Bd.test(e)||e.startsWith("[")&&e.endsWith("]"),Od=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Un=(e,t=!1)=>{if(!t)return Od.test(e);const r=e.split(".");for(const n of r)if(!Un(n))return!1;return!0},un={},Nt="endpoints";function De(e){return typeof e!="object"||e==null?e:"ref"in e?`$${De(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(De).join(", ")})`:JSON.stringify(e,null,2)}class ye extends Error{constructor(t){super(t),this.name="EndpointError"}}const kd=(e,t)=>e===t,Td=e=>{const t=e.split("."),r=[];for(const n of t){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new ye(`Path: '${e}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new ye(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},Ho=(e,t)=>Td(t).reduce((r,n)=>{if(typeof r!="object")throw new ye(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),Pd=e=>e!=null,Md=e=>!e,gr={[Pt.HTTP]:80,[Pt.HTTPS]:443},Nd=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:d,port:p,protocol:y="",path:x="",query:E={}}=e,O=new URL(`${y}//${d}${p?`:${p}`:""}${x}`);return O.search=Object.entries(E).map(([D,z])=>`${D}=${z}`).join("&"),O}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(Pt).includes(u))return null;const c=Uo(i),l=r.includes(`${n}:${gr[u]}`)||typeof e=="string"&&e.includes(`${n}:${gr[u]}`),h=`${n}${l?`:${gr[u]}`:""}`;return{scheme:u,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},Id=(e,t)=>e===t,Fd=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),Dd=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),$d={booleanEquals:kd,getAttr:Ho,isSet:Pd,isValidHostLabel:Un,not:Md,parseURL:Nd,stringEquals:Id,substring:Fd,uriEncode:Dd},Vo=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));const o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);const a=e.substring(s+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(Ho(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},jd=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],ir=(e,t,r)=>{if(typeof e=="string")return Vo(e,r);if(e.fn)return qo(e,r);if(e.ref)return jd(e,r);throw new ye(`'${t}': ${String(e)} is not a string, function or reference.`)},qo=({fn:e,argv:t},r)=>{const n=t.map(s=>["boolean","number"].includes(typeof s)?s:ir(s,"arg",r)),i=e.split(".");return i[0]in un&&i[1]!=null?un[i[0]][i[1]](...n):$d[e](...n)},Ld=({assign:e,...t},r)=>{var i,s;if(e&&e in r.referenceRecord)throw new ye(`'${e}' is already defined in Reference Record.`);const n=qo(t,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,Nt,`evaluateCondition: ${De(t)} = ${De(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Hn=(e=[],t)=>{var n,i;const r={};for(const s of e){const{result:o,toAssign:a}=Ld(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=t.logger)==null?void 0:n.debug)==null||i.call(n,Nt,`assign: ${a.name} := ${De(a.value)}`))}return{result:!0,referenceRecord:r}},Ud=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=ir(s,"Header value entry",t);if(typeof o!="string")throw new ye(`Header '${n}' value '${o}' is not a string`);return o})}),{}),zo=(e,t)=>{if(Array.isArray(e))return e.map(r=>zo(r,t));switch(typeof e){case"string":return Vo(e,t);case"object":if(e===null)throw new ye(`Unexpected endpoint property: ${e}`);return Go(e,t);case"boolean":return e;default:throw new ye(`Unexpected endpoint property type: ${typeof e}`)}},Go=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:zo(i,t)}),{}),Hd=(e,t)=>{const r=ir(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ye(`Endpoint URL must be a string, got ${typeof r}`)},Vd=(e,t)=>{var l,h;const{conditions:r,endpoint:n}=e,{result:i,referenceRecord:s}=Hn(r,t);if(!i)return;const o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return(h=(l=t.logger)==null?void 0:l.debug)==null||h.call(l,Nt,`Resolving endpoint from template: ${De(n)}`),{...c!=null&&{headers:Ud(c,o)},...u!=null&&{properties:Go(u,o)},url:Hd(a,o)}},qd=(e,t)=>{const{conditions:r,error:n}=e,{result:i,referenceRecord:s}=Hn(r,t);if(i)throw new ye(ir(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},zd=(e,t)=>{const{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=Hn(r,t);if(i)return Wo(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},Wo=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=Vd(r,t);if(n)return n}else if(r.type==="error")qd(r,t);else if(r.type==="tree"){const n=zd(r,t);if(n)return n}else throw new ye(`Unknown endpoint rule: ${r}`);throw new ye("Rules evaluation failed")},Gd=(e,t)=>{var c,l,h,d,p;const{endpointParams:r,logger:n}=t,{parameters:i,rules:s}=e;(l=(c=t.logger)==null?void 0:c.debug)==null||l.call(c,`${Nt} Initial EndpointParams: ${De(r)}`);const o=Object.entries(i).filter(([,y])=>y.default!=null).map(([y,x])=>[y,x.default]);if(o.length>0)for(const[y,x]of o)r[y]=r[y]??x;const a=Object.entries(i).filter(([,y])=>y.required).map(([y])=>y);for(const y of a)if(r[y]==null)throw new ye(`Missing required parameter: '${y}'`);const u=Wo(s,{endpointParams:r,logger:n,referenceRecord:{}});if((h=t.endpointParams)!=null&&h.Endpoint)try{const y=new URL(t.endpointParams.Endpoint),{protocol:x,port:E}=y;u.url.protocol=x,u.url.port=E}catch{}return(p=(d=t.logger)==null?void 0:d.debug)==null||p.call(d,`${Nt} Resolved endpoint: ${De(u)}`),u},Ko=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!Ko(r))return!1;return!0}return!(!Un(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Uo(e))},Wd=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},Kd=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],Zd="1.1",Qd={partitions:Kd,version:Zd};let Xd=Qd;const Yd=e=>{const{partitions:t}=Xd;for(const n of t){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(const n of t){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Jd={isVirtualHostableS3Bucket:Ko,parseArn:Wd,partition:Yd};un.aws=Jd;const Ts="user-agent",yr="x-amz-user-agent",Ps=" ",mr="/",ef=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,tf=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Ms="-",rf=e=>(t,r)=>async n=>{var h,d;const{request:i}=n;if(!le.isInstance(i))return t(n);const{headers:s}=i,o=((h=r==null?void 0:r.userAgent)==null?void 0:h.map(br))||[],a=(await e.defaultUserAgentProvider()).map(br),u=((d=e==null?void 0:e.customUserAgent)==null?void 0:d.map(br))||[],c=[].concat([...a,...o,...u]).join(Ps),l=[...a.filter(p=>p.startsWith("aws-sdk-")),...u].join(Ps);return e.runtime!=="browser"?(l&&(s[yr]=s[yr]?`${s[Ts]} ${l}`:l),s[Ts]=c):s[yr]=c,t({...n,request:i})},br=e=>{var o;const t=e[0].split(mr).map(a=>a.replace(ef,Ms)).join(mr),r=(o=e[1])==null?void 0:o.replace(tf,Ms),n=t.indexOf(mr),i=t.substring(0,n);let s=t.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},nf={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},sf=e=>({applyToStack:t=>{t.add(rf(e),nf)}});var Ns;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ns||(Ns={}));const of=!1,af=!1,Zo=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Is=e=>Zo(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,cf=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Is(t);const n=await t();return Is(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return Zo(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},uf=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),Fs="content-length";function lf(e){return t=>async r=>{const n=r.request;if(le.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(Fs)===-1)try{const o=e(i);n.headers={...n.headers,[Fs]:String(o)}}catch{}}return t({...r,request:n})}}const df={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ff=e=>({applyToStack:t=>{t.add(lf(e.bodyLengthChecker),df)}}),hf=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),bf(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!mf(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},pf=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,gf=/(\d+\.){3}\d+/,yf=/\.\./,mf=e=>pf.test(e)&&!gf.test(e)&&!yf.test(e),bf=e=>{const[t,r,n,i,s,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,u=[t,r,n,s,o].filter(Boolean).length===5;if(a&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!o},wf=(e,t,r)=>{const n=async()=>{const i=r[e]??r[t];return typeof i=="function"?i():i};return e==="endpoint"||t==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},Af=async e=>{};function xf(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const Jt=e=>{if(typeof e=="string")return Jt(new URL(e));const{hostname:t,pathname:r,port:n,protocol:i,search:s}=e;let o;return s&&(o=xf(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},Qo=e=>typeof e=="object"?"url"in e?Jt(e.url):e:Jt(e),vf=async(e,t,r,n)=>{if(!r.endpoint){const o=await Af(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(Qo(o)))}const i=await _f(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},_f=async(e,t,r)=>{var s;const n={},i=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await wf(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await hf(n),n},Ef=({config:e,instructions:t})=>(r,n)=>async i=>{var a,u;const s=await vf(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(u=n.authSchemes)==null?void 0:u[0];return o&&(n.signing_region=o.signingRegion,n.signing_service=o.signingName),r({...i})},Sf=(e,t)=>(r,n)=>async i=>{const{response:s}=await r(i);try{const o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a}throw o}},Cf=(e,t)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await t(i.input,{...e,endpoint:s});return r({...i,request:o})},Rf={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Xo={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Yo(e,t,r){return{applyToStack:n=>{n.add(Sf(e,r),Rf),n.add(Cf(e,t),Xo)}}}const Bf={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Xo.name},Jo=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Ef({config:e,instructions:t}),Bf)}}),Of=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Qo(await xe(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:xe(e.useDualstackEndpoint??!1),useFipsEndpoint:xe(e.useFipsEndpoint??!1)}};var Ye;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ye||(Ye={}));const er=3,kf=Ye.STANDARD,Tf=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Pf=["TimeoutError","RequestTimeout","RequestTimeoutException"],Mf=[500,502,503,504],Nf=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ea=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Tf.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ta=e=>{var t;return Pf.includes(e.name)||Nf.includes((e==null?void 0:e.code)||"")||Mf.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},If=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ta(e)}return!1};class Ff{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),ea(t)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const ln=100,ra=20*1e3,Df=500,Ds=500,$f=5,jf=10,Lf=1,Uf="amz-sdk-invocation-id",Hf="amz-sdk-request",Vf=()=>{let e=ln;return{computeNextBackoffDelay:n=>Math.floor(Math.min(ra,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},$s=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(ra,e),getRetryCost:()=>r});class na{constructor(t){this.maxAttempts=t,this.mode=Ye.STANDARD,this.capacity=Ds,this.retryBackoffStrategy=Vf(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return $s({retryDelay:ln,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?Df:ln);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,$s({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ds,this.capacity+(t.getRetryCost()??Lf))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${er}`),er}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?jf:$f}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class qf{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Ye.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Ff,this.standardRetryStrategy=new na(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}var qt,zf=new Uint8Array(16);function Gf(){if(!qt&&(qt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!qt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qt(zf)}const Wf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Kf(e){return typeof e=="string"&&Wf.test(e)}var J=[];for(var wr=0;wr<256;++wr)J.push((wr+256).toString(16).substr(1));function Zf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(J[e[t+0]]+J[e[t+1]]+J[e[t+2]]+J[e[t+3]]+"-"+J[e[t+4]]+J[e[t+5]]+"-"+J[e[t+6]]+J[e[t+7]]+"-"+J[e[t+8]]+J[e[t+9]]+"-"+J[e[t+10]]+J[e[t+11]]+J[e[t+12]]+J[e[t+13]]+J[e[t+14]]+J[e[t+15]]).toLowerCase();if(!Kf(r))throw TypeError("Stringified UUID is invalid");return r}function Qf(e,t,r){e=e||{};var n=e.random||(e.rng||Gf)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Zf(n)}const Xf=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Yf=e=>{const{retryStrategy:t}=e,r=xe(e.maxAttempts??er);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await xe(e.retryMode)()===Ye.ADAPTIVE?new qf(r):new na(r))}},Jf=e=>(t,r)=>async n=>{let i=await e.retryStrategy();const s=await e.maxAttempts();if(eh(i)){i=i;let o=await i.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,c=0;const{request:l}=n;for(le.isInstance(l)&&(l.headers[Uf]=Qf());;)try{le.isInstance(l)&&(l.headers[Hf]=`attempt=${u+1}; max=${s}`);const{response:h,output:d}=await t(n);return i.recordSuccess(o),d.$metadata.attempts=u+1,d.$metadata.totalRetryDelay=c,{response:h,output:d}}catch(h){const d=th(h);a=Xf(h);try{o=await i.refreshRetryTokenForRetry(o,d)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,a}u=o.getRetryCount();const p=o.getRetryDelay();c+=p,await new Promise(y=>setTimeout(y,p))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},eh=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",th=e=>{const t={errorType:rh(e)},r=ih(e.$response);return r&&(t.retryAfterHint=r),t},rh=e=>ea(e)?"THROTTLING":ta(e)?"TRANSIENT":If(e)?"SERVER_ERROR":"CLIENT_ERROR",nh={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},sh=e=>({applyToStack:t=>{t.add(Jf(e),nh)}}),ih=e=>{if(!Qt.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},oh=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),ah="@aws-sdk/client-s3",ch="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",uh="3.441.0",lh={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},dh="./dist-cjs/index.js",fh="./dist-types/index.d.ts",hh="./dist-es/index.js",ph=!1,gh={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.441.0","@aws-sdk/core":"3.441.0","@aws-sdk/credential-provider-node":"3.441.0","@aws-sdk/middleware-bucket-endpoint":"3.433.0","@aws-sdk/middleware-expect-continue":"3.433.0","@aws-sdk/middleware-flexible-checksums":"3.433.0","@aws-sdk/middleware-host-header":"3.433.0","@aws-sdk/middleware-location-constraint":"3.433.0","@aws-sdk/middleware-logger":"3.433.0","@aws-sdk/middleware-recursion-detection":"3.433.0","@aws-sdk/middleware-sdk-s3":"3.440.0","@aws-sdk/middleware-signing":"3.433.0","@aws-sdk/middleware-ssec":"3.433.0","@aws-sdk/middleware-user-agent":"3.438.0","@aws-sdk/region-config-resolver":"3.433.0","@aws-sdk/signature-v4-multi-region":"3.437.0","@aws-sdk/types":"3.433.0","@aws-sdk/util-endpoints":"3.438.0","@aws-sdk/util-user-agent-browser":"3.433.0","@aws-sdk/util-user-agent-node":"3.437.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^2.0.16","@smithy/eventstream-serde-browser":"^2.0.12","@smithy/eventstream-serde-config-resolver":"^2.0.12","@smithy/eventstream-serde-node":"^2.0.12","@smithy/fetch-http-handler":"^2.2.4","@smithy/hash-blob-browser":"^2.0.12","@smithy/hash-node":"^2.0.12","@smithy/hash-stream-node":"^2.0.12","@smithy/invalid-dependency":"^2.0.12","@smithy/md5-js":"^2.0.12","@smithy/middleware-content-length":"^2.0.14","@smithy/middleware-endpoint":"^2.1.3","@smithy/middleware-retry":"^2.0.18","@smithy/middleware-serde":"^2.0.12","@smithy/middleware-stack":"^2.0.6","@smithy/node-config-provider":"^2.1.3","@smithy/node-http-handler":"^2.1.8","@smithy/protocol-http":"^3.0.8","@smithy/smithy-client":"^2.1.12","@smithy/types":"^2.4.0","@smithy/url-parser":"^2.0.12","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.16","@smithy/util-defaults-mode-node":"^2.0.21","@smithy/util-endpoints":"^1.0.2","@smithy/util-retry":"^2.0.5","@smithy/util-stream":"^2.0.17","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.12","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},yh={"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},mh={node:">=14.0.0"},bh={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},wh=["dist-*/**"],Ah={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},xh="Apache-2.0",vh={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},_h="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Eh={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},Sh={name:ah,description:ch,version:uh,scripts:lh,main:dh,types:fh,module:hh,sideEffects:ph,dependencies:gh,devDependencies:yh,engines:mh,typesVersions:bh,files:wh,author:Ah,license:xh,browser:vh,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:_h,repository:Eh};var sa={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dn=function(e,t){return dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dn(e,t)};function Ch(e,t){dn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fn=function(){return fn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},fn.apply(this,arguments)};function Rh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Bh(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Oh(e,t){return function(r,n){t(r,n,e)}}function kh(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Th(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Ph(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Mh(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Nh(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function hn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ia(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Ih(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ia(arguments[t]));return e}function Fh(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function It(e){return this instanceof It?(this.v=e,this):new It(e)}function Dh(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof It?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $h(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:It(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function jh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hn=="function"?hn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Lh(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Uh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Hh(e){return e&&e.__esModule?e:{default:e}}function Vh(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function qh(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const zh=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return fn},__asyncDelegator:$h,__asyncGenerator:Dh,__asyncValues:jh,__await:It,__awaiter:Th,__classPrivateFieldGet:Vh,__classPrivateFieldSet:qh,__createBinding:Mh,__decorate:Bh,__exportStar:Nh,__extends:Ch,__generator:Ph,__importDefault:Hh,__importStar:Uh,__makeTemplateObject:Lh,__metadata:kh,__param:Oh,__read:ia,__rest:Rh,__spread:Ih,__spreadArrays:Fh,__values:hn},Symbol.toStringTag,{value:"Module"})),Gh=Se(zh);var ut={},lt={},dt={},js;function oa(){if(js)return dt;js=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return dt.isEmptyData=e,dt}var Ar={},Ls;function aa(){return Ls||(Ls=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_1=e.SHA_1_HMAC_ALGO=e.SHA_1_HASH=void 0,e.SHA_1_HASH={name:"SHA-1"},e.SHA_1_HMAC_ALGO={name:"HMAC",hash:e.SHA_1_HASH},e.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(Ar)),Ar}const Wh={};function Kh(){return typeof window<"u"?window:typeof self<"u"?self:Wh}const Zh=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:Kh},Symbol.toStringTag,{value:"Module"})),tt=Se(Zh);var Us;function ca(){if(Us)return lt;Us=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.Sha1=void 0;var e=oa(),t=aa(),r=sr,n=tt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_1_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();lt.Sha1=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_1_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return lt}var ft={},Hs;function ua(){if(Hs)return ft;Hs=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.Sha1=void 0;var e=sr,t=oa(),r=aa(),n=tt,i=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(u,c){(0,n.locateWindow)().crypto.subtle.importKey("raw",s(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(u,c)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,t.isEmptyData)(a)){var u=s(a),c=new Uint8Array(this.toHash.byteLength+u.byteLength);c.set(this.toHash,0),c.set(u,this.toHash.byteLength),this.toHash=c}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(u){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,u,a.toHash).then(function(c){return new Uint8Array(c)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(u){return Promise.resolve(new Uint8Array(u))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();ft.Sha1=i;function s(o){return typeof o=="string"?(0,e.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return ft}var xr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pn=function(e,t){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pn(e,t)};function Qh(e,t){pn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gn=function(){return gn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},gn.apply(this,arguments)};function Xh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Yh(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Jh(e,t){return function(r,n){t(r,n,e)}}function e0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function t0(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function r0(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function n0(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function s0(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function yn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function la(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function i0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(la(arguments[t]));return e}function o0(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ft(e){return this instanceof Ft?(this.v=e,this):new Ft(e)}function a0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Ft?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function c0(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Ft(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function u0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof yn=="function"?yn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function l0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function d0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f0(e){return e&&e.__esModule?e:{default:e}}function h0(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function p0(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const g0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gn},__asyncDelegator:c0,__asyncGenerator:a0,__asyncValues:u0,__await:Ft,__awaiter:t0,__classPrivateFieldGet:h0,__classPrivateFieldSet:p0,__createBinding:n0,__decorate:Yh,__exportStar:s0,__extends:Qh,__generator:r0,__importDefault:f0,__importStar:d0,__makeTemplateObject:l0,__metadata:e0,__param:Jh,__read:la,__rest:Xh,__spread:i0,__spreadArrays:o0,__values:yn},Symbol.toStringTag,{value:"Module"})),da=Se(g0);var be={},Vs;function y0(){if(Vs)return be;Vs=1,Object.defineProperty(be,"__esModule",{value:!0}),be.supportsZeroByteGCM=be.supportsSubtleCrypto=be.supportsSecureRandom=be.supportsWebCrypto=void 0;var e=da,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}be.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}be.supportsSecureRandom=n;function i(o){return o&&t.every(function(a){return typeof o[a]=="function"})}be.supportsSubtleCrypto=i;function s(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!i(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return be.supportsZeroByteGCM=s,be}var qs;function fa(){return qs||(qs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=da;t.__exportStar(y0(),e)}(xr)),xr}var vr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mn=function(e,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mn(e,t)};function m0(e,t){mn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bn=function(){return bn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bn.apply(this,arguments)};function b0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function w0(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function A0(e,t){return function(r,n){t(r,n,e)}}function x0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function v0(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function _0(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function E0(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function S0(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function wn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ha(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function C0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ha(arguments[t]));return e}function R0(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Dt(e){return this instanceof Dt?(this.v=e,this):new Dt(e)}function B0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Dt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function O0(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Dt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function k0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wn=="function"?wn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function T0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function P0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function M0(e){return e&&e.__esModule?e:{default:e}}function N0(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I0(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const F0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return bn},__asyncDelegator:O0,__asyncGenerator:B0,__asyncValues:k0,__await:Dt,__awaiter:v0,__classPrivateFieldGet:N0,__classPrivateFieldSet:I0,__createBinding:E0,__decorate:w0,__exportStar:S0,__extends:m0,__generator:_0,__importDefault:M0,__importStar:P0,__makeTemplateObject:T0,__metadata:x0,__param:A0,__read:ha,__rest:b0,__spread:C0,__spreadArrays:R0,__values:wn},Symbol.toStringTag,{value:"Module"})),D0=Se(F0);var _r={},zs;function $0(){return zs||(zs=1,Object.defineProperty(_r,"__esModule",{value:!0})),_r}var Er={},Gs;function j0(){return Gs||(Gs=1,Object.defineProperty(Er,"__esModule",{value:!0})),Er}var Sr={},Ws;function L0(){return Ws||(Ws=1,Object.defineProperty(Sr,"__esModule",{value:!0})),Sr}var Cr={},Ks;function U0(){return Ks||(Ks=1,Object.defineProperty(Cr,"__esModule",{value:!0})),Cr}var ht={},Zs;function H0(){if(Zs)return ht;Zs=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return e.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return ht.isMsWindow=r,ht}var Qs;function pa(){return Qs||(Qs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=D0;t.__exportStar($0(),e),t.__exportStar(j0(),e),t.__exportStar(L0(),e),t.__exportStar(U0(),e),t.__exportStar(H0(),e)}(vr)),vr}var Xs;function V0(){if(Xs)return ut;Xs=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.Sha1=void 0;var e=ca(),t=ua(),r=fa(),n=pa(),i=tt,s=$e(),o=function(){function a(u){if((0,r.supportsWebCrypto)((0,i.locateWindow)()))this.hash=new t.Sha1(u);else if((0,n.isMsWindow)((0,i.locateWindow)()))this.hash=new e.Sha1(u);else throw new Error("SHA1 not supported")}return a.prototype.update=function(u,c){this.hash.update((0,s.convertToBuffer)(u))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return ut.Sha1=o,ut}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha1=e.Ie11Sha1=void 0;var t=Gh;t.__exportStar(V0(),e);var r=ca();Object.defineProperty(e,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=ua();Object.defineProperty(e,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(sa);var ga={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var An=function(e,t){return An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},An(e,t)};function q0(e,t){An(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xn=function(){return xn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xn.apply(this,arguments)};function z0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function G0(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function W0(e,t){return function(r,n){t(r,n,e)}}function K0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Z0(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Q0(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function X0(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Y0(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function vn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ya(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function J0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ya(arguments[t]));return e}function e1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function $t(e){return this instanceof $t?(this.v=e,this):new $t(e)}function t1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof $t?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function r1(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:$t(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function n1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vn=="function"?vn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function s1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function i1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o1(e){return e&&e.__esModule?e:{default:e}}function a1(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function c1(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const u1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return xn},__asyncDelegator:r1,__asyncGenerator:t1,__asyncValues:n1,__await:$t,__awaiter:Z0,__classPrivateFieldGet:a1,__classPrivateFieldSet:c1,__createBinding:X0,__decorate:G0,__exportStar:Y0,__extends:q0,__generator:Q0,__importDefault:o1,__importStar:i1,__makeTemplateObject:s1,__metadata:K0,__param:W0,__read:ya,__rest:z0,__spread:J0,__spreadArrays:e1,__values:vn},Symbol.toStringTag,{value:"Module"})),l1=Se(u1);var pt={},gt={},yt={},Ys;function d1(){if(Ys)return yt;Ys=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return yt.isEmptyData=e,yt}var Rr={},Js;function ma(){return Js||(Js=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Rr)),Rr}var ei;function ba(){if(ei)return gt;ei=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.Sha256=void 0;var e=d1(),t=ma(),r=sr,n=tt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();gt.Sha256=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return gt}var mt={},ti;function wa(){if(ti)return mt;ti=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.Sha256=void 0;var e=$e(),t=ma(),r=tt,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return mt.Sha256=n,mt}var Br={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _n=function(e,t){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_n(e,t)};function f1(e,t){_n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var En=function(){return En=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},En.apply(this,arguments)};function h1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function p1(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function g1(e,t){return function(r,n){t(r,n,e)}}function y1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function m1(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function b1(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function w1(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function A1(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Sn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Aa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function x1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Aa(arguments[t]));return e}function v1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function jt(e){return this instanceof jt?(this.v=e,this):new jt(e)}function _1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof jt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function E1(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:jt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function S1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Sn=="function"?Sn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function C1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function R1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function B1(e){return e&&e.__esModule?e:{default:e}}function O1(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k1(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const T1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return En},__asyncDelegator:E1,__asyncGenerator:_1,__asyncValues:S1,__await:jt,__awaiter:m1,__classPrivateFieldGet:O1,__classPrivateFieldSet:k1,__createBinding:w1,__decorate:p1,__exportStar:A1,__extends:f1,__generator:b1,__importDefault:B1,__importStar:R1,__makeTemplateObject:C1,__metadata:y1,__param:g1,__read:Aa,__rest:h1,__spread:x1,__spreadArrays:v1,__values:Sn},Symbol.toStringTag,{value:"Module"})),xa=Se(T1);var bt={},pe={},ri;function va(){return ri||(ri=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.MAX_HASHABLE_LENGTH=pe.INIT=pe.KEY=pe.DIGEST_LENGTH=pe.BLOCK_SIZE=void 0,pe.BLOCK_SIZE=64,pe.DIGEST_LENGTH=32,pe.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pe.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],pe.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),pe}var wt={},ni;function P1(){if(ni)return wt;ni=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.RawSha256=void 0;var e=va(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],u=s[2],c=s[3],l=s[4],h=s[5],d=s[6],p=s[7],y=0;y<e.BLOCK_SIZE;y++){if(y<16)this.temp[y]=(i[y*4]&255)<<24|(i[y*4+1]&255)<<16|(i[y*4+2]&255)<<8|i[y*4+3]&255;else{var x=this.temp[y-2],E=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10;x=this.temp[y-15];var O=(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3;this.temp[y]=(E+this.temp[y-7]|0)+(O+this.temp[y-16]|0)}var D=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&d)|0)+(p+(e.KEY[y]+this.temp[y]|0)|0)|0,z=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;p=d,d=h,h=l,l=c+D|0,c=u,u=a,a=o,o=D+z|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=l,s[5]+=h,s[6]+=d,s[7]+=p},r}();return wt.RawSha256=t,wt}var si;function M1(){if(si)return bt;si=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.Sha256=void 0;var e=xa,t=va(),r=P1(),n=$e(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();bt.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return bt}var ii;function N1(){return ii||(ii=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=xa;t.__exportStar(M1(),e)}(Br)),Br}var oi;function I1(){if(oi)return pt;oi=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.Sha256=void 0;var e=ba(),t=wa(),r=N1(),n=fa(),i=pa(),s=tt,o=$e(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,l){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return pt.Sha256=a,pt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=l1;t.__exportStar(I1(),e);var r=ba();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=wa();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(ga);const F1={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},_a={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},H={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ce={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ie={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class b{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=b.getVersionPrecision(t),s=b.getVersionPrecision(r);let o=Math.max(i,s),a=0;const u=b.map([t,r],c=>{const l=o-b.getVersionPrecision(c),h=c+new Array(l+1).join(".0");return b.map(h.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return F1[t]}static getBrowserTypeByAlias(t){return _a[t]||""}}const $=/version\/(\d+(\.?_?\d+)+)/i,D1=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=b.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=b.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=b.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=b.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=b.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=b.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=b.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=b.getFirstMatch($,e)||b.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=b.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=b.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=b.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=b.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=b.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=b.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=b.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=b.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=b.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=b.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=b.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=b.getFirstMatch($,e)||b.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=b.getFirstMatch($,e)||b.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=b.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=b.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=b.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=b.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=b.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=b.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=b.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=b.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=b.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=b.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:b.getFirstMatch(i,e),version:b.getSecondMatch(i,e)}}}],$1=[{test:[/Roku\/DVP/],describe(e){const t=b.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ce.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=b.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ce.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=b.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=b.getWindowsVersionName(t);return{name:ce.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ce.iOS},r=b.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=b.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=b.getMacOSVersionName(t),n={name:ce.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=b.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ce.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=b.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=b.getAndroidVersionName(t),n={name:ce.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=b.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:ce.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=b.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||b.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||b.getFirstMatch(/\bbb(\d+)/i,e);return{name:ce.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=b.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ce.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=b.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ce.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:ce.Linux}}},{test:[/CrOS/],describe(){return{name:ce.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=b.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ce.PlayStation4,version:t}}}],j1=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=b.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:H.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:H.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:H.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:H.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:H.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:H.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:H.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=b.getFirstMatch(/(ipod|iphone)/i,e);return{type:H.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:H.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:H.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:H.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:H.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:H.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:H.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:H.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:H.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:H.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:H.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:H.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:H.tv}}}],L1=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Ie.Blink};const r=b.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Ie.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:Ie.Trident},r=b.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Ie.Presto},r=b.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Ie.Gecko},r=b.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ie.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Ie.WebKit},r=b.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class ai{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=b.find(D1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=b.find($1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=b.find(j1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=b.find(L1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return b.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(i[a]=u,s+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=b.find(a,l=>this.isOS(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}const c=b.find(a,l=>this.isPlatform(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}}if(s>0){const a=Object.keys(i),u=b.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=b.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(b.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Ea{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new ai(t,r)}static parse(t){return new ai(t).getResult()}static get BROWSER_MAP(){return _a}static get ENGINE_MAP(){return Ie}static get OS_MAP(){return ce}static get PLATFORMS_MAP(){return H}}const U1=({serviceId:e,clientVersion:t})=>async()=>{var i,s,o,a,u;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?Ea.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((u=r==null?void 0:r.browser)==null?void 0:u.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n};function H1(e){let t=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:u,done:c}=await a.next();if(c){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=u.length;let h=0;for(;h<l;){if(!n){const p=l-h;i||(i=new Uint8Array(4));const y=Math.min(4-r,p);if(i.set(u.slice(h,h+y),r),r+=y,h+=y,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const d=Math.min(t-r,l-h);n.set(u.slice(h,h+d),r),r+=d,h+=d,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function V1(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await e(s);if(o.$unknown){const a=new Error(t(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await e(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let q1=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Wl(t,r),this.utfEncoder=t}deserialize(t,r){const n=H1(t);return new Ql({messageStream:new Kl({inputStream:n,decoder:this.eventStreamCodec}),deserializer:V1(r,this.utfEncoder)})}serialize(t,r){return new Zl({messageStream:new Xl({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const z1=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),G1=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await t.next();if(n)return r.close();r.enqueue(i)}})};class W1{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new q1({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=K1(t)?z1(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?G1(n):n}}const K1=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,Z1=e=>new W1(e);function Q1(e,t,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=e.size;let a=0;function u(){if(a>=o){n();return}s.readAsArrayBuffer(e.slice(a,Math.min(o,a+r)))}s.addEventListener("load",c=>{const l=c.target.result;t(new Uint8Array(l)),a+=l.byteLength,u()}),u()})}const X1=async function(t,r){const n=new t;return await Q1(r,i=>{n.update(i)}),n.digest()},Y1=e=>()=>Promise.reject(e),Te=64,J1=16,ep=[1732584193,4023233417,2562383102,271733878];class tp{constructor(){this.reset()}update(t){if(rp(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=np(t);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===Te&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%Te>=Te-8){for(let o=this.bufferLength;o<Te;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Te-8;o++)r.setUint8(o,0);r.setUint32(Te-8,s>>>0,!0),r.setUint32(Te-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(J1));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=ne(n,i,s,o,t.getUint32(0,!0),7,3614090360),o=ne(o,n,i,s,t.getUint32(4,!0),12,3905402710),s=ne(s,o,n,i,t.getUint32(8,!0),17,606105819),i=ne(i,s,o,n,t.getUint32(12,!0),22,3250441966),n=ne(n,i,s,o,t.getUint32(16,!0),7,4118548399),o=ne(o,n,i,s,t.getUint32(20,!0),12,1200080426),s=ne(s,o,n,i,t.getUint32(24,!0),17,2821735955),i=ne(i,s,o,n,t.getUint32(28,!0),22,4249261313),n=ne(n,i,s,o,t.getUint32(32,!0),7,1770035416),o=ne(o,n,i,s,t.getUint32(36,!0),12,2336552879),s=ne(s,o,n,i,t.getUint32(40,!0),17,4294925233),i=ne(i,s,o,n,t.getUint32(44,!0),22,2304563134),n=ne(n,i,s,o,t.getUint32(48,!0),7,1804603682),o=ne(o,n,i,s,t.getUint32(52,!0),12,4254626195),s=ne(s,o,n,i,t.getUint32(56,!0),17,2792965006),i=ne(i,s,o,n,t.getUint32(60,!0),22,1236535329),n=se(n,i,s,o,t.getUint32(4,!0),5,4129170786),o=se(o,n,i,s,t.getUint32(24,!0),9,3225465664),s=se(s,o,n,i,t.getUint32(44,!0),14,643717713),i=se(i,s,o,n,t.getUint32(0,!0),20,3921069994),n=se(n,i,s,o,t.getUint32(20,!0),5,3593408605),o=se(o,n,i,s,t.getUint32(40,!0),9,38016083),s=se(s,o,n,i,t.getUint32(60,!0),14,3634488961),i=se(i,s,o,n,t.getUint32(16,!0),20,3889429448),n=se(n,i,s,o,t.getUint32(36,!0),5,568446438),o=se(o,n,i,s,t.getUint32(56,!0),9,3275163606),s=se(s,o,n,i,t.getUint32(12,!0),14,4107603335),i=se(i,s,o,n,t.getUint32(32,!0),20,1163531501),n=se(n,i,s,o,t.getUint32(52,!0),5,2850285829),o=se(o,n,i,s,t.getUint32(8,!0),9,4243563512),s=se(s,o,n,i,t.getUint32(28,!0),14,1735328473),i=se(i,s,o,n,t.getUint32(48,!0),20,2368359562),n=ie(n,i,s,o,t.getUint32(20,!0),4,4294588738),o=ie(o,n,i,s,t.getUint32(32,!0),11,2272392833),s=ie(s,o,n,i,t.getUint32(44,!0),16,1839030562),i=ie(i,s,o,n,t.getUint32(56,!0),23,4259657740),n=ie(n,i,s,o,t.getUint32(4,!0),4,2763975236),o=ie(o,n,i,s,t.getUint32(16,!0),11,1272893353),s=ie(s,o,n,i,t.getUint32(28,!0),16,4139469664),i=ie(i,s,o,n,t.getUint32(40,!0),23,3200236656),n=ie(n,i,s,o,t.getUint32(52,!0),4,681279174),o=ie(o,n,i,s,t.getUint32(0,!0),11,3936430074),s=ie(s,o,n,i,t.getUint32(12,!0),16,3572445317),i=ie(i,s,o,n,t.getUint32(24,!0),23,76029189),n=ie(n,i,s,o,t.getUint32(36,!0),4,3654602809),o=ie(o,n,i,s,t.getUint32(48,!0),11,3873151461),s=ie(s,o,n,i,t.getUint32(60,!0),16,530742520),i=ie(i,s,o,n,t.getUint32(8,!0),23,3299628645),n=oe(n,i,s,o,t.getUint32(0,!0),6,4096336452),o=oe(o,n,i,s,t.getUint32(28,!0),10,1126891415),s=oe(s,o,n,i,t.getUint32(56,!0),15,2878612391),i=oe(i,s,o,n,t.getUint32(20,!0),21,4237533241),n=oe(n,i,s,o,t.getUint32(48,!0),6,1700485571),o=oe(o,n,i,s,t.getUint32(12,!0),10,2399980690),s=oe(s,o,n,i,t.getUint32(40,!0),15,4293915773),i=oe(i,s,o,n,t.getUint32(4,!0),21,2240044497),n=oe(n,i,s,o,t.getUint32(32,!0),6,1873313359),o=oe(o,n,i,s,t.getUint32(60,!0),10,4264355552),s=oe(s,o,n,i,t.getUint32(24,!0),15,2734768916),i=oe(i,s,o,n,t.getUint32(52,!0),21,1309151649),n=oe(n,i,s,o,t.getUint32(16,!0),6,4149444226),o=oe(o,n,i,s,t.getUint32(44,!0),10,3174756917),s=oe(s,o,n,i,t.getUint32(8,!0),15,718787259),i=oe(i,s,o,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(ep),this.buffer=new DataView(new ArrayBuffer(Te)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function or(e,t,r,n,i,s){return t=(t+e&4294967295)+(n+s&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function ne(e,t,r,n,i,s,o){return or(t&r|~t&n,e,t,i,s,o)}function se(e,t,r,n,i,s,o){return or(t&n|r&~n,e,t,i,s,o)}function ie(e,t,r,n,i,s,o){return or(t^r^n,e,t,i,s,o)}function oe(e,t,r,n,i,s,o){return or(r^(t|~n),e,t,i,s,o)}function rp(e){return typeof e=="string"?e.length===0:e.byteLength===0}function np(e){return typeof e=="string"?Ut(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const sp=e=>{if(typeof e=="string"){let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},ip={CrtSignerV4:null};class op{constructor(t){this.sigv4Signer=new cn(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=ip.CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Vn="required",f="type",g="conditions",w="fn",A="argv",P="ref",ee="assign",C="url",R="properties",Ce="authSchemes",Re="disableDoubleEncoding",Be="signingName",je="signingRegion",B="headers",ci=!1,ve=!0,_e="isSet",v="tree",ae="booleanEquals",S="error",tr="aws.partition",U="stringEquals",q="getAttr",me="name",At="substring",Sa="hardwareType",Ca="regionPrefix",ui="bucketAliasSuffix",Cn="outpostId",Ke="isValidHostLabel",Ae="not",Ra="parseURL",qn="s3-outposts",_="endpoint",li="aws.isVirtualHostableS3Bucket",Je="s3",Ba="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Oa="{url#scheme}://{Bucket}.{url#authority}{url#path}",ka="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",di="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Ta="aws.parseArn",Pa="bucketArn",Ma="arnType",rr="",zn="s3-object-lambda",Na="accesspoint",Gn="accessPointName",fi="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",hi="mrapPartition",pi="outpostType",gi="arnPrefix",Ia="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",yi="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Rn="{url#scheme}://{url#authority}{url#path}",mi="https://s3.{partitionResult#dnsSuffix}",Or={[Vn]:!1,[f]:"String"},Ze={[Vn]:!0,default:!1,[f]:"Boolean"},kr={[Vn]:!1,[f]:"Boolean"},we={[w]:ae,[A]:[{[P]:"Accelerate"},!0]},L={[w]:ae,[A]:[{[P]:"UseFIPS"},!0]},j={[w]:ae,[A]:[{[P]:"UseDualStack"},!0]},V={[w]:_e,[A]:[{[P]:"Endpoint"}]},Fa={[w]:tr,[A]:[{[P]:"Region"}],[ee]:"partitionResult"},bi={[w]:U,[A]:[{[w]:q,[A]:[{[P]:"partitionResult"},me]},"aws-cn"]},Da={[w]:_e,[A]:[{[P]:"Bucket"}]},Ee={[P]:"Bucket"},wi={[P]:Sa},Ai={[g]:[{[w]:Ae,[A]:[V]}],[S]:"Expected a endpoint to be specified but no endpoint was found",[f]:S},T={[w]:Ae,[A]:[V]},ue={[w]:Ra,[A]:[{[P]:"Endpoint"}],[ee]:"url"},zt={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:qn,[je]:"{Region}"}]},N={},Tr={[w]:ae,[A]:[{[P]:"ForcePathStyle"},!1]},ap={[P]:"ForcePathStyle"},G={[w]:ae,[A]:[{[P]:"Accelerate"},!1]},Z={[w]:U,[A]:[{[P]:"Region"},"aws-global"]},Q={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:Je,[je]:"us-east-1"}]},F={[w]:Ae,[A]:[Z]},X={[w]:ae,[A]:[{[P]:"UseGlobalEndpoint"},!0]},xi={[C]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[R]:{[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:Je,[je]:"{Region}"}]},[B]:{}},K={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:Je,[je]:"{Region}"}]},Y={[w]:ae,[A]:[{[P]:"UseGlobalEndpoint"},!1]},I={[w]:ae,[A]:[{[P]:"UseDualStack"},!1]},vi={[C]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},M={[w]:ae,[A]:[{[P]:"UseFIPS"},!1]},_i={[C]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},Ei={[C]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},Pr={[w]:ae,[A]:[{[w]:q,[A]:[{[P]:"url"},"isIp"]},!0]},$a={[P]:"url"},Mr={[w]:ae,[A]:[{[w]:q,[A]:[$a,"isIp"]},!1]},Nr={[C]:Ba,[R]:K,[B]:{}},Bn={[C]:Oa,[R]:K,[B]:{}},Si={[_]:Bn,[f]:_},Ir={[C]:ka,[R]:K,[B]:{}},Ci={[C]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},Gt={[S]:"Invalid region: region was not a valid DNS name.",[f]:S},fe={[P]:Pa},ja={[P]:Ma},Fr={[w]:q,[A]:[fe,"service"]},Wn={[P]:Gn},Ri={[g]:[j],[S]:"S3 Object Lambda does not support Dual-stack",[f]:S},Bi={[g]:[we],[S]:"S3 Object Lambda does not support S3 Accelerate",[f]:S},Oi={[g]:[{[w]:_e,[A]:[{[P]:"DisableAccessPoints"}]},{[w]:ae,[A]:[{[P]:"DisableAccessPoints"},!0]}],[S]:"Access points are not supported for this operation",[f]:S},Dr={[g]:[{[w]:_e,[A]:[{[P]:"UseArnRegion"}]},{[w]:ae,[A]:[{[P]:"UseArnRegion"},!1]},{[w]:Ae,[A]:[{[w]:U,[A]:[{[w]:q,[A]:[fe,"region"]},"{Region}"]}]}],[S]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:S},La={[w]:q,[A]:[{[P]:"bucketPartition"},me]},Ua={[w]:q,[A]:[fe,"accountId"]},$r={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:zn,[je]:"{bucketArn#region}"}]},ki={[S]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:S},jr={[S]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:S},Lr={[S]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:S},Ur={[S]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:S},Ti={[S]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:S},Pi={[S]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:S},xt={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:Je,[je]:"{bucketArn#region}"}]},Mi={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:qn,[je]:"{bucketArn#region}"}]},Ni={[w]:Ta,[A]:[Ee]},Ii={[C]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:K,[B]:{}},Fi={[C]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:K,[B]:{}},Di={[C]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:K,[B]:{}},Hr={[C]:Ia,[R]:K,[B]:{}},$i={[C]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:K,[B]:{}},ji={[P]:"UseObjectLambdaEndpoint"},Vr={[Ce]:[{[Re]:!0,[me]:"sigv4",[Be]:zn,[je]:"{Region}"}]},Li={[C]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},Ui={[C]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},Hi={[C]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},qr={[C]:Rn,[R]:K,[B]:{}},Vi={[C]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[R]:K,[B]:{}},zr=[{[P]:"Region"}],cp=[{[P]:"Endpoint"}],qi=[Ee],zi=[{[w]:Ke,[A]:[{[P]:Cn},!1]}],Gi=[{[w]:U,[A]:[{[P]:Ca},"beta"]}],vt=[V,ue],Wi=[Da],Pe=[Fa],Ki=[{[w]:Ke,[A]:[{[P]:"Region"},!1]}],Me=[{[w]:U,[A]:[{[P]:"Region"},"us-east-1"]}],Gr=[{[w]:U,[A]:[ja,Na]}],Zi=[{[w]:q,[A]:[fe,"resourceId[1]"],[ee]:Gn},{[w]:Ae,[A]:[{[w]:U,[A]:[Wn,rr]}]}],up=[fe,"resourceId[1]"],Qi=[j],Wr=[we],Kr=[{[w]:Ae,[A]:[{[w]:U,[A]:[{[w]:q,[A]:[fe,"region"]},rr]}]}],Xi=[{[w]:Ae,[A]:[{[w]:_e,[A]:[{[w]:q,[A]:[fe,"resourceId[2]"]}]}]}],lp=[fe,"resourceId[2]"],Zr=[{[w]:tr,[A]:[{[w]:q,[A]:[fe,"region"]}],[ee]:"bucketPartition"}],Yi=[{[w]:U,[A]:[La,{[w]:q,[A]:[{[P]:"partitionResult"},me]}]}],Qr=[{[w]:Ke,[A]:[{[w]:q,[A]:[fe,"region"]},!0]}],Xr=[{[w]:Ke,[A]:[Ua,!1]}],Ji=[{[w]:Ke,[A]:[Wn,!1]}],Wt=[L],eo=[{[w]:Ke,[A]:[{[P]:"Region"},!0]}],dp={version:"1.0",parameters:{Bucket:Or,Region:Or,UseFIPS:Ze,UseDualStack:Ze,Endpoint:Or,ForcePathStyle:Ze,Accelerate:Ze,UseGlobalEndpoint:Ze,UseObjectLambdaEndpoint:kr,DisableAccessPoints:kr,DisableMultiRegionAccessPoints:Ze,UseArnRegion:kr},rules:[{[g]:[{[w]:_e,[A]:zr}],[f]:v,rules:[{[g]:[we,L],error:"Accelerate cannot be used with FIPS",[f]:S},{[g]:[j,V],error:"Cannot set dual-stack in combination with a custom endpoint.",[f]:S},{[g]:[V,L],error:"A custom endpoint cannot be combined with FIPS",[f]:S},{[g]:[V,we],error:"A custom endpoint cannot be combined with S3 Accelerate",[f]:S},{[g]:[L,Fa,bi],error:"Partition does not support FIPS",[f]:S},{[g]:[Da,{[w]:At,[A]:[Ee,49,50,ve],[ee]:Sa},{[w]:At,[A]:[Ee,8,12,ve],[ee]:Ca},{[w]:At,[A]:[Ee,0,7,ve],[ee]:ui},{[w]:At,[A]:[Ee,32,49,ve],[ee]:Cn},{[w]:tr,[A]:zr,[ee]:"regionPartition"},{[w]:U,[A]:[{[P]:ui},"--op-s3"]}],[f]:v,rules:[{[g]:zi,[f]:v,rules:[{[g]:[{[w]:U,[A]:[wi,"e"]}],[f]:v,rules:[{[g]:Gi,[f]:v,rules:[Ai,{[g]:vt,endpoint:{[C]:"https://{Bucket}.ec2.{url#authority}",[R]:zt,[B]:N},[f]:_}]},{endpoint:{[C]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[R]:zt,[B]:N},[f]:_}]},{[g]:[{[w]:U,[A]:[wi,"o"]}],[f]:v,rules:[{[g]:Gi,[f]:v,rules:[Ai,{[g]:vt,endpoint:{[C]:"https://{Bucket}.op-{outpostId}.{url#authority}",[R]:zt,[B]:N},[f]:_}]},{endpoint:{[C]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[R]:zt,[B]:N},[f]:_}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:S}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:S}]},{[g]:Wi,[f]:v,rules:[{[g]:[V,{[w]:Ae,[A]:[{[w]:_e,[A]:[{[w]:Ra,[A]:cp}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:S},{[g]:[Tr,{[w]:li,[A]:[Ee,ci]}],[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:Ki,[f]:v,rules:[{[g]:[we,bi],error:"S3 Accelerate cannot be used in this region",[f]:S},{[g]:[j,L,G,T,Z],endpoint:{[C]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[j,L,G,T,F,X],[f]:v,rules:[{endpoint:xi,[f]:_}]},{[g]:[j,L,G,T,F,Y],endpoint:xi,[f]:_},{[g]:[I,L,G,T,Z],endpoint:{[C]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[I,L,G,T,F,X],[f]:v,rules:[{endpoint:vi,[f]:_}]},{[g]:[I,L,G,T,F,Y],endpoint:vi,[f]:_},{[g]:[j,M,we,T,Z],endpoint:{[C]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[j,M,we,T,F,X],[f]:v,rules:[{endpoint:_i,[f]:_}]},{[g]:[j,M,we,T,F,Y],endpoint:_i,[f]:_},{[g]:[j,M,G,T,Z],endpoint:{[C]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[j,M,G,T,F,X],[f]:v,rules:[{endpoint:Ei,[f]:_}]},{[g]:[j,M,G,T,F,Y],endpoint:Ei,[f]:_},{[g]:[I,M,G,V,ue,Pr,Z],endpoint:{[C]:Ba,[R]:Q,[B]:N},[f]:_},{[g]:[I,M,G,V,ue,Mr,Z],endpoint:{[C]:Oa,[R]:Q,[B]:N},[f]:_},{[g]:[I,M,G,V,ue,Pr,F,X],[f]:v,rules:[{[g]:Me,endpoint:Nr,[f]:_},{endpoint:Nr,[f]:_}]},{[g]:[I,M,G,V,ue,Mr,F,X],[f]:v,rules:[{[g]:Me,endpoint:Bn,[f]:_},Si]},{[g]:[I,M,G,V,ue,Pr,F,Y],endpoint:Nr,[f]:_},{[g]:[I,M,G,V,ue,Mr,F,Y],endpoint:Bn,[f]:_},{[g]:[I,M,we,T,Z],endpoint:{[C]:ka,[R]:Q,[B]:N},[f]:_},{[g]:[I,M,we,T,F,X],[f]:v,rules:[{[g]:Me,endpoint:Ir,[f]:_},{endpoint:Ir,[f]:_}]},{[g]:[I,M,we,T,F,Y],endpoint:Ir,[f]:_},{[g]:[I,M,G,T,Z],endpoint:{[C]:di,[R]:Q,[B]:N},[f]:_},{[g]:[I,M,G,T,F,X],[f]:v,rules:[{[g]:Me,endpoint:{[C]:di,[R]:K,[B]:N},[f]:_},{endpoint:Ci,[f]:_}]},{[g]:[I,M,G,T,F,Y],endpoint:Ci,[f]:_}]},Gt]}]},{[g]:[V,ue,{[w]:U,[A]:[{[w]:q,[A]:[$a,"scheme"]},"http"]},{[w]:li,[A]:[Ee,ve]},Tr,M,I,G],[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:Ki,[f]:v,rules:[Si]},Gt]}]},{[g]:[Tr,{[w]:Ta,[A]:qi,[ee]:Pa}],[f]:v,rules:[{[g]:[{[w]:q,[A]:[fe,"resourceId[0]"],[ee]:Ma},{[w]:Ae,[A]:[{[w]:U,[A]:[ja,rr]}]}],[f]:v,rules:[{[g]:[{[w]:U,[A]:[Fr,zn]}],[f]:v,rules:[{[g]:Gr,[f]:v,rules:[{[g]:Zi,[f]:v,rules:[Ri,Bi,{[g]:Kr,[f]:v,rules:[Oi,{[g]:Xi,[f]:v,rules:[Dr,{[g]:Zr,[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:Yi,[f]:v,rules:[{[g]:Qr,[f]:v,rules:[{[g]:[{[w]:U,[A]:[Ua,rr]}],error:"Invalid ARN: Missing account id",[f]:S},{[g]:Xr,[f]:v,rules:[{[g]:Ji,[f]:v,rules:[{[g]:vt,endpoint:{[C]:fi,[R]:$r,[B]:N},[f]:_},{[g]:Wt,endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:$r,[B]:N},[f]:_},{endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:$r,[B]:N},[f]:_}]},ki]},jr]},Lr]},Ur]}]}]},Ti]},{error:"Invalid ARN: bucket ARN is missing a region",[f]:S}]},Pi]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:S}]},{[g]:Gr,[f]:v,rules:[{[g]:Zi,[f]:v,rules:[{[g]:Kr,[f]:v,rules:[{[g]:Gr,[f]:v,rules:[{[g]:Kr,[f]:v,rules:[Oi,{[g]:Xi,[f]:v,rules:[Dr,{[g]:Zr,[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:[{[w]:U,[A]:[La,"{partitionResult#name}"]}],[f]:v,rules:[{[g]:Qr,[f]:v,rules:[{[g]:[{[w]:U,[A]:[Fr,Je]}],[f]:v,rules:[{[g]:Xr,[f]:v,rules:[{[g]:Ji,[f]:v,rules:[{[g]:Wr,error:"Access Points do not support S3 Accelerate",[f]:S},{[g]:[L,j],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:xt,[B]:N},[f]:_},{[g]:[L,I],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:xt,[B]:N},[f]:_},{[g]:[M,j],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:xt,[B]:N},[f]:_},{[g]:[M,I,V,ue],endpoint:{[C]:fi,[R]:xt,[B]:N},[f]:_},{[g]:[M,I],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:xt,[B]:N},[f]:_}]},ki]},jr]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:S}]},Lr]},Ur]}]}]},Ti]}]}]},{[g]:[{[w]:Ke,[A]:[Wn,ve]}],[f]:v,rules:[{[g]:Qi,error:"S3 MRAP does not support dual-stack",[f]:S},{[g]:Wt,error:"S3 MRAP does not support FIPS",[f]:S},{[g]:Wr,error:"S3 MRAP does not support S3 Accelerate",[f]:S},{[g]:[{[w]:ae,[A]:[{[P]:"DisableMultiRegionAccessPoints"},ve]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:S},{[g]:[{[w]:tr,[A]:zr,[ee]:hi}],[f]:v,rules:[{[g]:[{[w]:U,[A]:[{[w]:q,[A]:[{[P]:hi},me]},{[w]:q,[A]:[fe,"partition"]}]}],[f]:v,rules:[{endpoint:{[C]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[R]:{[Ce]:[{[Re]:ve,name:"sigv4a",[Be]:Je,signingRegionSet:["*"]}]},[B]:N},[f]:_}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:S}]}]},{error:"Invalid Access Point Name",[f]:S}]},Pi]},{[g]:[{[w]:U,[A]:[Fr,qn]}],[f]:v,rules:[{[g]:Qi,error:"S3 Outposts does not support Dual-stack",[f]:S},{[g]:Wt,error:"S3 Outposts does not support FIPS",[f]:S},{[g]:Wr,error:"S3 Outposts does not support S3 Accelerate",[f]:S},{[g]:[{[w]:_e,[A]:[{[w]:q,[A]:[fe,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:S},{[g]:[{[w]:q,[A]:up,[ee]:Cn}],[f]:v,rules:[{[g]:zi,[f]:v,rules:[Dr,{[g]:Zr,[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:Yi,[f]:v,rules:[{[g]:Qr,[f]:v,rules:[{[g]:Xr,[f]:v,rules:[{[g]:[{[w]:q,[A]:lp,[ee]:pi}],[f]:v,rules:[{[g]:[{[w]:q,[A]:[fe,"resourceId[3]"],[ee]:Gn}],[f]:v,rules:[{[g]:[{[w]:U,[A]:[{[P]:pi},Na]}],[f]:v,rules:[{[g]:vt,endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[R]:Mi,[B]:N},[f]:_},{endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[R]:Mi,[B]:N},[f]:_}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:S}]},{error:"Invalid ARN: expected an access point name",[f]:S}]},{error:"Invalid ARN: Expected a 4-component resource",[f]:S}]},jr]},Lr]},Ur]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:S}]},{error:"Invalid ARN: The Outpost Id was not set",[f]:S}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:S}]},{error:"Invalid ARN: No ARN type specified",[f]:S}]},{[g]:[{[w]:At,[A]:[Ee,0,4,ci],[ee]:gi},{[w]:U,[A]:[{[P]:gi},"arn:"]},{[w]:Ae,[A]:[{[w]:_e,[A]:[Ni]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:S},{[g]:[{[w]:ae,[A]:[ap,ve]},Ni],error:"Path-style addressing cannot be used with ARN buckets",[f]:S},{[g]:[{[w]:"uriEncode",[A]:qi,[ee]:"uri_encoded_bucket"}],[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:[G],[f]:v,rules:[{[g]:[j,T,L,Z],endpoint:{[C]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:Q,[B]:N},[f]:_},{[g]:[j,T,L,F,X],[f]:v,rules:[{endpoint:Ii,[f]:_}]},{[g]:[j,T,L,F,Y],endpoint:Ii,[f]:_},{[g]:[I,T,L,Z],endpoint:{[C]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:Q,[B]:N},[f]:_},{[g]:[I,T,L,F,X],[f]:v,rules:[{endpoint:Fi,[f]:_}]},{[g]:[I,T,L,F,Y],endpoint:Fi,[f]:_},{[g]:[j,T,M,Z],endpoint:{[C]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[R]:Q,[B]:N},[f]:_},{[g]:[j,T,M,F,X],[f]:v,rules:[{endpoint:Di,[f]:_}]},{[g]:[j,T,M,F,Y],endpoint:Di,[f]:_},{[g]:[I,V,ue,M,Z],endpoint:{[C]:Ia,[R]:Q,[B]:N},[f]:_},{[g]:[I,V,ue,M,F,X],[f]:v,rules:[{[g]:Me,endpoint:Hr,[f]:_},{endpoint:Hr,[f]:_}]},{[g]:[I,V,ue,M,F,Y],endpoint:Hr,[f]:_},{[g]:[I,T,M,Z],endpoint:{[C]:yi,[R]:Q,[B]:N},[f]:_},{[g]:[I,T,M,F,X],[f]:v,rules:[{[g]:Me,endpoint:{[C]:yi,[R]:K,[B]:N},[f]:_},{endpoint:$i,[f]:_}]},{[g]:[I,T,M,F,Y],endpoint:$i,[f]:_}]},{error:"Path-style addressing cannot be used with S3 Accelerate",[f]:S}]}]}]},{[g]:[{[w]:_e,[A]:[ji]},{[w]:ae,[A]:[ji,ve]}],[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:eo,[f]:v,rules:[Ri,Bi,{[g]:vt,endpoint:{[C]:Rn,[R]:Vr,[B]:N},[f]:_},{[g]:Wt,endpoint:{[C]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[R]:Vr,[B]:N},[f]:_},{endpoint:{[C]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[R]:Vr,[B]:N},[f]:_}]},Gt]}]},{[g]:[{[w]:Ae,[A]:Wi}],[f]:v,rules:[{[g]:Pe,[f]:v,rules:[{[g]:eo,[f]:v,rules:[{[g]:[L,j,T,Z],endpoint:{[C]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[L,j,T,F,X],[f]:v,rules:[{endpoint:Li,[f]:_}]},{[g]:[L,j,T,F,Y],endpoint:Li,[f]:_},{[g]:[L,I,T,Z],endpoint:{[C]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[L,I,T,F,X],[f]:v,rules:[{endpoint:Ui,[f]:_}]},{[g]:[L,I,T,F,Y],endpoint:Ui,[f]:_},{[g]:[M,j,T,Z],endpoint:{[C]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[R]:Q,[B]:N},[f]:_},{[g]:[M,j,T,F,X],[f]:v,rules:[{endpoint:Hi,[f]:_}]},{[g]:[M,j,T,F,Y],endpoint:Hi,[f]:_},{[g]:[M,I,V,ue,Z],endpoint:{[C]:Rn,[R]:Q,[B]:N},[f]:_},{[g]:[M,I,V,ue,F,X],[f]:v,rules:[{[g]:Me,endpoint:qr,[f]:_},{endpoint:qr,[f]:_}]},{[g]:[M,I,V,ue,F,Y],endpoint:qr,[f]:_},{[g]:[M,I,T,Z],endpoint:{[C]:mi,[R]:Q,[B]:N},[f]:_},{[g]:[M,I,T,F,X],[f]:v,rules:[{[g]:Me,endpoint:{[C]:mi,[R]:K,[B]:N},[f]:_},{endpoint:Vi,[f]:_}]},{[g]:[M,I,T,F,Y],endpoint:Vi,[f]:_}]},Gt]}]}]},{error:"A region must be set when sending requests to S3.",[f]:S}]},fp=dp,hp=(e,t={})=>Gd(fp,{endpointParams:e,logger:t.logger}),pp=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??Fn,base64Encoder:(e==null?void 0:e.base64Encoder)??Dn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??hp,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??gu,logger:(e==null?void 0:e.logger)??new Ao,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??Su,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??op,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Jt,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Ut,utf8Encoder:(e==null?void 0:e.utf8Encoder)??nr}),gp=["in-region","cross-region","mobile","standard","legacy"],yp=({defaultsMode:e}={})=>Co(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(mp()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${gp.join(", ")}, got ${t}`)}}),mp=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?Ea.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},bp=e=>{const t=yp(e),r=()=>t().then(Mu),n=pp(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??sp,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??U1({serviceId:n.serviceId,clientVersion:Sh.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??Z1,maxAttempts:(e==null?void 0:e.maxAttempts)??er,md5:(e==null?void 0:e.md5)??tp,region:(e==null?void 0:e.region)??Y1("Region is missing"),requestHandler:(e==null?void 0:e.requestHandler)??new Au(r),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await r()).retryMode||kf),sha1:(e==null?void 0:e.sha1)??sa.Sha1,sha256:(e==null?void 0:e.sha256)??ga.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??xo,streamHasher:(e==null?void 0:e.streamHasher)??X1,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(of)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(af))}},wp=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},Ap=e=>({region:e.region()}),Yr=e=>e,xp=(e,t)=>{const r={...Yr(wp(e)),...Yr($u(e)),...Yr(Kc(e))};return t.forEach(n=>n.configure(r)),{...e,...Ap(r),...ju(r),...Zc(r)}};class vp extends du{constructor(...[t]){const r=bp(t||{}),n=oh(r),i=cf(n),s=Of(i),o=Yf(s),a=o,u=xd(a),c=Ju(u),l=Rd(c),h=uf(l),d=xp(h,(t==null?void 0:t.extensions)||[]);super(d),this.config=d,this.middlewareStack.use(sh(this.config)),this.middlewareStack.use(ff(this.config)),this.middlewareStack.use(ru(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(lu(this.config)),this.middlewareStack.use(Cd(this.config)),this.middlewareStack.use(nl(this.config)),this.middlewareStack.use(Jc(this.config)),this.middlewareStack.use(Yu(this.config)),this.middlewareStack.use(sf(this.config))}destroy(){super.destroy()}}var Kn={},ar={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,u){const c=[];let l=u.exec(a);for(;l;){const h=[];h.startIndex=u.lastIndex-l[0].length;const d=l.length;for(let p=0;p<d;p++)h.push(l[p]);c.push(h),l=u.exec(a)}return c},o=function(a){const u=i.exec(a);return!(u===null||typeof u>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,u,c){if(u){const l=Object.keys(u),h=l.length;for(let d=0;d<h;d++)c==="strict"?a[l[d]]=[u[l[d]]]:a[l[d]]=u[l[d]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=o,e.getAllMatches=s,e.nameRegexp=n})(ar);const Zn=ar,_p={allowBooleanAttributes:!1,unpairedTags:[]};Kn.validate=function(e,t){t=Object.assign({},_p,t);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=ro(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=no(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let u="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)u+=e[s];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),s--),!Tp(u)){let h;return u.trim().length===0?h="Invalid space after '<'.":h="Tag '"+u+"' is an invalid name.",W("InvalidTag",h,de(e,s))}const c=Cp(e,s);if(c===!1)return W("InvalidAttr","Attributes for '"+u+"' have open quote.",de(e,s));let l=c.value;if(s=c.index,l[l.length-1]==="/"){const h=s-l.length;l=l.substring(0,l.length-1);const d=so(l,t);if(d===!0)n=!0;else return W(d.err.code,d.err.msg,de(e,h+d.err.line))}else if(a)if(c.tagClosed){if(l.trim().length>0)return W("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",de(e,o));{const h=r.pop();if(u!==h.tagName){let d=de(e,h.tagStartPos);return W("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+d.line+", col "+d.col+") instead of closing tag '"+u+"'.",de(e,o))}r.length==0&&(i=!0)}}else return W("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",de(e,s));else{const h=so(l,t);if(h!==!0)return W(h.err.code,h.err.msg,de(e,s-l.length+h.err.line));if(i===!0)return W("InvalidXml","Multiple possible root nodes found.",de(e,s));t.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=no(e,s);continue}else if(e[s+1]==="?"){if(s=ro(e,++s),s.err)return s}else break;else if(e[s]==="&"){const h=Op(e,s);if(h==-1)return W("InvalidChar","char '&' is not expected.",de(e,s));s=h}else if(i===!0&&!to(e[s]))return W("InvalidXml","Extra text at the end",de(e,s));e[s]==="<"&&s--}}else{if(to(e[s]))continue;return W("InvalidChar","char '"+e[s]+"' is not expected.",de(e,s))}if(n){if(r.length==1)return W("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",de(e,r[0].tagStartPos));if(r.length>0)return W("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return W("InvalidXml","Start tag expected.",1);return!0};function to(e){return e===" "||e==="	"||e===`
`||e==="\r"}function ro(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return W("InvalidXml","XML declaration allowed only at the start of the document.",de(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function no(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const Ep='"',Sp="'";function Cp(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Ep||e[t]===Sp)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const Rp=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function so(e,t){const r=Zn.getAllMatches(e,Rp),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return W("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",_t(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return W("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",_t(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return W("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",_t(r[i]));const s=r[i][2];if(!kp(s))return W("InvalidAttr","Attribute '"+s+"' is an invalid name.",_t(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return W("InvalidAttr","Attribute '"+s+"' is repeated.",_t(r[i]))}return!0}function Bp(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Op(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Bp(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function W(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function kp(e){return Zn.isName(e)}function Tp(e){return Zn.isName(e)}function de(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function _t(e){return e.startIndex+e[1].length}var Qn={};const Ha={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},Pp=function(e){return Object.assign({},Ha,e)};Qn.buildOptions=Pp;Qn.defaultOptions=Ha;class Mp{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var Np=Mp;const Ip=ar;function Fp(e,t){const r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&jp(e,t))t+=7,[entityName,val,t]=Dp(e,t+1),val.indexOf("&")===-1&&(r[Vp(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&Lp(e,t))t+=8;else if(i&&Up(e,t))t+=8;else if(i&&Hp(e,t))t+=9;else if($p)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Dp(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function $p(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function jp(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Lp(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Up(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Hp(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Vp(e){if(Ip.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var qp=Fp;const zp=/^[-+]?0x[a-fA-F0-9]+$/,Gp=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Wp={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Kp(e,t={}){if(t=Object.assign({},Wp,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&zp.test(r))return Number.parseInt(r,16);{const n=Gp.exec(r);if(n){const i=n[1],s=n[2];let o=Zp(n[3]);const a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{const u=Number(r),c=""+u;return c.search(/[eE]/)!==-1||a?t.eNotation?u:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?u:e:s?o===c||i+o===c?u:e:r===c||r===i+c?u:e}}else return e}}function Zp(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var Qp=Kp;const Xn=ar,Et=Np,Xp=qp,Yp=Qp;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Xn.nameRegexp);let Jp=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=eg,this.parseXml=ig,this.parseTextData=tg,this.resolveNameSpace=rg,this.buildAttributesMap=sg,this.isItStopNode=ug,this.replaceEntitiesValue=ag,this.readStopNodeData=dg,this.saveTextToParentTag=cg,this.addChild=og}};function eg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function tg(e,t,r,n,i,s,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,r,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?kn(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?kn(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function rg(e){if(this.options.removeNSPrefix){const t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}const ng=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function sg(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){const n=Xn.getAllMatches(e,ng),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let u=n[o][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);const l=this.options.attributeValueProcessor(a,u,t);l==null?s[c]=u:typeof l!=typeof u||l!==u?s[c]=l:s[c]=kn(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const ig=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Et("!xml");let r=t,n="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=ze(e,">",s,"Closing Tag is not closed.");let u=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const h=u.indexOf(":");h!==-1&&(u=u.substr(h+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let l=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=On(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const u=new Et(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,u,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=ze(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=Xp(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=ze(e,"]]>",s,"CDATA is not closed.")-2,u=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let c=this.parseTextData(u,r.tagname,i,!0,!1,!0);c==null&&(c=""),r.add(this.options.textNodeName,c)}s=a+2}else{let a=On(e,s,this.options.removeNSPrefix),u=a.tagName,c=a.tagExp,l=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const d=r;if(d&&this.options.unpairedTags.indexOf(d.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==t.tagname&&(i+=i?"."+u:u),this.isItStopNode(this.options.stopNodes,i,u)){let p="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)s=a.closeIndex;else{const x=this.readStopNodeData(e,u,h+1);if(!x)throw new Error(`Unexpected end of ${u}`);s=x.i,p=x.tagContent}const y=new Et(u);u!==c&&l&&(y[":@"]=this.buildAttributesMap(c,i,u)),p&&(p=this.parseTextData(p,u,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),y.add(this.options.textNodeName,p),this.addChild(r,y,i)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const p=new Et(u);u!==c&&l&&(p[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,p,i),i=i.substr(0,i.lastIndexOf("."))}else{const p=new Et(u);this.tagsNodeStack.push(r),u!==c&&l&&(p[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,p,i),r=p}n="",s=h}}else n+=e[s];return t.child};function og(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}const ag=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function cg(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ug(e,t,r){const n="*."+r;for(const i in e){const s=e[i];if(n===s||t===s)return!0}return!1}function lg(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let o=e[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function ze(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function On(e,t,r,n=">"){const i=lg(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let u=s,c=!0;if(a!==-1&&(u=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const l=u.indexOf(":");l!==-1&&(u=u.substr(l+1),c=u!==i.data.substr(l+1))}return{tagName:u,tagExp:s,closeIndex:o,attrExpPresent:c}}function dg(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){const s=ze(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=ze(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=ze(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=ze(e,"]]>",r,"StopNode is not closed.")-2;else{const s=On(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function kn(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:Yp(e,r)}else return Xn.isExist(e)?e:""}var fg=Jp,Va={};function hg(e,t){return qa(e,t)}function qa(e,t,r){let n;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=pg(o);let u="";if(r===void 0?u=a:u=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=qa(o[a],t,u);const l=yg(c,t);o[":@"]?gg(c,o[":@"],u,t):Object.keys(c).length===1&&c[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?c=c[t.textNodeName]:Object.keys(c).length===0&&(t.alwaysCreateTextNode?c[t.textNodeName]="":c=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):t.isArray(a,u,l)?i[a]=[c]:i[a]=c}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function pg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function gg(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function yg(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Va.prettify=hg;const{buildOptions:mg}=Qn,bg=fg,{prettify:wg}=Va,Ag=Kn;let xg=class{constructor(t){this.externalEntities={},this.options=mg(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=Ag.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new bg(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:wg(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};var vg=xg;const _g=`
`;function Eg(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=_g),za(e,t,"",r)}function za(e,t,r,n){let i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o],u=Sg(a);let c="";if(r.length===0?c=u:c=`${r}.${u}`,u===t.textNodeName){let y=a[u];Cg(c,t)||(y=t.tagValueProcessor(u,y),y=Ga(y,t)),s&&(i+=n),i+=y,s=!1;continue}else if(u===t.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[u][0][t.textNodeName]}]]>`,s=!1;continue}else if(u===t.commentPropName){i+=n+`<!--${a[u][0][t.textNodeName]}-->`,s=!0;continue}else if(u[0]==="?"){const y=io(a[":@"],t),x=u==="?xml"?"":n;let E=a[u][0][t.textNodeName];E=E.length!==0?" "+E:"",i+=x+`<${u}${E}${y}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);const h=io(a[":@"],t),d=n+`<${u}${h}`,p=za(a[u],t,c,l);t.unpairedTags.indexOf(u)!==-1?t.suppressUnpairedNode?i+=d+">":i+=d+"/>":(!p||p.length===0)&&t.suppressEmptyNode?i+=d+"/>":p&&p.endsWith(">")?i+=d+`>${p}${n}</${u}>`:(i+=d+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?i+=n+t.indentBy+p+n:i+=p,i+=`</${u}>`),s=!0}return i}function Sg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function io(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=Ga(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function Cg(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Ga(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}var Rg=Eg;const Bg=Rg,Og={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Le(e){this.options=Object.assign({},Og,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Pg),this.processTextOrObjNode=kg,this.options.format?(this.indentate=Tg,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Le.prototype.build=function(e){return this.options.preserveOrder?Bg(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Le.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const s=e[i].length;let o="";for(let a=0;a<s;a++){const u=e[i][a];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?this.options.oneListGroup?o+=this.j2x(u,t+1).val:o+=this.processTextOrObjNode(u,i,t):o+=this.buildTextValNode(u,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+e[i][s[a]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};Le.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function kg(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Le.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",i=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}};Le.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Le.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};Le.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Tg(e){return this.options.indentBy.repeat(e)}function Pg(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var Mg=Le;const Ng=Kn,Ig=vg,Fg=Mg;var Dg={XMLParser:Ig,XMLValidator:Ng,XMLBuilder:Fg};class Yn extends jn{constructor(t){super(t),Object.setPrototypeOf(this,Yn.prototype)}}var oo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(oo||(oo={}));var ao;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ao||(ao={}));var co;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(co||(co={}));var uo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(uo||(uo={}));const $g=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Rt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Rt}}),jg=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Rt},...e.SSEKMSKeyId&&{SSEKMSKeyId:Rt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Rt}}),Lg=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=We({},Ve,{"x-amz-mfa":e.MFA,"x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>Ve(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner});let a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Yt(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Yt(a,e,"Key",()=>e.Key,"{Key+}",!0);const u=We({"x-id":[,"DeleteObject"],versionId:[,e.VersionId]});let c;return new le({protocol:n,hostname:r,port:i,method:"DELETE",headers:o,path:a,query:u,body:c})},Ug=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=We({},Ve,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>Ve(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>Ve(e.Expires),()=>Bu(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>Ve(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>Ve(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((h,d)=>(h[`x-amz-meta-${d.toLowerCase()}`]=e.Metadata[d],h),{})});let a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Yt(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Yt(a,e,"Key",()=>e.Key,"{Key+}",!0);const u=We({"x-id":[,"PutObject"]});let c;e.Body!==void 0&&(c=e.Body);let l;return e.Body!==void 0&&(l=e.Body,c=l),new le({protocol:n,hostname:r,port:i,method:"PUT",headers:o,path:a,query:u,body:c})},Hg=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Vg(e,t);const r=We({$metadata:Ka(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>Eo(e.headers["x-amz-delete-marker"])],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await $n(e.body,t),r},Vg=async(e,t)=>{const r={...e,body:await Za(e.body,t)},n=Qa(e,r.body),i=r.body;return Wa({output:e,parsedBody:i,errorCode:n})},qg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return zg(e,t);const r=We({$metadata:Ka(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Eo(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await $n(e.body,t),r},zg=async(e,t)=>{const r={...e,body:await Za(e.body,t)},n=Qa(e,r.body),i=r.body;return Wa({output:e,parsedBody:i,errorCode:n})},Wa=Tu(Yn),Ka=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Gg=(e,t)=>$n(e,t).then(r=>t.utf8Encoder(r)),Ve=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Wg=(e,t)=>Gg(e,t).then(r=>{if(r.length){const n=new Dg.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);const i=n.parse(r),s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),So(a)}return{}}),Za=async(e,t)=>{const r=await Wg(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Qa=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};function Kg(e){return t=>async r=>{let n={...r.input};const i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const o=n[s.target];if(o){const a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):typeof o=="string"?e.utf8Decoder(o):new Uint8Array(o),u=e.base64Encoder(a),c=new e.md5;c.update(a),n={...n,[s.target]:u,[s.hash]:e.base64Encoder(await c.digest())}}}return t({...r,input:n})}}const Zg={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Qg=e=>({applyToStack:t=>{t.add(Kg(e),Zg)}});class Jn extends _o{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Yo(r,this.serialize,this.deserialize)),this.middlewareStack.use(Jo(r,Jn.getEndpointParameterInstructions()));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[wo]:{service:"AmazonS3",operation:"DeleteObject"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Lg(t,r)}deserialize(t,r){return Hg(t,r)}}var te;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(te||(te={}));var lo;(function(e){e.HEADER="header",e.TRAILER="trailer"})(lo||(lo={}));const Tn=[te.CRC32,te.CRC32C,te.SHA1,te.SHA256],Xg=[te.CRC32,te.CRC32C,te.SHA1,te.SHA256],Yg=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?te.MD5:void 0;const n=e[r];if(!Tn.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${Tn}.`);return n},es=e=>e===te.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,Jg=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},ts=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!$o(e);var Jr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pn=function(e,t){return Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Pn(e,t)};function ey(e,t){Pn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Mn=function(){return Mn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mn.apply(this,arguments)};function ty(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ry(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function ny(e,t){return function(r,n){t(r,n,e)}}function sy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function iy(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function oy(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ay(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function cy(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Nn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function uy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xa(arguments[t]));return e}function ly(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Lt(e){return this instanceof Lt?(this.v=e,this):new Lt(e)}function dy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(p){return new Promise(function(y,x){s.push([d,p,y,x])>1||a(d,p)})})}function a(d,p){try{u(n[d](p))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Lt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fy(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Lt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function hy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Nn=="function"?Nn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function py(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function gy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function yy(e){return e&&e.__esModule?e:{default:e}}function my(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function by(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const wy=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Mn},__asyncDelegator:fy,__asyncGenerator:dy,__asyncValues:hy,__await:Lt,__awaiter:iy,__classPrivateFieldGet:my,__classPrivateFieldSet:by,__createBinding:ay,__decorate:ry,__exportStar:cy,__extends:ey,__generator:oy,__importDefault:yy,__importStar:gy,__makeTemplateObject:py,__metadata:sy,__param:ny,__read:Xa,__rest:ty,__spread:uy,__spreadArrays:ly,__values:Nn},Symbol.toStringTag,{value:"Module"})),Ya=Se(wy);var St={},fo;function Ay(){if(fo)return St;fo=1,Object.defineProperty(St,"__esModule",{value:!0}),St.AwsCrc32c=void 0;var e=Ya,t=$e(),r=Ja(),n=function(){function i(){this.crc32c=new r.Crc32c}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32c.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32c.digest())]})})},i.prototype.reset=function(){this.crc32c=new r.Crc32c},i}();return St.AwsCrc32c=n,St}var ho;function Ja(){return ho||(ho=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32c=e.Crc32c=e.crc32c=void 0;var t=Ya,r=$e();function n(u){return new i().update(u).digest()}e.crc32c=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,h;try{for(var d=t.__values(c),p=d.next();!p.done;p=d.next()){var y=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(x){l={error:x}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32c=i;var s=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(s),a=Ay();Object.defineProperty(e,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(Jr)),Jr}var xy=Ja();const ec=(e,t)=>({[te.MD5]:t.md5,[te.CRC32]:Ln.AwsCrc32,[te.CRC32C]:xy.AwsCrc32c,[te.SHA1]:t.sha1,[te.SHA256]:t.sha256})[e],tc=(e,t)=>{const r=new e;return r.update(Xe(t||"")),r.digest()},vy={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},_y=(e,t)=>r=>async n=>{if(!le.isInstance(n.request))return r(n);const{request:i}=n,{body:s,headers:o}=i,{base64Encoder:a,streamHasher:u}=e,{input:c,requestChecksumRequired:l,requestAlgorithmMember:h}=t,d=Yg(c,{requestChecksumRequired:l,requestAlgorithmMember:h});let p=s,y=o;if(d){const E=es(d),O=ec(d,e);if(ts(s)){const{getAwsChunkedEncodingStream:D,bodyLengthChecker:z}=e;p=D(s,{base64Encoder:a,bodyLengthChecker:z,checksumLocationName:E,checksumAlgorithmFn:O,streamHasher:u}),y={...o,"content-encoding":o["content-encoding"]?`${o["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":o["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":E},delete y["content-length"]}else if(!Jg(E,o)){const D=await tc(O,s);y={...o,[E]:a(D)}}}return await r({...n,request:{...i,headers:y,body:p}})},rc=(e=[])=>{const t=[];for(const r of Xg)!e.includes(r)||!Tn.includes(r)||t.push(r);return t},Ey=e=>{const t=e.lastIndexOf("-");if(t!==-1){const r=e.slice(t+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function po(e){return new Blob([e]).stream()}const Sy=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{const i=ts(e)?t(r,e):tc(r,e);return n(await i)},Cy=async(e,{config:t,responseAlgorithms:r})=>{const n=rc(r),{body:i,headers:s}=e;for(const o of n){const a=es(o),u=s[a];if(u){const c=ec(o,t),{streamHasher:l,base64Encoder:h}=t,d=await Sy(i,{streamHasher:l,checksumAlgorithmFn:c,base64Encoder:h});if(d===u)break;throw new Error(`Checksum mismatch: expected "${d}" but received "${u}" in response header "${a}".`)}}},Ry={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},By=(e,t)=>(r,n)=>async i=>{if(!le.isInstance(i.request))return r(i);const s=i.input,o=await r(i),a=o.response;let u;const{requestValidationModeMember:c,responseAlgorithms:l}=t;if(c&&s[c]==="ENABLED"){const{clientName:h,commandName:d}=n;if(h==="S3Client"&&d==="GetObjectCommand"&&rc(l).every(x=>{const E=es(x),O=a.headers[E];return!O||Ey(O)}))return o;const y=ts(a.body);y&&(u=await e.streamCollector(a.body),a.body=po(u)),await Cy(o.response,{config:e,responseAlgorithms:l}),y&&u&&(a.body=po(u))}return o},Oy=(e,t)=>({applyToStack:r=>{r.add(_y(e,t),vy),r.addRelativeTo(By(e,t),Ry)}});class rs extends _o{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Yo(r,this.serialize,this.deserialize)),this.middlewareStack.use(Jo(r,rs.getEndpointParameterInstructions())),this.middlewareStack.use(Wu()),this.middlewareStack.use(Qg(r)),this.middlewareStack.use(Oy(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:jg,outputFilterSensitiveLog:$g,[wo]:{service:"AmazonS3",operation:"PutObject"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Ug(t,r)}deserialize(t,r){return qg(t,r)}}const go=new vp({credentials:{accessKeyId:"AKIAUYLYB5SDXB2XX6UH",secretAccessKey:"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"},region:"ap-southeast-1"}),ky=/image\/(png|jpg|jpeg|webp)/i,In="banner/home-banner",Ty=`https://d2uw95hyyeoa8w.cloudfront.net/${In}`,Py=e=>{const[t,r]=k.useState(!1),n=async o=>{if(o.target.files){if(!o.target.files[0].type.match(ky))return Ot(kt.error,"Chỉ cho phép up ảnh định dạng .png, .jpg, .jpeg, .webp!","error");await i(),await s(o.target.files[0])}},i=async()=>{const o=new Jn({Bucket:"bicycle-vuong-phat",Key:In});await go.send(o)},s=async o=>{try{const a=new rs({Bucket:"bicycle-vuong-phat",Key:In,Body:o});if((await go.send(a)).$metadata.httpStatusCode!==200)throw new Error("Upload ảnh không thành công, vui lòng thử lại!");r(!t)}catch(a){console.error(a)}};return m.jsx("header",{className:"sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none",children:m.jsxs("div",{className:"flex flex-grow items-center justify-between py-4 px-4 shadow-2 md:px-6 2xl:px-11",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 lg:hidden",children:[m.jsx("button",{"aria-controls":"sidebar",onClick:o=>{o.stopPropagation(),e.setSidebarOpen(!e.sidebarOpen)},className:"z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark lg:hidden",children:m.jsxs("span",{className:"relative block h-5.5 w-5.5 cursor-pointer",children:[m.jsxs("span",{className:"du-block absolute right-0 h-full w-full",children:[m.jsx("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-300"}`}),m.jsx("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-150 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"delay-400 !w-full"}`}),m.jsx("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-200 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-500"}`})]}),m.jsxs("span",{className:"absolute right-0 h-full w-full rotate-45",children:[m.jsx("span",{className:`absolute left-2.5 top-0 block h-full w-0.5 rounded-sm bg-black delay-300 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-[0]"}`}),m.jsx("span",{className:`delay-400 absolute left-0 top-2.5 block h-0.5 w-full rounded-sm bg-black duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-200"}`})]})]})}),m.jsx(mo,{className:"block flex-shrink-0 lg:hidden",to:"/",children:m.jsx("img",{src:Lc,alt:"Logo"})})]}),m.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[m.jsxs("label",{htmlFor:"upload-banner",children:[m.jsx("img",{src:Ty,className:"w-24 cursor-pointer",alt:"app-banner"}),m.jsx("input",{type:"file",onChange:n,id:"upload-banner",className:"sr-only"})]}),m.jsx("p",{className:"text-[9px] text-meta-1 italic",children:"* Click vào ảnh để upload banner cho app"})]}),m.jsxs("div",{className:"flex items-center gap-3 2xsm:gap-7",children:[m.jsxs("ul",{className:"flex items-center gap-2 2xsm:gap-4",children:[m.jsx(Vc,{}),m.jsx(qc,{})]}),m.jsx(Wc,{})]})]})})},My=k.lazy(()=>re(()=>import("./PageNotFound-1368102a.js"),["assets/PageNotFound-1368102a.js","assets/index-859cc947.js","assets/index-ead94c81.css"])),Ny=()=>{const[e,t]=k.useState(!1);return m.jsx("div",{className:"dark:bg-boxdark-2 dark:text-bodydark",children:m.jsxs("div",{className:"flex h-screen overflow-hidden",children:[m.jsx(jc,{sidebarOpen:e,setSidebarOpen:t}),m.jsxs("div",{className:"relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[m.jsx(Py,{sidebarOpen:e,setSidebarOpen:t}),m.jsx("main",{children:m.jsx("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10",children:m.jsx(hc,{children:m.jsxs(m.Fragment,{children:[Fc.map(({path:r,index:n,element:i})=>m.jsx(ns,{index:n,path:r,element:m.jsx(k.Suspense,{fallback:m.jsx(en,{}),children:m.jsx(i,{})})},r)),m.jsx(ns,{path:"*",element:m.jsx(k.Suspense,{fallback:m.jsx(en,{}),children:m.jsx(My,{})})})]})})})})]})]})})},Ly=Object.freeze(Object.defineProperty({__proto__:null,default:Ny},Symbol.toStringTag,{value:"Module"}));export{Gc as A,Ly as L,rs as P,go as s};
