import{u as N,a as F,R as v,j as e,m as k,L as y,o as C}from"./index-1af29815.js";import{P as E}from"./Pagination-9bdf28ee.js";import{E as w,b as D}from"./order.query-fe48979d.js";import{c as o}from"./config.util-005c10b6.js";import{c as r}from"./index-b4678794.js";import{t as S}from"./index-a533a413.js";import{u as L}from"./useQuery-aad4b6b2.js";import"./base-e8aaf39e.js";import"./utils-93dc330f.js";import"./suspense-438fba71.js";const A=({title:d})=>{const{search:x}=N(),m=F(),t=new URLSearchParams(x),l=Number(t.get("page"))||o.pagination.PAGE,i=Number(t.get("limit"))||o.pagination.LIMIT,c=t.get("status"),[u,g]=v.useState([new Date(new Date().getFullYear(),new Date().getMonth(),1),new Date(new Date().getFullYear(),new Date().getMonth()+1,0)]),[p,h]=u,{data:n,isLoading:b}=L({queryKey:["orders",{page:l,limit:i,status:c}],queryFn:()=>D(l,i,c)}),f=n&&n.totalOrderStatus[t.get("status")??"all"];console.log(n);const a=s=>{t.delete("page"),t.delete("limit"),s==="all"?t.delete("status"):t.set("status",s),m({search:t.toString()})},j=()=>{};return b?e.jsx(k,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-10 mb-4",children:[e.jsxs("div",{className:"w-full inline-flex items-center justify-between",children:[e.jsx("h4",{className:"text-xl font-semibold text-black dark:text-white",children:d}),e.jsxs("div",{className:"inline-flex items-center gap-4",children:[e.jsx("button",{type:"button",className:"text-xs underline",onClick:j,children:"Xuất đơn hàng"}),e.jsx(S,{className:"text-black bg-[#FBE69E] hover:bg-[#FFC700]/90 focus:ring-2 focus:outline-none focus:ring-[#FFC700]/50 font-medium rounded-lg text-xs px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 cursor-pointer",selectsRange:!0,startDate:p,endDate:h,onChange:s=>g(s),isClearable:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>a("all"),type:"button",className:r("text-black bg-[#F3F3F3] hover:bg-[#FFC700]/90 focus:ring-2 focus:outline-none focus:ring-[#FFC700]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 mr-2 mb-2",{"bg-[#FBE69E]":!t.get("status")}),children:["Tất cả (",n.totalOrderStatus.all,")"]}),e.jsxs("button",{onClick:()=>a("pending"),type:"button",className:r("text-black bg-[#F3F3F3] hover:bg-[#FFC700]/90 focus:ring-2 focus:outline-none focus:ring-[#FFC700]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 mr-2 mb-2",{"bg-[#FBE69E]":t.get("status")==="pending"}),children:["Đang xử lý (",n.totalOrderStatus.pending,")"]}),e.jsxs("button",{onClick:()=>a("transported"),type:"button",className:r("text-black bg-[#F3F3F3] hover:bg-[#FFC700]/90 focus:ring-2 focus:outline-none focus:ring-[#FFC700]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 mr-2 mb-2",{"bg-[#FBE69E]":t.get("status")==="transported"}),children:["Đang vận chuyển (",n.totalOrderStatus.transported,")"]}),e.jsxs("button",{onClick:()=>a("success"),type:"button",className:r("text-black bg-[#F3F3F3] hover:bg-[#FFC700]/90 focus:ring-2 focus:outline-none focus:ring-[#FFC700]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 mr-2 mb-2",{"bg-[#FBE69E]":t.get("status")==="success"}),children:["Đã giao hàng (",n.totalOrderStatus.success,")"]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-3 rounded-sm dark:bg-meta-4 sm:grid-cols-5 border-b border-stroke",children:[e.jsx("div",{className:"p-2.5 xl:p-5",children:e.jsx("h5",{className:"text-sm font-bold xsm:text-base",children:"ID"})}),e.jsx("div",{className:"p-2.5 xl:p-5",children:e.jsx("h5",{className:"text-sm font-bold xsm:text-base",children:"Ngày"})}),e.jsx("div",{className:"p-2.5 xl:p-5",children:e.jsx("h5",{className:"text-sm font-bold xsm:text-base",children:"Tên đơn hàng"})}),e.jsx("div",{className:"p-2.5 xl:p-5",children:e.jsx("h5",{className:"text-sm font-bold xsm:text-base",children:"Giá trị"})}),e.jsx("div",{className:"p-2.5 xl:p-5",children:e.jsx("h5",{className:"text-sm text-right font-bold xsm:text-base",children:"Trạng thái"})})]}),n.orders.length>0&&n.orders.map(s=>e.jsxs("div",{className:"grid grid-cols-3 border-stroke py-2 dark:border-strokedark sm:grid-cols-5",children:[e.jsx(y,{to:`/order/${s.id}`,className:"hidden sm:flex items-center gap-3 p-2.5 xl:p-5",children:e.jsx("p",{className:"text-xs underline",children:s.orderCode})}),e.jsx("div",{className:"flex items-center p-2.5 xl:p-5",children:e.jsx("p",{className:"text-xs",children:"01/09/2023"})}),e.jsx("div",{className:"flex items-center p-2.5 xl:p-5",children:e.jsx("p",{className:"text-xs",children:s.orderLines[0].id})}),e.jsx("div",{className:"items-center p-2.5 sm:flex xl:p-5",children:e.jsxs("p",{className:"text-xs",children:[e.jsx("span",{className:"underline",children:"đ"}),C(s.totalPrice)]})}),e.jsx("div",{className:"p-2.5 xl:p-5",children:e.jsx("p",{className:"text-xs text-right",children:w[s.status]})})]},s.id)),n.orders.length>0&&e.jsx("div",{className:"flex justify-center items-center my-4",children:e.jsx(E,{page:l,limit:i,total:f})})]})]})};export{A as default};
