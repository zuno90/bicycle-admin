import{S as Fr,y as Oe,z as Ue,A as Tr,B as Pr,C as y,p as pr,g as ae,R as Ir,j as Rr,D as Lr,F as Mr}from"./index-14c677d6.js";import{u as zr}from"./utils-8c03d758.js";import{Q as Br,u as Hr,a as $r,e as Kr,b as Qr,c as Nr,s as We,f as Ve,w as Ur,g as Wr}from"./suspense-822c0285.js";import{c as T}from"./config.util-005c10b6.js";import{P as E,p as u}from"./index-5f67c92d.js";class Vr extends Fr{constructor(r,t){super(),this.client=r,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(r=>{r.subscribe(t=>{this.onUpdate(r,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(r=>{r.destroy()})}setQueries(r,t){this.queries=r,Oe.batch(()=>{const n=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,t));const o=i.map(c=>c.observer),s=Object.fromEntries(o.map(c=>[c.options.queryHash,c])),a=o.map(c=>c.getCurrentResult()),l=o.some((c,v)=>c!==n[v]);n.length===o.length&&!l||(this.observers=o,this.observersMap=s,this.result=a,this.hasListeners()&&(Ue(n,o).forEach(c=>{c.destroy()}),Ue(o,n).forEach(c=>{c.subscribe(v=>{this.onUpdate(c,v)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(r=>r.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(r){return this.findMatchingObservers(r).map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions))}findMatchingObservers(r){const t=this.observers,n=new Map(t.map(d=>[d.options.queryHash,d])),i=r.map(d=>this.client.defaultQueryOptions(d)),o=i.flatMap(d=>{const m=n.get(d.queryHash);return m!=null?[{defaultedQueryOptions:d,observer:m}]:[]}),s=new Set(o.map(d=>d.defaultedQueryOptions.queryHash)),a=i.filter(d=>!s.has(d.queryHash)),l=new Set(o.map(d=>d.observer)),c=t.filter(d=>!l.has(d)),v=d=>{const m=this.client.defaultQueryOptions(d),b=this.observersMap[m.queryHash];return b??new Br(this.client,m)},p=a.map((d,m)=>{if(d.keepPreviousData){const b=c[m];if(b!==void 0)return{defaultedQueryOptions:d,observer:b}}return{defaultedQueryOptions:d,observer:v(d)}}),g=(d,m)=>i.indexOf(d.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return o.concat(p).sort(g)}onUpdate(r,t){const n=this.observers.indexOf(r);n!==-1&&(this.result=Tr(this.result,n,t),this.notify())}notify(){Oe.batch(()=>{this.listeners.forEach(({listener:r})=>{r(this.result)})})}}function at({queries:e,context:r}){const t=Pr({context:r}),n=Hr(),i=$r(),o=y.useMemo(()=>e.map(g=>{const d=t.defaultQueryOptions(g);return d._optimisticResults=n?"isRestoring":"optimistic",d}),[e,t,n]);o.forEach(g=>{Kr(g),Qr(g,i)}),Nr(i);const[s]=y.useState(()=>new Vr(t,o)),a=s.getOptimisticResult(o);zr(y.useCallback(g=>n?()=>{}:s.subscribe(Oe.batchCalls(g)),[s,n]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),y.useEffect(()=>{s.setQueries(o,{listeners:!1})},[o,s]);const c=a.some((g,d)=>We(o[d],g,n))?a.flatMap((g,d)=>{const m=o[d],b=s.getObservers()[d];if(m&&b){if(We(m,g,n))return Ve(m,b,i);Ur(g,n)&&Ve(m,b,i)}return[]}):[];if(c.length>0)throw Promise.all(c);const v=s.getQueries(),p=a.find((g,d)=>{var m,b;return Wr({result:g,errorResetBoundary:i,useErrorBoundary:(m=(b=o[d])==null?void 0:b.useErrorBoundary)!=null?m:!1,query:v[d]})});if(p!=null&&p.error)throw p.error;return a}const st=async()=>{const e=await pr(`${T.endpoint}/categories`,{Authorization:`Bearer ${ae(T.cache.accessToken)}`});if(e.success)return e.data.categories},ut=async()=>{const e=await pr(`${T.endpoint}/sizes`,{Authorization:`Bearer ${ae(T.cache.accessToken)}`});if(e.success)return e.data.sizes};function $(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(v){try{c(n.next(v))}catch(p){s(p)}}function l(v){try{c(n.throw(v))}catch(p){s(p)}}function c(v){v.done?o(v.value):i(v.value).then(a,l)}c((n=n.apply(e,r||[])).next())})}function K(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(v){return l([c,v])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(v){c=[6,v],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function qe(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function Ge(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var qr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function V(e,r){var t=Gr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Gr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=qr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Yr=[".DS_Store","Thumbs.db"];function Jr(e){return $(this,void 0,void 0,function(){return K(this,function(r){return ne(e)&&Xr(e.dataTransfer)?[2,nn(e.dataTransfer,e.type)]:Zr(e)?[2,en(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,rn(e)]:[2,[]]})})}function Xr(e){return ne(e)}function Zr(e){return ne(e)&&ne(e.target)}function ne(e){return typeof e=="object"&&e!==null}function en(e){return De(e.target.files).map(function(r){return V(r)})}function rn(e){return $(this,void 0,void 0,function(){var r;return K(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return V(n)})]}})})}function nn(e,r){return $(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:return e.items?(t=De(e.items).filter(function(o){return o.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(tn))]):[3,2];case 1:return n=i.sent(),[2,Ye(dr(n))];case 2:return[2,Ye(De(e.files).map(function(o){return V(o)}))]}})})}function Ye(e){return e.filter(function(r){return Yr.indexOf(r.name)===-1})}function De(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function tn(e){if(typeof e.webkitGetAsEntry!="function")return Je(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?vr(r):Je(e)}function dr(e){return e.reduce(function(r,t){return Ge(Ge([],qe(r),!1),qe(Array.isArray(t)?dr(t):[t]),!1)},[])}function Je(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=V(r);return Promise.resolve(t)}function on(e){return $(this,void 0,void 0,function(){return K(this,function(r){return[2,e.isDirectory?vr(e):an(e)]})})}function vr(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function o(){var s=this;r.readEntries(function(a){return $(s,void 0,void 0,function(){var l,c,v;return K(this,function(p){switch(p.label){case 0:if(a.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=p.sent(),t(l),[3,4];case 3:return c=p.sent(),n(c),[3,4];case 4:return[3,6];case 5:v=Promise.all(a.map(on)),i.push(v),o(),p.label=6;case 6:return[2]}})})},function(a){n(a)})}o()})}function an(e){return $(this,void 0,void 0,function(){return K(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var o=V(i,e.fullPath);t(o)},function(i){n(i)})})]})})}var sn=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function Xe(e){return ln(e)||cn(e)||gr(e)||un()}function un(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ln(e){if(Array.isArray(e))return Ce(e)}function Ze(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function er(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ze(Object(t),!0).forEach(function(n){hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ze(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function W(e,r){return dn(e)||pn(e,r)||gr(e,r)||fn()}function fn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,r){if(e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pn(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,a;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return n}}function dn(e){if(Array.isArray(e))return e}var vn="file-invalid-type",hn="file-too-large",gn="file-too-small",mn="too-many-files",yn=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:vn,message:"File type must be ".concat(t)}},rr=function(r){return{code:hn,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},nr=function(r){return{code:gn,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},bn={code:mn,message:"Too many files"};function mr(e,r){var t=e.type==="application/x-moz-file"||sn(e,r);return[t,t?null:yn(r)]}function yr(e,r,t){if(R(e.size))if(R(r)&&R(t)){if(e.size>t)return[!1,rr(t)];if(e.size<r)return[!1,nr(r)]}else{if(R(r)&&e.size<r)return[!1,nr(r)];if(R(t)&&e.size>t)return[!1,rr(t)]}return[!0,null]}function R(e){return e!=null}function En(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&r.length>1||o&&s>=1&&r.length>s?!1:r.every(function(l){var c=mr(l,t),v=W(c,1),p=v[0],g=yr(l,n,i),d=W(g,1),m=d[0],b=a?a(l):null;return p&&m&&!b})}function te(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function re(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tr(e){e.preventDefault()}function wn(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function On(e){return e.indexOf("Edge/")!==-1}function Dn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wn(e)||On(e)}function x(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return r.some(function(a){return!te(n)&&a&&a.apply(void 0,[n].concat(o)),te(n)})}}function Cn(){return"showOpenFilePicker"in window}function _n(e){if(R(e)){var r=Object.entries(e).filter(function(t){var n=W(t,2),i=n[0],o=n[1],s=!0;return br(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(Er))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(t,n){var i=W(n,2),o=i[0],s=i[1];return er(er({},t),{},hr({},o,s))},{});return[{description:"Files",accept:r}]}return e}function Sn(e){if(R(e))return Object.entries(e).reduce(function(r,t){var n=W(t,2),i=n[0],o=n[1];return[].concat(Xe(r),[i],Xe(o))},[]).filter(function(r){return br(r)||Er(r)}).join(",")}function An(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function kn(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function br(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Er(e){return/^.*\.[\w]+$/.test(e)}var xn=["children"],jn=["open"],Fn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Tn=["refKey","onChange","onClick"];function Pn(e){return Ln(e)||Rn(e)||wr(e)||In()}function In(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ln(e){if(Array.isArray(e))return _e(e)}function be(e,r){return Bn(e)||zn(e,r)||wr(e,r)||Mn()}function Mn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wr(e,r){if(e){if(typeof e=="string")return _e(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _e(e,r)}}function _e(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zn(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,a;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return n}}function Bn(e){if(Array.isArray(e))return e}function or(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?or(Object(t),!0).forEach(function(n){Se(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):or(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Se(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oe(e,r){if(e==null)return{};var t=Hn(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Hn(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var je=y.forwardRef(function(e,r){var t=e.children,n=oe(e,xn),i=$n(n),o=i.open,s=oe(i,jn);return y.useImperativeHandle(r,function(){return{open:o}},[o]),Ir.createElement(y.Fragment,null,t(w(w({},s),{},{open:o})))});je.displayName="Dropzone";var Or={disabled:!1,getFilesFromEvent:Jr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};je.defaultProps=Or;je.propTypes={children:E.func,accept:E.objectOf(E.arrayOf(E.string)),multiple:E.bool,preventDropOnDocument:E.bool,noClick:E.bool,noKeyboard:E.bool,noDrag:E.bool,noDragEventsBubbling:E.bool,minSize:E.number,maxSize:E.number,maxFiles:E.number,disabled:E.bool,getFilesFromEvent:E.func,onFileDialogCancel:E.func,onFileDialogOpen:E.func,useFsAccessApi:E.bool,autoFocus:E.bool,onDragEnter:E.func,onDragLeave:E.func,onDragOver:E.func,onDrop:E.func,onDropAccepted:E.func,onDropRejected:E.func,onError:E.func,validator:E.func};var Ae={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=w(w({},Or),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,o=r.maxSize,s=r.minSize,a=r.multiple,l=r.maxFiles,c=r.onDragEnter,v=r.onDragLeave,p=r.onDragOver,g=r.onDrop,d=r.onDropAccepted,m=r.onDropRejected,b=r.onFileDialogCancel,A=r.onFileDialogOpen,j=r.useFsAccessApi,F=r.autoFocus,L=r.preventDropOnDocument,Fe=r.noClick,se=r.noKeyboard,Te=r.noDrag,P=r.noDragEventsBubbling,ue=r.onError,Q=r.validator,N=y.useMemo(function(){return Sn(t)},[t]),Pe=y.useMemo(function(){return _n(t)},[t]),ce=y.useMemo(function(){return typeof A=="function"?A:ir},[A]),q=y.useMemo(function(){return typeof b=="function"?b:ir},[b]),C=y.useRef(null),k=y.useRef(null),_r=y.useReducer(Kn,Ae),Ie=be(_r,2),le=Ie[0],_=Ie[1],Sr=le.isFocused,Re=le.isFileDialogActive,G=y.useRef(typeof window<"u"&&window.isSecureContext&&j&&Cn()),Le=function(){!G.current&&Re&&setTimeout(function(){if(k.current){var h=k.current.files;h.length||(_({type:"closeDialog"}),q())}},300)};y.useEffect(function(){return window.addEventListener("focus",Le,!1),function(){window.removeEventListener("focus",Le,!1)}},[k,Re,q,G]);var M=y.useRef([]),Me=function(h){C.current&&C.current.contains(h.target)||(h.preventDefault(),M.current=[])};y.useEffect(function(){return L&&(document.addEventListener("dragover",tr,!1),document.addEventListener("drop",Me,!1)),function(){L&&(document.removeEventListener("dragover",tr),document.removeEventListener("drop",Me))}},[C,L]),y.useEffect(function(){return!n&&F&&C.current&&C.current.focus(),function(){}},[C,F,n]);var I=y.useCallback(function(f){ue?ue(f):console.error(f)},[ue]),ze=y.useCallback(function(f){f.preventDefault(),f.persist(),Z(f),M.current=[].concat(Pn(M.current),[f.target]),re(f)&&Promise.resolve(i(f)).then(function(h){if(!(te(f)&&!P)){var O=h.length,D=O>0&&En({files:h,accept:N,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:Q}),S=O>0&&!D;_({isDragAccept:D,isDragReject:S,isDragActive:!0,type:"setDraggedFiles"}),c&&c(f)}}).catch(function(h){return I(h)})},[i,c,I,P,N,s,o,a,l,Q]),Be=y.useCallback(function(f){f.preventDefault(),f.persist(),Z(f);var h=re(f);if(h&&f.dataTransfer)try{f.dataTransfer.dropEffect="copy"}catch{}return h&&p&&p(f),!1},[p,P]),He=y.useCallback(function(f){f.preventDefault(),f.persist(),Z(f);var h=M.current.filter(function(D){return C.current&&C.current.contains(D)}),O=h.indexOf(f.target);O!==-1&&h.splice(O,1),M.current=h,!(h.length>0)&&(_({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),re(f)&&v&&v(f))},[C,v,P]),Y=y.useCallback(function(f,h){var O=[],D=[];f.forEach(function(S){var U=mr(S,N),H=be(U,2),pe=H[0],de=H[1],ve=yr(S,s,o),ee=be(ve,2),he=ee[0],ge=ee[1],me=Q?Q(S):null;if(pe&&he&&!me)O.push(S);else{var ye=[de,ge];me&&(ye=ye.concat(me)),D.push({file:S,errors:ye.filter(function(jr){return jr})})}}),(!a&&O.length>1||a&&l>=1&&O.length>l)&&(O.forEach(function(S){D.push({file:S,errors:[bn]})}),O.splice(0)),_({acceptedFiles:O,fileRejections:D,type:"setFiles"}),g&&g(O,D,h),D.length>0&&m&&m(D,h),O.length>0&&d&&d(O,h)},[_,a,N,s,o,l,g,d,m,Q]),J=y.useCallback(function(f){f.preventDefault(),f.persist(),Z(f),M.current=[],re(f)&&Promise.resolve(i(f)).then(function(h){te(f)&&!P||Y(h,f)}).catch(function(h){return I(h)}),_({type:"reset"})},[i,Y,I,P]),z=y.useCallback(function(){if(G.current){_({type:"openDialog"}),ce();var f={multiple:a,types:Pe};window.showOpenFilePicker(f).then(function(h){return i(h)}).then(function(h){Y(h,null),_({type:"closeDialog"})}).catch(function(h){An(h)?(q(h),_({type:"closeDialog"})):kn(h)?(G.current=!1,k.current?(k.current.value=null,k.current.click()):I(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):I(h)});return}k.current&&(_({type:"openDialog"}),ce(),k.current.value=null,k.current.click())},[_,ce,q,j,Y,I,Pe,a]),$e=y.useCallback(function(f){!C.current||!C.current.isEqualNode(f.target)||(f.key===" "||f.key==="Enter"||f.keyCode===32||f.keyCode===13)&&(f.preventDefault(),z())},[C,z]),Ke=y.useCallback(function(){_({type:"focus"})},[]),Qe=y.useCallback(function(){_({type:"blur"})},[]),Ne=y.useCallback(function(){Fe||(Dn()?setTimeout(z,0):z())},[Fe,z]),B=function(h){return n?null:h},fe=function(h){return se?null:B(h)},X=function(h){return Te?null:B(h)},Z=function(h){P&&h.stopPropagation()},Ar=y.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.refKey,O=h===void 0?"ref":h,D=f.role,S=f.onKeyDown,U=f.onFocus,H=f.onBlur,pe=f.onClick,de=f.onDragEnter,ve=f.onDragOver,ee=f.onDragLeave,he=f.onDrop,ge=oe(f,Fn);return w(w(Se({onKeyDown:fe(x(S,$e)),onFocus:fe(x(U,Ke)),onBlur:fe(x(H,Qe)),onClick:B(x(pe,Ne)),onDragEnter:X(x(de,ze)),onDragOver:X(x(ve,Be)),onDragLeave:X(x(ee,He)),onDrop:X(x(he,J)),role:typeof D=="string"&&D!==""?D:"presentation"},O,C),!n&&!se?{tabIndex:0}:{}),ge)}},[C,$e,Ke,Qe,Ne,ze,Be,He,J,se,Te,n]),kr=y.useCallback(function(f){f.stopPropagation()},[]),xr=y.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.refKey,O=h===void 0?"ref":h,D=f.onChange,S=f.onClick,U=oe(f,Tn),H=Se({accept:N,multiple:a,type:"file",style:{display:"none"},onChange:B(x(D,J)),onClick:B(x(S,kr)),tabIndex:-1},O,k);return w(w({},H),U)}},[k,t,a,J,n]);return w(w({},le),{},{isFocused:Sr&&!n,getRootProps:Ar,getInputProps:xr,rootRef:C,inputRef:k,open:B(z)})}function Kn(e,r){switch(r.type){case"focus":return w(w({},e),{},{isFocused:!0});case"blur":return w(w({},e),{},{isFocused:!1});case"openDialog":return w(w({},Ae),{},{isFileDialogActive:!0});case"closeDialog":return w(w({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return w(w({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return w(w({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return w({},Ae);default:return e}}function ir(){}var ke=globalThis&&globalThis.__assign||function(){return ke=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ke.apply(this,arguments)},Dr={onActivate:u.func,onAddUndo:u.func,onBeforeAddUndo:u.func,onBeforeExecCommand:u.func,onBeforeGetContent:u.func,onBeforeRenderUI:u.func,onBeforeSetContent:u.func,onBeforePaste:u.func,onBlur:u.func,onChange:u.func,onClearUndos:u.func,onClick:u.func,onContextMenu:u.func,onCommentChange:u.func,onCopy:u.func,onCut:u.func,onDblclick:u.func,onDeactivate:u.func,onDirty:u.func,onDrag:u.func,onDragDrop:u.func,onDragEnd:u.func,onDragGesture:u.func,onDragOver:u.func,onDrop:u.func,onExecCommand:u.func,onFocus:u.func,onFocusIn:u.func,onFocusOut:u.func,onGetContent:u.func,onHide:u.func,onInit:u.func,onKeyDown:u.func,onKeyPress:u.func,onKeyUp:u.func,onLoadContent:u.func,onMouseDown:u.func,onMouseEnter:u.func,onMouseLeave:u.func,onMouseMove:u.func,onMouseOut:u.func,onMouseOver:u.func,onMouseUp:u.func,onNodeChange:u.func,onObjectResizeStart:u.func,onObjectResized:u.func,onObjectSelected:u.func,onPaste:u.func,onPostProcess:u.func,onPostRender:u.func,onPreProcess:u.func,onProgressState:u.func,onRedo:u.func,onRemove:u.func,onReset:u.func,onSaveContent:u.func,onSelectionChange:u.func,onSetAttrib:u.func,onSetContent:u.func,onShow:u.func,onSubmit:u.func,onUndo:u.func,onVisualAid:u.func,onSkinLoadError:u.func,onThemeLoadError:u.func,onModelLoadError:u.func,onPluginLoadError:u.func,onIconsLoadError:u.func,onLanguageLoadError:u.func,onScriptsLoad:u.func,onScriptsLoadError:u.func},Qn=ke({apiKey:u.string,id:u.string,inline:u.bool,init:u.object,initialValue:u.string,onEditorChange:u.func,value:u.string,tagName:u.string,cloudChannel:u.string,plugins:u.oneOfType([u.string,u.array]),toolbar:u.oneOfType([u.string,u.array]),disabled:u.bool,textareaName:u.string,tinymceScriptSrc:u.oneOfType([u.string,u.arrayOf(u.string),u.arrayOf(u.shape({src:u.string,async:u.bool,defer:u.bool}))]),rollback:u.oneOfType([u.number,u.oneOf([!1])]),scriptLoading:u.shape({async:u.bool,defer:u.bool,delay:u.number})},Dr),Ee=function(e){return typeof e=="function"},ar=function(e){return e in Dr},sr=function(e){return e.substr(2)},Nn=function(e,r,t,n,i,o,s){var a=Object.keys(i).filter(ar),l=Object.keys(o).filter(ar),c=a.filter(function(p){return o[p]===void 0}),v=l.filter(function(p){return i[p]===void 0});c.forEach(function(p){var g=sr(p),d=s[g];t(g,d),delete s[g]}),v.forEach(function(p){var g=n(e,p),d=sr(p);s[d]=g,r(d,g)})},Un=function(e,r,t,n,i){return Nn(i,e.on.bind(e),e.off.bind(e),function(o,s){return function(a){var l;return(l=o(s))===null||l===void 0?void 0:l(a,e)}},r,t,n)},ur=0,Cr=function(e){var r=Date.now(),t=Math.floor(Math.random()*1e9);return ur++,e+"_"+t+ur+String(r)},cr=function(e){return e!==null&&(e.tagName.toLowerCase()==="textarea"||e.tagName.toLowerCase()==="input")},lr=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},Wn=function(e,r){return lr(e).concat(lr(r))},Vn=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},qn=function(e){if(!("isConnected"in Node.prototype)){for(var r=e,t=e.parentNode;t!=null;)r=t,t=r.parentNode;return r===e.ownerDocument}return e.isConnected},fr=function(e,r){e!==void 0&&(e.mode!=null&&typeof e.mode=="object"&&typeof e.mode.set=="function"?e.mode.set(r):e.setMode(r))},xe=globalThis&&globalThis.__assign||function(){return xe=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},xe.apply(this,arguments)},Gn=function(e,r,t){var n,i,o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=r.id,o.src=r.src,o.async=(n=r.async)!==null&&n!==void 0?n:!1,o.defer=(i=r.defer)!==null&&i!==void 0?i:!1;var s=function(){o.removeEventListener("load",s),o.removeEventListener("error",a),t(r.src)},a=function(l){o.removeEventListener("load",s),o.removeEventListener("error",a),t(r.src,l)};o.addEventListener("load",s),o.addEventListener("error",a),e.head&&e.head.appendChild(o)},Yn=function(e){var r={},t=function(s,a){var l=r[s];l.done=!0,l.error=a;for(var c=0,v=l.handlers;c<v.length;c++){var p=v[c];p(s,a)}l.handlers=[]},n=function(s,a,l){var c=function(F){return l!==void 0?l(F):console.error(F)};if(s.length===0){c(new Error("At least one script must be provided"));return}for(var v=0,p=!1,g=function(F,L){p||(L?(p=!0,c(L)):++v===s.length&&a())},d=0,m=s;d<m.length;d++){var b=m[d],A=r[b.src];if(A)A.done?g(b.src,A.error):A.handlers.push(g);else{var j=Cr("tiny-");r[b.src]={id:j,src:b.src,done:!1,error:null,handlers:[g]},Gn(e,xe({id:j},b),t)}}},i=function(){for(var s,a=0,l=Object.values(r);a<l.length;a++){var c=l[a],v=e.getElementById(c.id);v!=null&&v.tagName==="SCRIPT"&&((s=v.parentNode)===null||s===void 0||s.removeChild(v))}r={}},o=function(){return e};return{loadScripts:n,deleteScripts:i,getDocument:o}},Jn=function(){var e=[],r=function(i){var o=e.find(function(s){return s.getDocument()===i});return o===void 0&&(o=Yn(i),e.push(o)),o},t=function(i,o,s,a,l){var c=function(){return r(i).loadScripts(o,a,l)};s>0?setTimeout(c,s):c()},n=function(){for(var i=e.pop();i!=null;i=e.pop())i.deleteScripts()};return{loadList:t,reinitialize:n}},Xn=Jn(),we=function(e){var r=e;return r&&r.tinymce?r.tinymce:null},Zn=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ie=globalThis&&globalThis.__assign||function(){return ie=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ie.apply(this,arguments)},et=function(e){Zn(r,e);function r(t){var n=this,i,o,s;return n=e.call(this,t)||this,n.rollbackTimer=void 0,n.valueCursor=void 0,n.rollbackChange=function(){var a=n.editor,l=n.props.value;a&&l&&l!==n.currentContent&&a.undoManager.ignore(function(){if(a.setContent(l),n.valueCursor&&(!n.inline||a.hasFocus()))try{a.selection.moveToBookmark(n.valueCursor)}catch{}}),n.rollbackTimer=void 0},n.handleBeforeInput=function(a){if(n.props.value!==void 0&&n.props.value===n.currentContent&&n.editor&&(!n.inline||n.editor.hasFocus()))try{n.valueCursor=n.editor.selection.getBookmark(3)}catch{}},n.handleBeforeInputSpecial=function(a){(a.key==="Enter"||a.key==="Backspace"||a.key==="Delete")&&n.handleBeforeInput(a)},n.handleEditorChange=function(a){var l=n.editor;if(l&&l.initialized){var c=l.getContent();n.props.value!==void 0&&n.props.value!==c&&n.props.rollback!==!1&&(n.rollbackTimer||(n.rollbackTimer=window.setTimeout(n.rollbackChange,typeof n.props.rollback=="number"?n.props.rollback:200))),c!==n.currentContent&&(n.currentContent=c,Ee(n.props.onEditorChange)&&n.props.onEditorChange(c,l))}},n.handleEditorChangeSpecial=function(a){(a.key==="Backspace"||a.key==="Delete")&&n.handleEditorChange(a)},n.initialise=function(a){var l,c,v;a===void 0&&(a=0);var p=n.elementRef.current;if(p){if(!qn(p)){if(a===0)setTimeout(function(){return n.initialise(1)},1);else if(a<100)setTimeout(function(){return n.initialise(a+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var g=we(n.view);if(!g)throw new Error("tinymce should have been loaded into global scope");var d=ie(ie({},n.props.init),{selector:void 0,target:p,readonly:n.props.disabled,inline:n.inline,plugins:Wn((l=n.props.init)===null||l===void 0?void 0:l.plugins,n.props.plugins),toolbar:(c=n.props.toolbar)!==null&&c!==void 0?c:(v=n.props.init)===null||v===void 0?void 0:v.toolbar,setup:function(m){n.editor=m,n.bindHandlers({}),n.inline&&!cr(p)&&m.once("PostRender",function(b){m.setContent(n.getInitialValue(),{no_events:!0})}),n.props.init&&Ee(n.props.init.setup)&&n.props.init.setup(m)},init_instance_callback:function(m){var b,A,j=n.getInitialValue();n.currentContent=(b=n.currentContent)!==null&&b!==void 0?b:m.getContent(),n.currentContent!==j&&(n.currentContent=j,m.setContent(j),m.undoManager.clear(),m.undoManager.add(),m.setDirty(!1));var F=(A=n.props.disabled)!==null&&A!==void 0?A:!1;fr(n.editor,F?"readonly":"design"),n.props.init&&Ee(n.props.init.init_instance_callback)&&n.props.init.init_instance_callback(m)}});n.inline||(p.style.visibility=""),cr(p)&&(p.value=n.getInitialValue()),g.init(d)}},n.id=n.props.id||Cr("tiny-react"),n.elementRef=y.createRef(),n.inline=(s=(i=n.props.inline)!==null&&i!==void 0?i:(o=n.props.init)===null||o===void 0?void 0:o.inline)!==null&&s!==void 0?s:!1,n.boundHandlers={},n}return Object.defineProperty(r.prototype,"view",{get:function(){var t,n;return(n=(t=this.elementRef.current)===null||t===void 0?void 0:t.ownerDocument.defaultView)!==null&&n!==void 0?n:window},enumerable:!1,configurable:!0}),r.prototype.componentDidUpdate=function(t){var n=this,i,o;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(t),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==t.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var s=this.editor;s.undoManager.transact(function(){var l;if(!n.inline||s.hasFocus())try{l=s.selection.getBookmark(3)}catch{}var c=n.valueCursor;if(s.setContent(n.props.value),!n.inline||s.hasFocus())for(var v=0,p=[l,c];v<p.length;v++){var g=p[v];if(g)try{s.selection.moveToBookmark(g),n.valueCursor=g;break}catch{}}})}if(this.props.disabled!==t.disabled){var a=(o=this.props.disabled)!==null&&o!==void 0?o:!1;fr(this.editor,a?"readonly":"design")}}},r.prototype.componentDidMount=function(){var t=this,n,i,o,s,a;if(we(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(n=this.props).onScriptsLoadError)===null||i===void 0||i.call(n,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((o=this.elementRef.current)===null||o===void 0)&&o.ownerDocument){var l=function(){var v,p;(p=(v=t.props).onScriptsLoad)===null||p===void 0||p.call(v),t.initialise()},c=function(v){var p,g;(g=(p=t.props).onScriptsLoadError)===null||g===void 0||g.call(p,v)};Xn.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(a=(s=this.props.scriptLoading)===null||s===void 0?void 0:s.delay)!==null&&a!==void 0?a:0,l,c)}},r.prototype.componentWillUnmount=function(){var t=this,n=this.editor;n&&(n.off(this.changeEvents(),this.handleEditorChange),n.off(this.beforeInputEvent(),this.handleBeforeInput),n.off("keypress",this.handleEditorChangeSpecial),n.off("keydown",this.handleBeforeInputSpecial),n.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){n.off(i,t.boundHandlers[i])}),this.boundHandlers={},n.remove(),this.editor=void 0)},r.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},r.prototype.changeEvents=function(){var t,n,i,o=(i=(n=(t=we(this.view))===null||t===void 0?void 0:t.Env)===null||n===void 0?void 0:n.browser)===null||i===void 0?void 0:i.isIE();return o?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},r.prototype.beforeInputEvent=function(){return Vn()?"beforeinput SelectionChange":"SelectionChange"},r.prototype.renderInline=function(){var t=this.props.tagName,n=t===void 0?"div":t;return y.createElement(n,{ref:this.elementRef,id:this.id})},r.prototype.renderIframe=function(){return y.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},r.prototype.getScriptSources=function(){var t,n,i=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.async,o=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:o}]:this.props.tinymceScriptSrc.map(function(c){return typeof c=="string"?{src:c,async:i,defer:o}:c});var s=this.props.cloudChannel,a=this.props.apiKey?this.props.apiKey:"no-api-key",l="https://cdn.tiny.cloud/1/".concat(a,"/tinymce/").concat(s,"/tinymce.min.js");return[{src:l,async:i,defer:o}]},r.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},r.prototype.bindHandlers=function(t){var n=this;if(this.editor!==void 0){Un(this.editor,t,this.props,this.boundHandlers,function(a){return n.props[a]});var i=function(a){return a.onEditorChange!==void 0||a.value!==void 0},o=i(t),s=i(this.props);!o&&s?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):o&&!s&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},r.propTypes=Qn,r.defaultProps={cloudChannel:"6"},r}(y.Component);const ct=({initContent:e,getContent:r})=>Rr.jsx(et,{apiKey:"df4xfwysyt7xdzreywi9m58z5jpaj5ke6cwff4zgobsp54ru",init:{placeholder:"Nhập mô tả sản phẩm",height:600,plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",images_file_types:"jpg,jpeg,png,webp",file_picker_types:"image",file_picker_callback:(t,n,i)=>{const o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.addEventListener("change",s=>{var c;const a=(c=s.target)==null?void 0:c.files[0],l=new FileReader;l.addEventListener("load",()=>{var m;const v="blobid"+new Date().getTime(),p=tinymce.activeEditor.editorUpload.blobCache,g=(m=l.result)==null?void 0:m.split(",")[1],d=p.create(v,a,g);p.add(d),t(d.blobUri(),{title:a.name})}),l.readAsDataURL(a)}),o.click()}},initialValue:e??"",onEditorChange:(t,n)=>r(t)}),lt=async e=>await Lr(`${T.endpoint}/product`,e,{Authorization:`Bearer ${ae(T.cache.accessToken)}`}),ft=async e=>await Mr(`${T.endpoint}/product/${e.id}`,e.payload,{Authorization:`Bearer ${ae(T.cache.accessToken)}`});export{ct as T,at as a,ut as b,ft as c,lt as d,st as g,$n as u};
